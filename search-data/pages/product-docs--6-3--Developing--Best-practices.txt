---
title: "Best practices"
url: https://docs.magnolia-cms.com/product-docs/6.3/Developing/Best-practices/
category: Magnolia 6.3
version: 6.3
breadcrumb: DX Core > Developing > Best practices
---

# Best practices

A best practice is a way of working that consistently yields better results. Best practices save time and effort and result in more maintainable projects.

## [](#_administration)Administration

### [](#_disk_space)Disk space

We recommend that you allocate at least 50GB of disk space for an author instance and 25GB for a public instance.

See [Disk space](../../Getting-started-with-Magnolia/Installing-Magnolia/Disk-space/)

## [](#_apps)Apps

### [](#_changing_the_location_in_the_app_ui)Changing the location in the app UI

See [Location, location, location](../../Apps/Developing-an-app/Specific-aspects/Location-location-location/)

### [](#_add_a_container_instance_in_your_contentconnector)Add a Container instance in your ContentConnector

Make the Container instance available in your ContentConnector. This makes it easier to implement item and itemId related methods. This works only if you have only one Container per subapp. If you need more Containers you must decouple the Container and the ContentConnector.

See [Content app framework](#6.2@product-docs:ROOT:Support/Magnolia-5-UI-documentation/Content-apps-5-UI/Content-app-framework-5-UI.adoc)

### [](#_displaying_content_stored_in_apps)Displaying content stored in apps

See [Search](../../use-cases/search-and-discovery/)

### [](#_define_as_a_component_anything_that_is_likely_to_change)Define as a component anything that is likely to change

Defining something as a component allows other developers to quickly change the implementation. For this reason, you should define anything that is likely to be changed or customized later as a component. For example, define your apps and subapps as components. Views are also common customization points so define the views returned by subapps as components. Any components you define are available for injection. This is also true for components further up the hierarchy in parent components.

Examples

-   [Defining an app or subapp as a component](../../Apps/Developing-an-app/General-aspects/Programming-an-app/)

-   [Write your own views](../../Apps/Developing-an-app/Specific-aspects/Customizing-an-app/)


## [](#_fields)Fields

### [](#_use_delegating_field_transformers)Use delegating field transformers

The delegating transformer classes should be your first choice since they are the most versatile. If you can, use `DelegatingCompositeFieldTransformer` or `DelegatingMultiValueFieldTransformer` rather than the other available classes.

See [Transforming field values](#6.2@product-docs:ROOT:Support/Magnolia-5-UI-documentation/Dialog-definition-5-UI/Field-definition-5-UI/Transforming-field-values-5-UI.adoc)

## [](#_forms)Forms

### [](#_checking_for_null_values)Checking for null values

See [Field validators](../Templating/Dialog-definition/Field-definition/Field-validators/)

## [](#_internal_linking)Internal linking

Implementing internal links in Magnolia involves deciding how to resolve and handle links between nodes in the JCR repository. Each approach, `JcrNodeToPathConverter`, `JcrNodeToIdConverter`, or relying on the Magnolia core templating functions, offers unique advantages and trade offs depending on project requirements.

See [Internal linking best practices](../best-practices/internal-linking/) for more details.

| üìÅ server |  |
| --- | --- |
| üìÅ filters |  |
| üìÅ HeaderFilterOne |  |
| ‚¨© class | info.magnolia.cms.filters.AddHeadersFilter |
| ‚¨© enabled | true |
| üìÅ headers |  |
| ‚¨© Content-Security-Policy | default-src `self' `unsafe-inline' `unsafe-eval' [https://ga-dev-tools.appspot.com](https://ga-dev-tools.appspot.com) [https://apis.google.com](https://apis.google.com) [https://www.google.com](https://www.google.com) [https://content.googleapis.com](https://content.googleapis.com) [https://ajax.googleapis.com](https://ajax.googleapis.com) ; img-src `self' data:; |

## [](#_language)Language

### [](#_provide_a_message_bundle)Provide a message bundle

With [message bundles](../../Administration/Language/Internationalization/) a translator can work with a plain text file and doesn‚Äôt need to touch the code.

See [Internationalization](../../Administration/Language/Internationalization/)

### [](#_use_utf_8)Use UTF-8

Magnolia requires everyone to use UTF-8 character encoding in `.properties` files.

See [Internationalization](../../Administration/Language/Internationalization/)

### [](#_avoid_hard_coded_strings)Avoid hard-coded strings

Avoid hard-coded strings exposed to visitors, editors or administrators. Always allow localization of texts displayed on the website and in Magnolia Shell.

See [Types of translatable text](../../Administration/Language/Types-of-translatable-text/)

See [Types of translatable text](../../Administration/Language/Types-of-translatable-text/)

## [](#_modules)Modules

### [](#_create_your_own_webapp)Create your own webapp

To create a custom Magnolia webapp, always start with a *preconfigured* Magnolia webapp.

Use the `properties` section to define versions. The section may the serve as a central part for organizing all versions required by your project.

See [Creating a custom webapp with Maven](../Bundles-and-webapps/Creating-a-custom-webapp-with-Maven/)

### [](#_create_separate_modules_for_templates_content_and_resources)Create separate modules for templates, content and resources

When you are creating a website project, you should have one module for templates, another module for content, a third for a theme and so on.

See [Modules](../../Modules/)

## [](#_multisite)Multisite

### [](#_author_domain)Author domain

In a multisite setup with one Magnolia installation, you assign multiple domains to the public instance. However, it is sufficient and recommended to have only one domain pointing to your author instance. The domain of the author instance is different from the domains of the public instance.

### [](#_site_definition_name_and_handle_prefix)Site definition name and handle prefix

Use different values for the `site-definition-name` and the name of the mapped node (`handlePrefix`).

### [](#_turn_off_domains_and_mappings_inheritance)Turn off domains and mappings inheritance

When extending site definitions, turn off inheritance for `mapping` and `domains` by using `@extends=override`.

### [](#_disable_the_uri_starts_with_sitename_rule_on_the_public_context)Disable the uri-starts-with-sitename rule on the public context

Disable the `uri-starts-with-sitename` rule in the public context.

Add an additional voter AdminOnlyMatcher to the rule. This way you can use the same configuration on both the author and public instances.

See [How to use Multisite](../Templating/Site-definition/How-to-use-Multisite/)

## [](#_personalization)Personalization

### [](#_create_traits_that_have_a_clear_set_of_allowed_values)Create traits that have a clear set of allowed values

Every trait has inherent allowed values. For example, locations are countries, ages are numbers, and genders are either male or female. Create traits that have a clear set of allowed values. Traits that have vague values are difficult to detect and assign. Also, make sure the trait applies to the majority of your audience. "New vs. returning visitor" is a good trait because the values are easy to detect and it applies to every visitor.

See [Personalization](../../use-cases/Personalization/)

### [](#_create_a_segment_only_when_you_know_your_audience_well)Create a segment only when you know your audience well

Create a segment only when you know your audience well and have targeted at least one successful campaign to them using local rules. Visitors who share a combination of traits are good candidates for segmentation if they respond well to personalization. For example, add visitors who previously bought a product to a "Previous buyers" segment and offer them a discount as a reward for return business. Segmentation helps you repeat successful personalization experiments. Start with local rules, move to segmentation later.

See [Personalization](../../use-cases/Personalization/)

## [](#_resources)Resources

### [](#_use_a_dedicated_css_pre_processor)Use a dedicated CSS pre-processor

See [Resources](../Resources/)

## [](#_rest)REST

### [](#_delivery_api_response_time_and_performance)Delivery API response time and performance

Following these best practices help improve the response times and performance for the Delivery API.

1.  **Minimize references.**

    Using reference resolvers can impact the response times significantly. If the data contains a lot of referenced properties, the request processing times may be considerably longer.

2.  **Minimize asset renditions.**

    Each asset rendition config added to the endpoint definition increases the request processing overhead regardless of whether the asset renditions do or do not exist.

3.  **Minimize response size.**

    A large response can take longer to generate and return.

4.  **Minimize the value of the `depth` property.**

    Extra but unnecessary depths configured may have a major impact on response times. Even just one extra depth level can have an adverse effect on the responsiveness of the endpoint.

    For example, setting `depth` to `4` may take five seconds to process, whereas `depth: 5` could easily increase it to twenty seconds.

    When needing to retrieve a hierarchical collection of nodes such as to build a sitemap, a navigation, or to represent the hierarchy of content in a content app, consider retrieving just one or two depths of content at once, and then making further requests as necessary.

5.  **Adjust the caching configuration.**

    Using cache can boost the performance of your endpoint. The default cache response threshold value is `500`. This means that responses for data larger than 500 kilobytes are not cached.

    If your endpoint will be handling much larger chunks of data, consider modifying the `cacheResponseThreshold` property accordingly. For more details, see [cache threshold](../../Modules/List-of-modules/Cache-modules/Cache-core/#_cache_threshold).


## [](#_security)Security

### [](#_create_an_app_group_for_your_own_apps)Create an app group for your own apps

Create a new app group for your own apps, especially if you have multiple apps. This approach is better than placing your apps in the native Magnolia groups. A dedicated group gives your organization‚Äôs apps an identity and makes them instantly recognizable.

See [App permissions](../../Administration/IAM/App-permissions/)

### [](#_provision_apps_only_to_users_who_need_them)Provision apps only to users who need them

Provision apps only to users who actually need them. This ensures that the app launcher stays uncluttered and users find apps quickly.

See [App permissions](../../Administration/IAM/App-permissions/)

### [](#_ldap_groups)LDAP groups

When you store groups in LDAP, create one matching group per role in Magnolia. Assign roles to the group in Magnolia in order to grant users the permissions they need. This minimizes the number of groups you need to create in Magnolia.

See [Group resolving](../../Modules/List-of-modules/LDAP-Connector-module/)

## [](#_separate_message_bundles)Separate message bundles

Create separate message bundles for user interface labels and template labels. Don‚Äôt store these two groups of text in the same properties files or message bundles. They are aimed at different audiences and have different localization requirements.

**Example**: Message files in the Travel Demo

-   [`module-travel-demo-backend_en.properties`]({repo-travelDemo}) (user interface labels)

-   [`module-travel-demo-frontend_en.properties`]({repo-travelDemo}) (template labels)


## [](#_workflow_and_tasks)Workflow and tasks

### [](#_dont_use_tasks_for_non_human_workflows)Don‚Äôt use tasks for non-human workflows

Do not use tasks if you don‚Äôt have any human activity in your workflow. They are great for humans but unnecessary for operations that only involve the system itself.

See [Tasks](../../Features/Tasks/)

### [](#_configure_your_content_staging_instance_as_a_public_instance)Configure your content staging instance as a public instance

Configure your content staging instance as a public instance so that users cannot edit pages on it. The Pages app does not display the green edit bars on public instances. You typically don‚Äôt want reviewers to change content on the staging instance. While reviewers may need permission to log into the AdminCentral to review functionality such as new apps, they should not edit pages. The staging instance is intended for testing and approving only. If something is not correct, fix it on the author instance and publish again to staging for another test.

See [Content staging](../../Administration/Instances/Content-staging/)
