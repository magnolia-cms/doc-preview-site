---
title: "Configuring plugins"
url: https://docs.magnolia-cms.com/magnolia-cli/plugins/configuring-plugins/
category: CLI
version: general
breadcrumb: Magnolia CLI > Plugins > Configuring plugins
---

# Configuring plugins

Magnolia CLI comes with a default configuration you can override by placing the `mgnl.config.js` file in the project directory. Use this file to:

-   import and initialize custom plugins

-   customize the logger

-   manage CLI usage analytics


Basic `mgnl.config.js` structure:

```js
export default {
  plugins: [],
  logger: {
    filename: "./mgnl.error.log",
    fileLevel: "warn",
    consoleLevel: "debug"
  },
  analytics: {
    enabled: true,
    uuid: "<random-projects-uuid-v4>"
  }
};
```

## [](#_the_plugins_property)The `plugins` property

The `plugins` property allows you to handle the plugins. In the following example, the property is used to add the `cli-foo-plugin` to the CLI.

```js
import FooPlugin from "cli-foo-plugin";

export default {
  plugins: [
    new FooPlugin()
  ],
  ...
};
```

## [](#_the_logger_property)The `logger` property

The `logger` property allows you to modify the CLI logging behavior for both the CLI and its plugins.

You can customize your logging preferences as follows:

-   Adjust the log file’s name using the `filename` property.

-   Set the logging levels for:

    -   **files**, by updating the `fileLevel` property,

    -   **the console**, by updating the `consoleLevel` property.

        > **Tip:** For more details about logging levels, see the winston npm package and its documentation.



```js
export default {
  logger: {
    filename: "./mgnl.error.log",
    fileLevel: "warn",
    consoleLevel: "debug"
  },
  ...
};
```

## [](#_the_analytics_property)The `analytics` property

With the `analytics` property, you can enable or disable anonymous analytics collection. By allowing it you help us improve the CLI and the plugins. For more details about what information is collected, see the [Analytics](../../getting-started/analytics/) page.

```js
export default {
  analytics: {
    enabled: true,
    uuid: "<random-projects-uuid-v4>"
  },
  ...
};
```

## [](#_global_and_plugin_properties)Global and plugin properties

> **Note:** To function correctly, plugins may:Prompt you for values of required properties, if not already set and present in mgnl.config.js.Save those properties to the configuration file.Prompt you again if the properties are later removed from the configuration file.For more details about the required properties, see the respective plugin documentation page.

### [](#_global)Global

Some plugin properties are accessible to more plugins, they are global in this sense. For example:

-   `lightModulesPath` - the path to all light modules

-   `lightModule` - a specific light module you want to work with


Therefore, these properties can be set in `mgnl.config.js` and each plugin loads them then.

#### [](#_example)Example

If the `mgnl.config.js` file contains the following,

```js
import CreateContentTypePlugin from "@magnolia/cli-create-content-type-plugin";
import CreateAppPlugin from "@magnolia/cli-create-app-plugin";

export default {
  lightModulesPath: './light-modules',
  lightModule: 'my-lm',
  plugins: [
    new CreateContentTypePlugin(),
    new CreateAppPlugin()
  ],
  ...
};
```

and you run the `create-app` command,

```console
npm run mgnl -- create-app "my-app"
```

> **Caution:** Windows users using PowerShell must enclose the two consecutive hyphens (--) in quotes:npm run mgnl "--" ...

a new `my-app` is created in the `./light-modules/my-lm` directory.

### [](#_plugin)Plugin

Some plugins allow you to pass arguments when the plugin is initialized, for example:

-   `tomcatPath` in the [Start plugin](../available-plugins/start-plugin/) - sets the path of the Apache Tomcat with a Magnolia webapp


#### [](#_example_2)Example

mgnl.config.js

```js
import StartPlugin from "@magnolia/cli-start-plugin";

export default {
  lightModulesPath: './light-modules',
  lightModule: 'my-lm',
  plugins: [
    new StartPlugin({
      tomcatPath: './magnolia/apache-tomcat'
    }),
  ],
  ...
};
```

If you run,

```console
npm run mgnl -- start
```

> **Caution:** Windows users using PowerShell must enclose the two consecutive hyphens (--) in quotes:npm run mgnl "--" ...

Apache Tomcat located in the `./magnolia/apache-tomcat` directory starts.

You can override a plugin’s argument with an option, for example:

```console
npm run mgnl -- start --tomcat-path './apache-tomcat'
```

> **Caution:** Windows users using PowerShell must enclose the two consecutive hyphens (--) in quotes:npm run mgnl "--" ...

Tomcat will start from `./apache-tomcat` and the value will be updated in the `mgnl.config.js` file.

## [](#_value_priorities)Value priorities

The priority of values is set as follows, from the highest to the lowest:

1.  **option value** - a value provided by an option (`-plugin-option option-value`), for example:

    ```console
    npm run mgnl -- create-app "my-app" --light-module 'my-lm3'
    ```

    > **Caution:** Windows users using PowerShell must enclose the two consecutive hyphens (--) in quotes:npm run mgnl "--" ...

    It has the highest priority and overrides/sets the value in the `mgnl.config.js` file.

2.  **plugin argument** - a value set in the `mgnl.config.js` file in the plugin, for example:

    ```js
    import CreateAppPlugin from "@magnolia/cli-create-app-plugin";

    export default {
      ...
      plugins: [
        new CreateAppPlugin({
          lightModule: 'my-lm-2'
        })
      ],
      ...
    };
    ```

3.  **global argument** - a global value set in the `mgnl.config.js` file:

    ```js
    export default {
      lightModule: 'my-lm',
      ...
    };
    ```


### [](#_examples)Examples

mgnl.config.js

```js
import CreateApp from "@magnolia/cli-create-app-plugin";

export default {
  lightModulesPath: './light-modules',
  lightModule: 'my-lm',
  plugins: [
    new CreateApp({
      lightModule: 'my-lm-2'
    })
  ],
  ...
};
```

1.  **Using an option**

    Running following command

    ```console
    npm run mgnl -- create-app "my-app" --light-module "my-lm-3"
    ```

    > **Caution:** Windows users using PowerShell must enclose the two consecutive hyphens (--) in quotes:npm run mgnl "--" ...

    generates a new `my-app` in `./light-modules/my-lm-3`, and also overrides `my-lm-2` with `my-lm-3` in the `mgnl.config.js` file.

2.  **Using a plugin argument**

    Running following command

    ```console
    npm run mgnl -- create-app "my-app"
    ```

    > **Caution:** Windows users using PowerShell must enclose the two consecutive hyphens (--) in quotes:npm run mgnl "--" ...

    generates a new `my-app` in `./light-modules/my-lm-2` Because the `lightModule: 'my-lm-2'` is set in the CreateApp plugin argument in the `mgnl.config.js` file.

3.  **Using a global argument**

    If you remove the `lightModule: 'my-lm-2'` part from the CreateApp plugin argument in `mgnl.config.js` and execute

    ```console
    npm run mgnl -- create-app "my-app"
    ```

    > **Caution:** Windows users using PowerShell must enclose the two consecutive hyphens (--) in quotes:npm run mgnl "--" ...

    a new `my-app` is created in `./light-modules/my-lm` because `lightModule: 'my-lm'` is set as a global argument in `mgnl.config.js`.
