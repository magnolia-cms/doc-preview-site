---
title: "Language configuration"
url: https://docs.magnolia-cms.com/product-docs/Administration/Language/Language-configuration/
category: Magnolia 6.4
version: latest
breadcrumb: DX Core > Administration > Language > Language configuration
---

# Language configuration

Magnolia CMS provides comprehensive multilanguage support for both the AdminCentral interface and website content. Key features include:

-   System language configuration

-   User interface language preferences

-   Multilanguage content creation and management

-   Content storage and URL strategies for localized content

-   UTF-8 support for international character sets


Language configuration operates at multiple levels, from individual user preferences to system-wide settings and site-specific configurations. Understanding these different aspects helps you implement an effective multilanguage strategy for your Magnolia projects.

## [](#_configure_system_languages)Configure system languages

Magnolia supports multiple system languages for the administration interface and other system components.

### [](#_available_system_languages)Available system languages

System languages are configured in **Configuration** > `/server/i18n/system`. Each locale has `language` and `country` properties that define the locale when combined. This allows you to define regional variations such as `zh-TW` for traditional Chinese or `pt-BR` for Brazilian Portuguese.

server:
  i18n:
    system:
      fallbackLanguage: en
      languages:
        en:
          country:
          enabled: true
          language: en
        pt:
          country:
          enabled: true
          language: pt
        pt\_BR:
          country: BR
          enabled: true
          language: pt
        zh\_CN:
          country: CN
          enabled: true
          language: zh
        zh\_TW:
          country: TW
          enabled: true
          language: zh

> **Note:** From Magnolia 6.2.4, both Java 8 and Java 7 locale IDs are supported in configuration.

### [](#_fallback_language)Fallback language

One language is designated as the *fallback* language. If no content is available in the target language, Magnolia displays content in the fallback language (`en` in the example above).

## [](#_configure_user_interface_language_preferences)Configure user interface language preferences

Magnolia allows users to set their preferred language for the user interface. This setting is stored in the user profile and applies to the AdminCentral interface.

### [](#_set_an_editors_language_preference)Set an editor’s language preference

To set a user’s language preference:

1.  Open the Security app (**Apps > Security**).

2.  Select the user profile you wish to edit.

3.  Click **Edit user**.

4.  Select a language from the **Language** dropdown.


Your browser does not support the video tag.

> **Note:** When the user signs in the next time, the UI is displayed in their preferred language.

## [](#_set_up_multilanguage_content)Set up multilanguage content

This section explains how to enable and configure multilanguage content for your website.

### [](#_enable_multilanguage_content)Enable multilanguage content

To enable multilanguage content:

1.  Configure the `I18NAuthoringSupport` implementation to support multilanguage editing. See [Configure I18nAuthoringSupport](#_configure_i18nauthoringsupport).

2.  Set `i18n: true` in form fields to allow multilanguage content entry. See [Set i18n to true in form fields](#_set_i18n_to_true_in_form_fields).

3.  Set `i18n: true` in content type properties for multilanguage content types. See [Set i18n to true in content type properties](#_set_i18n_to_true_in_content_type_properties).

4.  Define locales in the site configuration to specify available languages. See [Define locales for the site](#_define_locales_for_the_site).


### [](#_configure_i18nauthoringsupport)Configure I18nAuthoringSupport

In Magnolia 6.3, the `I18NAuthoringSupport` interface, which controls multilanguage authoring, is configured in a module descriptor instead of JCR at `/server/i18n/authoring`. For example, the `magnolia-module-multisite-jcr` module defines:

```xml
<component>
  <type>info.magnolia.ui.api.i18n.I18NAuthoringSupport</type>
  <implementation>info.magnolia.multisite.i18n.MultiSiteI18nAuthoringSupport</implementation>
  <scope>singleton</scope>
</component>
```

> **Tip:** If you use Live Copy, you can override this configuration with info.magnolia.livecopy.i18n.I18NAuthoringSupportProvider, which by default resolves to MultiSiteI18nAuthoringSupport. See the Live copy internationalization page for more details.

To override this with a custom implementation (for example, extending `MultiSiteI18nAuthoringSupport` to define locales based on a node path), add it to your project module’s descriptor:

<module-name>-jcr.xml

```xml
<component>
  <type>info.magnolia.ui.api.i18n.I18NAuthoringSupport</type>
  <implementation>com.custom.i18n.CustomI18nAuthoringSupport</implementation>
  <scope>singleton</scope>
</component>
```

> **Note:** Before Magnolia 6.3, you could override I18NAuthoringSupport via JCR at /server/i18n/authoring. If using magnolia-module-multisite-jcr, ensure your custom module loads after it by adding a Maven dependency in your pom.xml:<dependency>
>   <groupId>info.magnolia.multisite</groupId>
>   <artifactId>magnolia-module-multisite-jcr</artifactId>
>   <version>${multisiteVersion}</version>
> </dependency>See Upgrading to Magnolia 6.3 for more information.

### [](#_set_i18n_to_true_in_form_fields)Set i18n to true in form fields

Set the `i18n` property to `true` in all [fields](../../../Developing/Templating/Dialog-definition/Field-definition/) where you want to enter multilanguage content.

**Example**: Multilanguage content is enabled for the `title` text field.

<module-name>/dialogs/pages/<dialog-name>.yaml

```yaml
form:
  properties:
    title:
      $type: textField
      i18n: true
```

### [](#_set_i18n_to_true_in_content_type_properties)Set i18n to true in content type properties

Add the `i18n` property with the `true` value to all [content type model properties](../../../Developing/Content-Types/Content-type-definition/Content-type-Model-definition/#_model_definition_properties) where you want to enter multilanguage content.

**Example**: The text field `description` is enabled for multilanguage content entry.

<module-name>/contentTypes/tourVehicle.yaml

```yml
datasource:
  $type: jcrContentTypeDatasource
  workspace: tourvehicles
  autoCreate: true
model:
  properties:
    - name: description
      i18n: true
```

### [](#_define_locales_for_the_site)Define locales for the site

Define the languages that editors should be able to choose as locales in the [site definition](../../../Developing/Templating/Site-definition/) under `<site>/i18n/locales`.

**Example**: `en`, `de` and `cs` locales in an example `test` site definition.

```yaml
test:
  i18n:
    enabled: true
    class: info.magnolia.cms.i18n.DefaultI18nContentSupport
    fallbackLocale: en
    defaultLocale: cs
    locales:
      cz:
        country: CZ
        language: cs
        enabled: true
      de:
        country: DE
        language: de
        enabled: true
```

**Properties**

<div class="joplin-table-wrapper"><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 30%;"> <col style="width: 70%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Property</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>enabled</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong>, <em>default is <code>false</code></em></p></div><div class="paragraph"><p>Enables support for localized content. Used to rewrite URIs and getting nodes based on the current language.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>class</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>required</strong></p></div><div class="paragraph"><p>Class that implements <span class="inlineBean">info.magnolia.cms.i18n.I18nContentSupport</span> such as:</p></div><div class="ulist"><ul><li><p>Implementations for a site organized into <a href="../Multilanguage-structure/#_single_tree" class="xref page">a single tree</a>, in which the locale prefix usually points to the root of a site.</p><div class="ulist"><ul><li><p><code>info.magnolia.cms.i18n.IetfI18nContentSupport</code>. This is the default implementation, which supports <a href="https://en.wikipedia.org/wiki/IETF_language_tag" target="_blank" rel="noopener">IETF BCP 47 language Tags</a>.</p><div class="listingblock"><div class="title">Example</div><div class="content"><pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">test:
  i18n:
    enabled: true
    class: info.magnolia.cms.i18n.IetfI18nContentSupport
    fallbackLocale: en
    defaultLocale: cs
    locales:
      cz:
        languageTag: cs-CZ
        enabled: true</code></pre></div></div></li><li><p><code>info.magnolia.cms.i18n.DefaultI18nContentSupport</code>, which supports a language prefix such as <code>/en/*</code> in the URL and <a href="#_storing_and_serving_localized_content">stores localized content</a> in a node using the naming pattern <code>&lt;name&gt;_&lt;locale&gt;</code>, for example <code>subtitle_en</code>.</p><div class="paragraph"><p>Use this implementation if your site is organized into <a href="../Multilanguage-structure/#_single_tree" class="xref page">a single tree</a>, in which the locale prefix usually points to the root of a site.</p></div></li></ul></div></li><li><p><code>info.magnolia.cms.i18n.HierarchyBasedI18nContentSupport</code>, which stores and serves localized content in a hierarchical structure.</p><div class="paragraph"><p>Use this implementation if your site is organized into <a href="../Multilanguage-structure/#_multiple_trees" class="xref page">multiple trees</a>, in which site roots are usually named after the locales.<br></p></div></li><li><p><code>info.magnolia.cms.i18n.RequestLocaleAwareI18nContentSupport</code>, which reads the locale from the request.</p><div class="paragraph"><p>This implementation does not render language specific URLs.</p></div></li></ul></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>fallbackLocale</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong>, <em>default is <code>en</code></em></p></div><div class="paragraph"><p>Content is served for the fallback locale if content is not available for the current locale.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>defaultLocale</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong></p></div><div class="paragraph"><p>If no locale can be determined, the default locale will be set. If no default locale is defined, the fallback locale is used.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>locales</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>required</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp; <code>&lt;locale&gt;</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>required</strong></p></div><div class="paragraph"><p>An arbitrary locale ID. For example, one that consists of language and country such as <code>zh-TW</code> for traditional Chinese or <code>pt-BR</code> for Brazilian Portuguese.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>country</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong>, for configurations using the <code>language</code> property</p></div><div class="paragraph"><p>Country code such as <code>BR</code> for Brazil. See <a href="https://www.oracle.com/java/technologies/javase/jdk8-jre8-suported-locales.html">Java 8 locale IDs</a>.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>language</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>required</strong>, unless a configuration with the <code>languageTag</code> property is used</p></div><div class="paragraph"><p>Language code such as <code>pt</code> for Portuguese. See <a href="https://www.oracle.com/java/technologies/javase/jdk8-jre8-suported-locales.html">Java 8 locale IDs</a>.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>languageTag</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>required</strong>, unless a configuration with the <code>language</code> property is used</p></div><div class="paragraph"><p>An <a href="https://en.wikipedia.org/wiki/IETF_language_tag" target="_blank" rel="noopener">IETF BCP 47</a> language tag.</p></div><div class="admonitionblock note"><table><tbody><tr><td class="icon"><i class="fa icon-note" title="Note"></i></td><td class="content">Available since Magnolia 6.2.45.</td></tr></tbody></table></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>enabled</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong>, <em>default is <code>false</code></em></p></div><div class="paragraph"><p>Enables the locale.</p></div></div></td></tr></tbody></table></div>

> **Caution:** Configure locales for the fallback siteIf i18n is enabled in the configuration of your content app, you need to configure locales for the fallback site or extend a site definition with locales.Then, when editing structured content, the locales of the fallback site will be used while showing the language dropdown.

Once multilanguage content entry is enabled, the page editor displays a language dropdown.

![Authoring language selector](../../../_images/authoring-language-selector.png)

When you select a language, dialogs show a language identifier, such as `fr`, next to field labels. This makes it clear what language editors should be entering.

The language identifier is not displayed for the fallback locale, unless [the `i18n` property](../../../Developing/Templating/Dialog-definition/Field-definition/#_common_simple_field_properties) is set to `true` in the definition of the given dialog. For example, if your fallback locale is English, you won’t see (en) next to the field label.

![English as fallback language](../../../_images/authoring-dialog-language-indicator.png)

Magnolia’s default language selector is a dropdown, but you can implement alternatives like tabs for each language if you don’t need a large number of languages.

## [](#_manage_translated_content)Manage translated content

This section covers creating, storing, and exporting translated content.

### [](#_create_translated_content)Create translated content

Editors can select a language from the dropdown in the Pages app to enter translations. Magnolia stores translations as language-specific properties (for example, `title_en`, `title_de`) in a single content hierarchy or as separate nodes if using multiple hierarchies.

### [](#_store_localized_content)Store localized content

Magnolia stores translated content in the JCR repository. By default, translations are stored in a single content hierarchy as properties with language suffixes.

**Example**: A Text and Image component translated into English, German, and French.

```yaml
content:
  00:
  01:
    imageLocation: left
    subtitle: Translation
    subtitle_de: Übersetzung
    subtitle_fr: Traduction
    text: <p>Translation of the user interface text is a community-supported project.</p>
    text_de: <p>Übersetzung der Benutzeroberfläche Text ist eine Gemeinde unterstützt das Projekt.</p>
    text_fr: <p>Traduction du texte de l'interface utilisateur est un projet soutenu de la communauté.</p>
```

You can disable single-hierarchy storage and create separate site hierarchies for each locale. See [\[one-hierarchy-or-many\]](#one-hierarchy-or-many) or [Multilanguage structure](../Multilanguage-structure/).

### [](#_export_and_import_translations)Export and import translations

The [Content Translation Support module](../../../Modules/List-of-modules/Content-Translation-Support-module/) allows you to export page content to CSV or Excel, translate it, and re-import it.

1.  In the Pages app, select a page and export it using the Content Translation Support module.

2.  Translate the content in the exported CSV/Excel file.

3.  Re-import the file to update translations.


### [](#_one_hierarchy_or_many)One hierarchy or many

Magnolia’s default strategy stores translations in a single JCR content node, using language-specific properties (such as `subtitle_de`). Alternatively, you can create separate site hierarchies for each locale for region-specific structures. See [Multilanguage structure](../Multilanguage-structure/) for guidance on choosing a strategy.

### [](#_serve_localized_urls)Serve localized URLs

Magnolia serves translated content at language-specific URLs, such as `mysite.com/de/welcome.html`.

#### [](#_configure_language_specific_urls)Configure language-specific URLs

Enable i18n content support in `/server/i18n/content`.

```yaml
server:
  i18n:
    system:
    content:
      enabled: true
      class: info.magnolia.module.site.i18n.SiteI18nContentSupport
    authoring:
```

<div class="joplin-table-wrapper"><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 30%;"> <col style="width: 70%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Property</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>enabled</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>required</strong>, <em>default is <code>true</code></em></p></div><div class="paragraph"><p>Enables multilanguage content storage and delivery.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>class</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>required</strong></p></div><div class="paragraph"><p>Class that implements <span class="inlineBean">info.magnolia.cms.i18n.I18nContentSupport</span> such as:</p></div><div class="ulist"><ul><li><p><code>info.magnolia.cms.i18n.DefaultI18nContentSupport</code> supports multilanguage content for one site.</p></li><li><p><code>info.magnolia.module.site.i18n.SiteI18nContentSupport</code> supports multilanguage content for many sites (DX Core). This class reads the available locales (languages) from the site definitions.</p></li></ul></div></div></td></tr></tbody></table></div>

Localized content is served at URLs identifying the locale:

| Locale | URL |
| --- | --- |
| Default locale | `www.mywebsite.com/article.html` |
| German | `www.mywebsite.com/`**`de`**`/article.html` |
| French | `www.mywebsite.com/`**`fr`**`/article.html` |
| Spanish | `www.mywebsite.com/`**`es`**`/article.html` |

The HTML element on public pages identifies the language with standard `lang` and `xml:lang` attributes.

```xml
<!DOCTYPE html>
<html xml:lang="en" lang="en" class="no-js">
```

### [](#_redirect_to_localized_urls)Redirect to localized URLs

Magnolia doesn’t redirect visitors to the localized URL automatically. Configure this behavior on your web server using strategies like:

-   **Dropdown selection**: Allow visitors to select a language/region.

-   **IP-based detection**: Redirect based on the visitor’s origin.

-   **Browser settings**: Detect the visitor’s preferred locale from their browser settings, then redirect them to the localized site.


## [](#_utf_8_character_encoding)UTF-8 character encoding

Magnolia supports UTF-8 character encoding for Unicode, enabling non-ASCII characters in page names and content.

To enable UTF-8 page names:

1.  For JBoss AS, add the following to `standalone.xml` or `domain.xml` after the `extensions` section:

    standalone.xml or domain.xml

    ```xml
    <system-properties>
            <property name="org.apache.catalina.connector.URI_ENCODING" value="UTF-8"/>
            <property name="org.apache.catalina.connector.USE_BODY_ENCODING_FOR_QUERY_STRING" value="true"/>
    </system-properties>
    ```

2.  Enable Unicode support in Magnolia:

    magnolia.properties

    ```none
    # Activate UTF-8 support to pages
    magnolia.utf8.enabled=true (1)
    ```

    |     |     |
    | --- | --- |
    | **1** | This allows non-ASCII characters in node names. |

    > **Caution:** The value must be the same on both the author and public instance. Publication between instances with a different UTF-8 setting is not supported.


Sites built using Magnolia Templating Essentials templates declare UTF-8 encoding with:

```xml
<meta charset="utf-8">
```

**Example**: [Al Arabiya](http://www.alarabiya.net/), an Arabic-language site built with Magnolia, uses UTF-8 for right-to-left cursive script.

![Arabic language site built with Magnolia](../../../_images/al-arabiya.png)

## [](#_related_topics)Related Topics

-   [Multilanguage structure](../Multilanguage-structure/)

-   [Internationalization](../Internationalization/)

-   [Content Translation Support module](../../../Modules/List-of-modules/Content-Translation-Support-module/)
