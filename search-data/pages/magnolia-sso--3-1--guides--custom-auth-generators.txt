---
title: "Custom authorization generators"
url: https://docs.magnolia-cms.com/magnolia-sso/3.1/guides/custom-auth-generators/
category: Modules
version: modules
breadcrumb: SSO module > Custom authorization generators
---

# Custom authorization generators

You can configure a custom authorization generator using a Java Service Provider Interface (SPI).

> **Important:** This approach is required to build a service provider that implements our SPI (info.magnolia.sso.config.spi.AuthorizationGeneratorProvider) and provides the implementation for Pac4j (org.pac4j.core.authorization.generator.AuthorizationGenerator).

Want a full-fledged tutorial?

Check out the [Microsoft Azure Active Directory custom group authentication](custom-auth-with-azure/) for a complete walkthrough with custom authorization generators.

## [](#_instructions)Instructions

To configure a custom authorization generator, place the classes and the configuration file in a Magnolia custom module that depends on the SSO module and the Pac4j core artifact `org.pac4j:pac4j-core@5.7.0`. For example purposes, letâ€™s run through some instructions below.

1.  Package `com.example.impl.CustomAuthorizationGeneratorProvider` and `com.example.impl.CustomAuthorizationGenerator` in a JAR file for the class path. The JAR file will contain a provider configuration file named `META-INF/services/info.magnolia.sso.config.spi.AuthorizationGeneratorProvider` that should contain the following line:

    ```none
    com.example.impl.CustomAuthorizationGeneratorProvider (1)
    ```

    |     |     |
    | --- | --- |
    | **1** | Where `CustomAuthorizationGeneratorProvider` is the name of your service provider that implements our SPI (`info.magnolia.sso.config.spi.AuthorizationGeneratorProvider`). |

2.  Configure the service provider using its simple class name, or fully-qualified class name, for your desired client as part of the `<magnolia.resources.dir>/magnolia-sso/.config.yaml` file in your SSO module.

    ```yaml
    clients:
      oidc.id: 0o...x7
      oidc.secret: aK...th6
      oidc.authorizationGenerators: CustomAuthorizationGeneratorProvider (1)

      # Or fully-qualified class name
      # oidc.authorizationGenerators: com.example.impl.CustomAuthorizationGeneratorProvider
    ```

    |     |     |
    | --- | --- |
    | **1** | Where `CustomAuthorizationGeneratorProvider` is the name of your service provider defined in `META-INF/services/info.magnolia.sso.config.spi.AuthorizationGeneratorProvider`. |


Resources

-   [Creating a custom Maven Module](#6.2@product-docs:ROOT:Developing/Development-how-tos/How-to-create-and-use-a-custom-Magnolia-Maven-module-for-custom-Java-components.adoc#_creating_a_custom_magnolia_maven_module)

-   [ServiceLoader](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ServiceLoader.html)
