---
title: "Salesforce B2B Commerce connector"
url: https://docs.magnolia-cms.com/magnolia-ecommerce-sfb2b-connector/
category: Modules
version: modules
breadcrumb: Salesforce B2B Commerce connector
---

# Salesforce B2B Commerce connector

[6.2@product-docs:ROOT:Features/commerce.adoc](#6.2@product-docs:ROOT:Features/commerce.adoc) Incubator Version 1.0.1 [Magnolia 6.2](#6.2@product-docs:ROOT:index.adoc) compatible [Git](https://gitlab.magnolia-platform.com/ps/incubator/magnolia-ecommerce-sfb2b-connector)

The **Salesforce B2B Commerce connector** provides a default implementation to connect to the Salesforce B2B Commerce solution.

> **Warning:** This module is at the INCUBATOR level.The module was developed on the sandbox provided by Salesforce at GitHub: b2b-commerce-on-lightning-quickstart.The module is compatible with Salesforce: Commerce resources 60.0

## [](#_prerequisites)Prerequisites

The module requires authentication via client and secret keys for a Salesforce Connected App.

-   [Create a Connected App](https://help.salesforce.com/s/articleView?id=sf.connected_app_create.htm&type=5)

-   [Setting Up Connected App Access (REST-Based APIs)](https://developer.salesforce.com/docs/atlas.en-us.salesforce_developer_environment_dotnet_tipsheet.meta/salesforce_developer_environment_dotnet_tipsheet/salesforce_developer_environment_remoteaccess.html)


### [](#_commerce_connector_pack)Commerce connector pack

The module is built upon the [Commerce Connector Pack](../ecommerce/1.3/) to reuse features and mechanisms.

> **Important:** It requires a Commerce Connector Pack license and dependencies.

## [](#_installing_with_maven)Installing with Maven

Maven is the easiest way to install the module. Add the following to your [bundle](../product-docs/RNs-6-4-3/Developing/Bundles-and-webapps/):

```xml
<dependency>
  <groupId>info.magnolia.ecommerce</groupId>
  <artifactId>magnolia-ecommerce-sfb2b-connector</artifactId>
  <version>1.0.1</version>
</dependency>
```

### [](#_dx_core_bundle)DX Core bundle

For common use with a DX Core bundle, you need to build the `.jar` file and then copy it to `lib` folder.

1.  Copy `magnolia-ecommerce-sfb2b-connector-1.0.1.jar` to `<tomcat>/webapp/ROOT/WEB-INF/lib/`.


### [](#_webapp)Webapp

For development use with a Webapp, you need to declare it in POM of Webapp as below

Connector pack dependencies

```xml
<dependency>
  <groupId>info.magnolia.ecommerce</groupId>
  <artifactId>magnolia-ecommerce</artifactId>
  <version>VERSION</version> (1)
</dependency>
<dependency>
  <groupId>info.magnolia.ecommerce</groupId>
  <artifactId>magnolia-ecommerce-ui</artifactId>
  <version>VERSION</version> (1)
</dependency>
<dependency>
  <groupId>info.magnolia.ecommerce</groupId>
  <artifactId>magnolia-ecommerce-templating</artifactId>
  <version>VERSION</version> (1)
</dependency>
```

|     |     |
| --- | --- |
| **1** | See [Ecommerce: Installing with maven](../ecommerce/1.3/ecommerce-module/#_installing_with_maven) for the latest version. |

## [](#_configuration)Configuration

### [](#_configuring_connection)Configuring connection

To enable this module, you should configure the connector in your light development module as shown at [Ecommerce: Configuration](../ecommerce/1.3/ecommerce-module/#_configuration).

`<your light module>/ecommerces/<your store>.yaml`

```yaml
class: info.magnolia.ecommerce.common.EcommerceDefinition
type: salesforce-b2b-commerce
enabled: false
implementation:
  products:
    all: info.magnolia.ecommerce.salesforceb2b.products.All
    byId: info.magnolia.ecommerce.salesforceb2b.products.ById
    byCategoryId: info.magnolia.ecommerce.salesforceb2b.products.ByCategoryId
    searchByText: info.magnolia.ecommerce.salesforceb2b.products.SearchByText
  categories:
    all: info.magnolia.ecommerce.salesforceb2b.categories.All
    byId: info.magnolia.ecommerce.salesforceb2b.categories.ById
    byParentCategoryId: info.magnolia.ecommerce.salesforceb2b.categories.ByParentCategoryId
    byProductId: info.magnolia.ecommerce.salesforceb2b.categories.ByProductId
  connectionValidator: info.magnolia.ecommerce.salesforceb2b.common.SalesforceB2BConnectionValidator
connections:
  connection:
    authUrl: AUTH_URL (1)
    baseUrl: BASE_URL (2)
    enabled: true
    parameters:
      org_id: ORG_ID (3)
      client_id: CLIENT_ID (4)
      client_secret: CLIENT_SECRET (5)
      apiVersion: API_VERSION (6)
      webStoreId: WEBSTORES_ID (7)
      fallbackLanguage: FALLBACK_LANGUAGE (8)
      defaultEffectiveAccountId: DEFAULT_EFFECTIVE_ACCOUNT_ID (9)
```

|     |     |
| --- | --- |
| **1** | **Required** The authorization URL. **Example:** `https://velocity-dream-7488.my.salesforce.com` |
| **2** | **Required** The base URL. **Example:** `https://velocity-dream-7488.my.salesforce.com/services/oauth2/token` |
| **3** | **Required** The organization ID. **Example:** `00DIS000xxxxxxx` |
| **4** | **Required** The client ID. **Example:** `3MVG9bZIBBVRES4FCaLxnP…​enhH4V06G4V_xxxxxxxxxxxxx` |
| **5** | **Required** The client secret. **Example:** `742BCCEFD6D42673E4D4C…​FB22E3A45A93xxxxxxxxxxxxx` |
| **6** | **Required** The API version. **Example:** `60.0` |
| **7** | **Required** The ID of the web store. **Example:** `0ZEIS0000xxxxxxxxxxxxx` |
| **8** | **Required** if using multiple languages. Sets the fallback language. Otherwise, it is optional. **Example:** `en_SG` |
| **9** | **Required** Default account ID for product pricing. **Example:** `001IS000002V4xxxx` |

### [](#_configuring_timeout)Configuring timeout

You can configure `connectionTimeoutInSeconds` (the time needed to connect to the e-commerce solution) and `readTimeoutInSeconds` (the time needed to read and show the data you selected).

The default value for `connectionTimeoutInSeconds` is `10`. If the remote server can’t establish a connection within 10 seconds, it’s likely down or overloaded. Fail fast.

The default value for `readTimeoutInSeconds` is `30`. Once connected, allow more time for the server to respond — especially if the response involves computation or large data.

These values can be customized in **the module’s configuration** or via **decoration**.

/salesforce-b2b-commerce/config.yaml

```yaml
connectionTimeoutInSeconds: 10
readTimeoutInSeconds: 30
```

## [](#_usage)Usage

### [](#_checking_connection_and_testing)Checking connection and testing

![testing](_images/testing.png)

### [](#_viewing_categories_and_products)Viewing categories and products

See [Ecommerce: Viewing your e-commerce content](../ecommerce/1.3/ecommerce-app/#_viewing_your_e_commerce_content) for steps on viewing e-commerce content.

-   Categories

-   Products


![categories](_images/categories.png)

![products](_images/products.png)

| Method | Supported |
| --- | --- |
| **Get a category by ID** | **** |
| **Get product by ID** | **** |
| **Get product information by product ID as a string** | **** |
| **Get all categories** | **** |
| **Get all categories by product ID** | **** |
| **Get all categories by parent ID** | **** |
| **Get all products** | **** |
| **Get all products by category ID** | **** |
| **Get image link** | **** |

## [](#_license)License

This module is open source software licensed as [MIT](https://gitlab.magnolia-platform.com/ps/incubator/magnolia-ecommerce-sfb2b-connector/-/blob/master/LICENSE).

## [](#_references)References

-   [Salesforce: Supported languages](https://help.salesforce.com/s/articleView?id=sf.faq_getstart_what_languages_does.htm&type=5)

-   [Salesforce: Commerce B2B and D2C Resources](https://developer.salesforce.com/docs/atlas.en-us.chatterapi.meta/chatterapi/connect_resources_commerce.htm)

-   [Salesforce: Accept-Language HTTP header](https://developer.salesforce.com/docs/atlas.en-us.chatterapi.meta/chatterapi/intro_architecture.htm?q=accept-language)
