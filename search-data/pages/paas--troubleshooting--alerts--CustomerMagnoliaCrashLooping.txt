---
title: "Magnolia is \"crash looping\""
url: https://docs.magnolia-cms.com/paas/troubleshooting/alerts/CustomerMagnoliaCrashLooping/
category: DX Cloud
version: cloud
breadcrumb: DX Cloud > Troubleshoot > Magnolia is "crash looping"
---

# Magnolia is "crash looping"

## [](#_symptom)Symptom

A `CustomerMagnoliaCrashLooping` alert is firing. Kubernetes has restarted a Magnolia at least three times within `15` minutes.

> **Note:** CustomerMagnoliaCrashLooping alerts are sent to subscribers via email.

Kubernetes will restart a pod if it exceeds its memory limit. The Magnolia JVM typically cannot exceed its memory limit - the JVM max heap setting - but the JVM also will consume a small amount of non-heap memory (usually about `200MB`) that can vary over time. Other containers running in the Magnolia pod may also consume memory but they usually use very small amounts (`10s` of `MB`). Temporary filesystems may use memory as well.

| **Expression** | `increase(kube_pod_container_status_restarts_total{container="magnolia-helm"}[15m]) > 3` |
| --- | --- |
| **Delay** | `2` minutes |
| **Labels** | `team: customer` |
| **Annotations** | • `source` • `summary` • `description` • `tenant` • `cluster_id` • `cluster_name` • `pod` • `instance` |

## [](#_solutions)Solutions

This section provides solutions that should help resolve the issue in most cases.

### [](#_stop_failing_readiness_check)Stop failing readiness check

Magnolia may take longer to start up and pass its readiness probe for a variety of reasons (Lucene indexing, large JCR repository, lots of module startup tasks).

You can allow Magnolia more time in starting up by:

-   increasing the `failureThreshold` Helm chart value for readiness to increase the number failed readiness checks tolerated

-   increasing the `initialDelaySeconds` Helm chart value for readiness to increase the time before readiness is checked

-   increasing the `periodSeconds` Helm chart value for readiness to increase the time between readiness checks


### [](#_stop_failing_liveness_check)Stop failing liveness check

Magnolia may take longer to start up and pass its liveness probe for a variety of reasons (Lucene indexing, large JCR repository, lots of module startup tasks).

You can allow Magnolia more time in starting up by:

-   increasing the `failureThreshold` Helm chart value for liveness to increase the number failed readiness checks tolerated

-   increasing the `initialDelaySeconds` Helm chart value for liveness to increase the time before readiness is checked

-   increasing the `periodSeconds` Helm chart value for liveness to increase the time between readiness checks
