---
title: "Users"
url: https://docs.magnolia-cms.com/product-docs/Administration/IAM/Users/
category: Magnolia 6.4
version: latest
breadcrumb: DX Core > Administration > Identity and access management (IAM) > Users
---

# Users

A user is an account that identifies the person accessing Magnolia. In addition to a username, Magnolia [stores](User-profile-storage/) the user preferences such as full name, email address, language, and time zone. These settings can be [edited](User-preferences/) by the users themselves.

Every user has a certain set of permissions to grant access to resources, content, apps, and so on. Users inherit their permissions from the groups and roles they‚Äôre attached to (see [Organizing users](#_organizing_users)). Use the Security app to [edit the permissions of a user](#_editing_user_permissions).

## [](#_types_of_users)Types of users

Different user types are used for different accounts:

Users

Accounts for people who work on site content such as authors, editors, and publishers. The Security app `/admin/` folder stores users who have access to Admincentral.

System users

Technical accounts such as `superuser` and `anonymous`. The Security app `/system/` folder is for users with administrative permissions.

Public users

End users or visitors of the site. They can be registered through the [Public User Registration (PUR) module](../../../Modules/List-of-modules/Public-User-Registration-module/). Registering visitors allows you to provide them with personalized content such as members-only sections of the site, newsletters, and mailing lists. The Security app `/public/` folder users are visitors who register and log into a public Magnolia site using the PUR module.

### [](#_superuser_user)`superuser` user

The term `superuser` may refer either to a *system user* (an account type) or to a *role* (a definition of what a user is allowed to do in the system). In a typical installation of Magnolia, the `superuser` role is assigned to the `superuser` account. In addition to the `superuser` role, the `superuser` account has some other roles too (see [Default roles, groups and users](../Roles-groups-and-users/#_system_users)).

As the name implies, the permissions of the superuser account are usually unrestricted in any way. For instance, superuser can read and write to all default JCR workspaces on `/`.

On a production system, create specific users with distinct roles and deactivate the superuser account.

### [](#_anonymous_user)`anonymous` user

The term `anonymous` may refer either to a *system user* or to a *role*. The latter is assigned to the former. Apart from the `anonymous` role, the `anonymous` system user is by default assigned other roles too (see [Default roles, groups and users](../Roles-groups-and-users/#_system_users)).

Every Magnolia resource intended to be accessible without authentication must be enabled for the anonymous system user. A users that interacts with Magnolia without authentication is determined as an anonymous user.

> **Note:** On most systems, the rights and permissions of the anonymous role differ between author and public instances: allowing read access to all on the public instance, while denying the same on the author instance. That‚Äôs why you shouldn‚Äôt publish the anonymous role.

## [](#_organizing_users)Organizing users

In Magnolia, users are organized as follows:

-   Users can have both roles and groups.

-   Groups can have groups and roles.

-   Roles can have only Access Control Lists (ACLs).


![Organizing users diagram](../../../_images/organizing-users.png)

Permissions are defined in the [ACLs](../Roles-and-access-control-lists/). Users inherit permissions from the roles and groups assigned to them.

> **Tip:** You can duplicate existing users to speed up creation. The duplicated user is created with all the same groups and roles as the original.

On a small site, you can manage users and groups in Magnolia. On a larger site (hundreds of users), it‚Äôs better to manage users and groups in an enterprise-grade user management infrastructure, such as Microsoft Active Directory. You would define roles and ACLs in Magnolia but manage users and groups in the external system.

### [](#_editing_user_permissions)Editing user permissions

Every user known to Magnolia is granted a set of permissions defined by roles. You can either assign roles directly to a user, or assign a user to a group that itself grants a set of roles (see [Organizing users](#_organizing_users) above).

Use the [Security app](../../../Apps/List-of-apps/Security-app/) to edit the permissions. The app is available in the **Admin** group of AdminCentral. By default, the `superuser` role is required to access the app.

![Security icon](../../../_images/6-1-Users-securityAppTile.png)

The Security app provides subapps to edit users, groups, and roles. In the **Users** subapp, select the user you want to edit and click **Edit user** in the action bar.

![Editing user permissions.](../../../_images/security-app-select-user.png)

A tab opens showing the user details. It has three sections:

-   User info: Edit the user‚Äôs name and full name, the password, the email address, and the language. The language can also be edited in the [**Edit user profile**](#_editing_user_profile) dialog. You can use the tab to enable or disable a user account.

-   Groups: Assign the user to existing groups.

-   Roles: Grant roles to the user.

    ![User edit screen](../../../_images/security-app-edit-user.png)


> **Tip:** Select any user and click User permissions in the action bar to view the permissions granted to that user.

## [](#_automatic_lockout)Automatic lockout

An automatic lockout is a security precaution that prevents users from accessing Magnolia after a number of failed login attempts.

By default, a lockout is triggered and an account is automatically disabled after `N+1` failed login attempts. The number of failed attempts can be configured. No lockout is triggered when a username that doesn‚Äôt exist is entered. A lockout applies to both system and admin users, but not to public users. After a lockout, an administrator can re-enable the account by selecting the **Enabled** checkbox in the user profile. When a lockout occurs, this checkbox is cleared.

![Enabling the user account after an automatic lockout.](../../../_images/security-app-enable-user.png)

You can configure the number of failed login attempts `N` that triggers a lockout using the `maxFailedLoginAttempts` property in `/server/security/userManagers/system` and `/admin`. You can set different values for **Users** and **System Users**.

| Node name | Value |
| --- | --- |
| üìÅ server |     |
| üìÅ security |     |
| ‚∏¨ userManagers |     |
| ‚∏¨ system |     |
| ‚¨© class | info.magnolia.cms.security.SystemUserManager |
| ‚¨© lockTimePeriod | 0   |
| ‚¨© maxFailedLoginAttempts | 5   |
| ‚¨© realmName | system |
| ‚∏¨ admin |     |
| ‚¨© class | info.magnolia.cms.security.MgnlUserManager |
| ‚¨© lockTimePeriod | 0   |
| ‚¨© maxFailedLoginAttempts | 5   |
| ‚¨© realmName | admin |

### [](#_properties)Properties

<div class="joplin-table-wrapper"><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 30%;"> <col style="width: 70%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Property</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>allowCrossRealmDuplicateNames</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong>, <em>default is <code>false</code></em></p></div><div class="paragraph"><p>Allows duplicate usernames in different realms. Only applicable to <code>admin</code> realm.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>class</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>required</strong></p></div><div class="paragraph"><p>A class that implements the <span class="inlineBean">info.magnolia.cms.security.UserManager</span> interface.</p></div><div class="paragraph"><p>Implementations:</p></div><div class="ulist"><ul><li><p><span class="inlineBean">info.magnolia.cms.security.MgnlUserManager</span> manages users stored in Magnolia.</p></li><li><p><span class="inlineBean">info.magnolia.cms.security.ExternalUserManager</span> manages JAAS users.</p></li><li><p><span class="inlineBean">info.magnolia.cms.security.HierarchicalUserManager</span> is a variation of <code>MgnlUserManager</code> that stores users hierarchically using the structure <code>/&lt;path&gt;/&lt;first letter of username&gt;/&lt;first two letters of username&gt;</code> such as <code>/public/j/js/jsmith</code>.</p></li><li><p><span class="inlineBean">info.magnolia.cms.security.DelegatingUserManager</span> retrieves the user‚Äôs ACLs.</p></li><li><p><span class="inlineBean">info.magnolia.cms.security.SystemUserManager</span> manages system users such as <code>anonymous</code> and <code>superuser</code>.</p></li></ul></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>disableCache</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong>, <em>default is <code>false</code></em></p></div><div class="paragraph"><p>Allows to disable caching if set to <code>true</code>.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>realmName</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>required</strong></p></div><div class="paragraph"><p>Realm name corresponding to JAAS login configuration.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>allowPartialResults</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong>, <em>default is <code>false</code></em></p></div><div class="paragraph"><p>Indicates what methods are used to deal with the <code>PartialResultException</code> exception thrown by the LDAP service provider (see the <code>java.naming.referral</code> property).</p></div><div class="ulist"><ul><li><p><code>true</code> uses the <code>hasMoreElements()</code> and <code>nextElement()</code> methods.</p></li><li><p><code>false</code> uses the <code>hasMore()</code> and <code>next()</code> methods.</p></li></ul></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>connectionFactory</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong></p></div><div class="paragraph"><p>A subnode that allows you to specify a custom <code>connectionFactory</code>.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp; <code>class</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>The class that implements the <code>connectionFactory</code>.</p></div><div class="paragraph"><p>The default class used is <span class="inlineBean">magnolia.jaas.sp.ldap.connection.DefaultConnectionFactory</span>.</p></div><div class="paragraph"><p>Two additional implementations are available:</p></div><div class="ulist"><ul><li><p><span class="inlineBean">magnolia.jaas.sp.ldap.connection.JavaBeanBasedConnectionFactory</span></p><div class="paragraph"><p>This implementation supports defining properties <code>securityPrincipal</code> and <code>securityCredentials</code>. For usage please see Apache‚Äôs <a href="https://tomcat.apache.org/tomcat-8.0-doc/jndi-resources-howto.html#Generic_JavaBean_Resources" target="_blank" rel="noopener">Generic JavaBean Resources</a>.</p></div></li><li><p><span class="inlineBean">magnolia.jaas.sp.ldap.connection.JNDIResourceConnectionFactory</span></p><div class="paragraph"><p>This is a JNDI resource based factory. It can be used with <code>com.sun.jndi.ldap.LdapCtxFactory</code> or with <span class="inlineBean">magnolia.jaas.sp.ldap.connection.jndiresources.MagnoliaLdapContextFactory</span>. For usage please see Apache‚Äôs <a href="https://tomcat.apache.org/tomcat-8.0-doc/jndi-resources-howto.html#Adding_Custom_Resource_Factories" target="_blank" rel="noopener">Adding Custom Resource Factories</a>.</p></div></li></ul></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp; <code>envPropertiesPredicate</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong></p></div><div class="paragraph"><p>A subnode that specifies the <code>envPropertiesPredicate</code>.</p></div><div class="paragraph"><p>If not defined explicitly, then the predicate accepts anything within the following namespaces:</p></div><div class="ulist"><ul><li><p><code>java.naming.*</code> (except <code>credentials</code> and <code>principal</code>)</p></li><li><p><code>com.sun.jndi.ldap.*</code></p></li></ul></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>class</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>The class that implements the <code>envPropertiesPredicate</code>.</p></div><div class="paragraph"><p>The default class is <span class="inlineBean">magnolia.jaas.sp.ldap.connection.EnvPropertiesDefaultPredicate</span>.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp; <code>passwordDecoder</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong></p></div><div class="paragraph"><p>A subnode that defines the decoding method of the admin password used by the <code>connectionFactory</code>.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class="icon"><i class="fa icon-warning" title="Warning"></i></td><td class="content">The decoder is available only with the <code>DefaultConnectionFactory</code> and <code>JavaBeanBasedConnectionFactory</code> connection classes. However, you can also write your own password decoder.</td></tr></tbody></table></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>class</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>The decoder is available in three implementations:</p></div><div class="ulist"><ul><li><p><span class="inlineBean">magnolia.jaas.sp.ldap.connection.password.NoOpPasswordDecoder</span></p><div class="paragraph"><p>This implementation returns a password without any decoding.</p></div></li><li><p><span class="inlineBean">magnolia.jaas.sp.ldap.connection.password.ActivationKeyBasedPasswordDecoder</span></p><div class="paragraph"><p>This implementation uses the same set of keys as activation. To get an encoded password, use the <code>SecurityUtil.encrypt("password")</code> method.</p></div></li><li><p><span class="inlineBean">magnolia.jaas.sp.ldap.connection.password.PasswordManagerBasedPasswordDecoder</span></p><div class="paragraph"><p>This implementation loads the admin‚Äôs LDAP password from the <a href="../../../Modules/List-of-modules/Password-Manager-module/" class="xref page">Password Manager module</a>.</p></div></li></ul></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>pageSize</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong>, <em>default is <code>500</code></em></p></div><div class="paragraph"><p>Specifies the number of objects to be returned in a single search result.</p></div></div></td></tr></tbody></table></div>

## [](#_external_services)External services

The [LDAP Connector module](../../../Modules/List-of-modules/LDAP-Connector-module/) is a standard [JAAS](http://java.sun.com/products/jaas/) login module that connects to any LDAP V3 supported directory service. This module is useful where an enterprise-grade user management infrastructure already exists. With the JAAS standard support, you can meet single sign-on requirements or connect to legacy LDAP/ADS directory servers.
