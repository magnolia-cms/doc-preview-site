---
title: "Resources"
url: https://docs.magnolia-cms.com/product-docs/RNs-6-4-3/Developing/Resources/
category: Magnolia 6.4
version: latest
breadcrumb: DX Core > Developing > Resources
---

# Resources

In Magnolia, all resource files are loaded the same way. This page explains where resources are loaded from, their loading order, and how you can reference resources.

## [](#_what_is_a_resource_file)What is a resource file?

Resource files are static Web resources (CSS, JavaScript), definition files for apps, dialogs and templates (YAML), and template scripts (FreeMarker). A resource file or its JCR node representation typically defines something or influences how content is rendered in Magnolia.

Examples of resources:

-   Web resources: CSS, JavaScript

-   Template scripts: FreeMarker

-   Definition files (YAML): [template definition](../Templating/Template-definition/), [dialog definition](../Templating/Dialog-definition/), [app descriptor](../../Apps/App-configuration/App-descriptor/)…


| Type of resource | Node path in the `resources` workspace |
| --- | --- |
| App descriptor | `/my-module/apps/foobar.yaml` |
| Dialog definition | `/my-module/dialogs/pages/foo.yaml` |
| Static Web resource (CSS, JavaScript) | `/my-module/css/style.css` |
| Template definition (YAML) | `/my-module/templates/pages/foo.yaml` |
| Template script (FreeMarker) | `/my-module/templates/pages/foo.ftl` |
| Template model (JavaScript) | `/my-module/templates/pages/foo.js` |

## [](#_what_is_magnolia_resources_dir)What is `magnolia.resources.dir`?

`magnolia.resources.dir` is a property defining the directory from which [resources](./) are loaded in a Magnolia instance. This directory is used for file-based resources such as light modules and for overriding classpath resources. The property is configured in `WEB-INF/config/default/magnolia.properties` and its default value is `$magnolia.home/modules`. To see the current value of the property, go to the Config Info tab in the [About Magnolia app](../../Apps/List-of-apps/About-Magnolia-app/).

> **Note:** You can use symbolic links (symlinks or soft links) in the resources directory to include light modules located elsewhere on your system.

Set the `magnolia.resources.filesystem.observation.excludedDirectories` property to exclude directories from being observed for changes. (See the table in the [Configuration management: Defining properties](../../Administration/Architecture/Configuration-management/#_defining_properties) section.)

| Type of resource | Path in a Maven module |
| --- | --- |
| App descriptor | `src/main/resources/my-module/apps/foobar.yaml` |
| Dialog definition | `src/main/resources/my-module/dialogs/pages/foo.yaml` |
| Static Web resource (CSS, JavaScript) | `src/main/resources/my-module/css/style.css` |
| Template definitions (YAML) | `src/main/resources/my-module/templates/pages/foo.yaml` |
| Template script (FreeMarker) | `src/main/resources/my-module/templates/pages/foo.ftl` |
| Template model (JavaScript) | `src/main/resources/my-module/templates/pages/foo.js` |

## [](#_referencing_resources)Referencing resources

### [](#_web_resources)Web resources

Use the `/.resources` servlet path to reference web resources such as CSS and JavaScript files. The path is mapped to info.magnolia.module.resources.ResourcesServlet in `/server/filters/servlets/ResourcesServlet`. The servlet looks for the resource in all three origins in the order described above.

**Example**: Referencing a CSS file in a FreeMarker script

<link rel="stylesheet" href="${ctx.contextPath}/.resources/my-module/css/style.css">

The ResourcesServlet checks the following origins:

1.  JCR: `/my-module/css/style.css` node in the `resources` workspace.

2.  File system: `<magnolia.resources.dir>/my-module/css/style.css` path.

3.  Classpath: `src/main/resources/my-module/css/style.css` path within a Magnolia Maven module.


You can also use [`resfn` templating functions](../Templating/Template-scripts/Templating-functions/resfn/) to create links to CSS and JS resources in templates by a defined pattern or a list of patterns.

### [](#_template_scripts)Template scripts

Use `/<module-name>/templates` to reference template scripts such as FreeMarker scripts (.ftl). A template script is a resource file too. You may need to reference one script from another using the FreeMarker [include directive](http://freemarker.org/docs/ref_directive_include.html).

**Example**: Including a FreeMarker script in another script

```xml
<head>
    <title>Templating examples</title>
    [#include "/my-module/templates/pages/header-include.ftl"]
    [@cms.init /]
</head>
```

### [](#_definition_files)Definition files

Use `/<module-name>/<definition-type>/` to reference definition files, where `<definition-type>` is a folder where you keep such definitions such as:

-   `/<module-name>/dialogs`

-   `/<module-name>/apps`

-   `/<module-name>/templates/pages`

-   and so on


Definitions configured in YAML files are also resources. You can [include a YAML file](../YAML/) in another YAML file in a similar way as including a template script.

**Example**: Including a YAML action definition in a YAML dialog definition.

```js
form:
  label: Simple content page properties
  tabs:
    - name: tabText
      label: Texts
      fields:
        - name: title
          class: info.magnolia.ui.form.field.definition.TextFieldDefinition
          label: Title and categories
          i18n: true
actions: !include /my-module/dialogs/common/actions-block.yaml
```

### [](#_editing_resource_files)Editing resource files

While developing you may edit most probably resource files from classpath or from file system using an IDE or your [favorite text editor](../YAML/). If you want to modify resource files within a running Magnolia instance, you may not have access to the file system and least of all to classpath originating files. Editing resources on a running Magnolia instance is possible with the Resource Files app, see [overriding resources](#_overriding_resources).

## [](#_watching_changes_of_resources)Watching changes of resources

If you change resources which are used to define items - Magnolia will notice it and reload definitions items if required.

-   Changes on JCR based resources are detected by [Observation module](../../Modules/List-of-modules/Observation-module/).

-   Changes on file based resources are detected by info.magnolia.dirwatch.DirectoryWatcherService.

-   Changes on classpath originating resources are only relevant during development. Watching changes in classpath resources must be enabled by setting the Magnolia property `magnolia.develop` to true (see [defining properties](../../Administration/Architecture/Configuration-management/)).


| Icon | Resource origin |
| --- | --- |
|  | Classpath or classpath-legacy (JARs) |
|  | File system |
|  | JCR `resources` workspace |

## [](#_restricting_access_to_resources)Restricting access to resources

Access to resources is defined in the `/modules/resources/config/resourceFilter` filter. By default, the filter allows access to resources as follows:

-   `byType`

    -   `css, map, js, htm(l), ico, woff(2), ttf, svg, gif, jp(e)g, tiff, bmp`


-   `byLocation`

    -   when located in the \`\`webresources’ directory
