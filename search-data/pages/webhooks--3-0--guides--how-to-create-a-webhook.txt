---
title: "How to create a webhook"
url: https://docs.magnolia-cms.com/webhooks/3.0/guides/how-to-create-a-webhook/
category: Modules
version: modules
breadcrumb: Webhooks module > How to create a webhook
---

# How to create a webhook

This page describes how you can create webhooks in Magnolia. The [webhooks feature](../../../../product-docs/RNs-6-4-3/Features/Webhooks/) is provided by the [Webhooks module](../../). See that page for information how to install the module to your webapp.

## [](#_the_essentials_of_a_webhook)The essentials of a webhook

Usually, the main purpose of a webhook is to communicate to an external API that an event has just occurred on the origin. The API then executes a further action accordingly.

At least the following must be configured for a webhook:

-   A webhook REST client, which will communicate with the external API.

-   A webhook event.


### [](#_internal_or_external_rest_client)Internal or external REST client

In this guide, we configure a new REST client directly in the webhook configuration file but it is also possible to reference an already-existing REST client configuration through the `restClientName` and `restCallName` properties.

### [](#_location_of_a_webhook_configuration)Location of a webhook configuration

All webhook definition Yaml files must be placed in the `webhooks` directory of your light module.

### [](#_an_api_endpoint)An API endpoint

For testing purposes, you may try several publicly available webhook APIs, for example:

-   [Beeceptor](https://beeceptor.com)

-   [Request Catcher](https://requestcatcher.com)

-   [Request Bin](https://requestbin.com/r/)

-   [Webhook Site](https://webhook.site)

-   [HTTP Dump](https://httpdump.io)


> **Note:** As many of these public APIs are provided free-of-charge for testing, some limits may apply as to how many requests you can send per day, for example. Always get familiar with the sites' usage policies before testing.

## [](#_example_configuration)Example configuration

/example-light-module/webhooks/webhookConfig\_1.yaml

```yml
name: webhook1 (1)
url: https://webhook.site/8ee2081f-bd86-4cc3-8507-6bf51a6149d7 (1)
method: get (1)
enabled: true (1)

events: (2)
  - name: goLive (3)
    eventType: Published
  - name: outdated (4)
    eventType: Unpublished
    filter: "@path LIKE '%out-of-date%'"
```

|     |     |
| --- | --- |
| **1** | The first half of this configuration defines the webhook name (`webhook1`) and the REST client properties. |
| **2** | The second half specifies the webhook events. Two webhook events are configured there: |
| **3** | `goLive` â€” to call the API whenever you publish a page. |
| **4** | `outdated` â€” to call the API whenever you unpublish a page, with a filter restriction applying though. |

> **Note:** When you add this configuration to your light module, Magnolia will create the associated REST client automatically.

| ðŸ“ publishing-core |  |
| --- | --- |
| ðŸ“ config |  |
| ðŸ“ commands |  |
| ðŸ“ default |  |
| â¸¬ activate |  |
| â¸¬ deactivate |  |
| â¸¬ publish |  |
| â¸¬ publish |  |
| â¸¬ webhook |  |
| â¬© class | info.magnolia.webhooks.command.ContentPublishedCommand |
| â¸¬ unpublish |  |
| â¸¬ unpublish |  |
| â¸¬ webhook |  |
| â¬© class | info.magnolia.webhooks.command.ContentUnpublishedCommand |

## [](#_webhook_event_and_rest_client_configuration_properties)Webhook event and REST client configuration properties

The [webhook properties](../../#_configuration) allow you to configure even more complex webhook events than the ones showcased above.

See also the possibilities of [Magnolia REST client configuration properties](../../../../product-docs/RNs-6-4-3/Modules/List-of-modules/REST-Client-module/#_configuration), including definition of security schemes, timeouts, or caching for more advanced REST API communication scenarios.

> **Caution:** By allowing REST client configuration properties in a webhook configuration file, we are not porting REST client configurations to webhook Yaml files.For complex REST client configurations, always try to configure them in the native restClients folder of your module and only reference a configuration in a webhook definition.
