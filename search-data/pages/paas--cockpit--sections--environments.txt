---
title: "Environments"
url: https://docs.magnolia-cms.com/paas/cockpit/sections/environments/
category: DX Cloud
version: cloud
breadcrumb: DX Cloud > Manage > Cockpit sections > Environments
---

# Environments

The DX Cloud **Environments** section contains critical information about your deploymentâ€™s health, response times, and overall usage. The environments you see in this section of the Cockpit are those configured in your [.gitlab-ci.yml](../../../environments/#gitlab-ci-file) file.

## [](#_select_desired_cluster)Select desired cluster

Select your desired cluster from the dropdown menu at the top of the Cockpit.

![select cluster id](../../_images/select-cluster-id.jpg)

## [](#_statistics)Statistics

The **Statistics** subsection reveals critical information about your DX Cloud deployment and are broken down in individual tabs on the Cockpit.

Select your **Release** and **Range** and apply the filters to display environment statistics.

![show select items](../../_images/environments/show-select-items.jpg)

### [](#_requests)Requests

The **Requests** tab displays the following information:

-   Ingress request rate

-   Magnolia request rate


The number of HTTP requests per second and per service at the [ingress](../../../kubernetes/#_ingress) level.

![request ingressLevel](../../_images/environments/statistics/request-ingressLevel.jpg)

The number of HTTP requests per second and per service at the Magnolia level.

![request magnoliaLevel](../../_images/environments/statistics/request-magnoliaLevel.jpg)

### [](#_responses)Responses

The **Responses** tab displays the following information:

-   Ingress response time

-   Magnolia response time


The average HTTP response time per service at the [ingress](../../../kubernetes/#_ingress) level.

![response ingressLevel](../../_images/environments/statistics/response-ingressLevel.jpg)

The average HTTP response time per service at the Magnolia level.

![response magnoliaLevel](../../_images/environments/statistics/response-magnoliaLevel.jpg)

### [](#_errors)Errors

The **Errors** tab displays the following information:

-   Application errors (non-`503`)

-   Service errors (`503`)


The number of HTTP requests returning an application error (non `503`) per service.

The number of HTTP requests returning a service error (`503`) per service.

### [](#_threads)Threads

The **Threads** tab displays the following information:

-   JVM dead locks

-   Tomcat thread pool


The number of thread deadlocks at the JVM level per backend instance.

![threads deadLock](../../_images/environments/statistics/threads-deadLock.jpg)

> **Warning:** Deadlocked threads may cause requests, command, and actions to remain uncompleted.

The size of the Tomcat thread pool per backend instance.

![threads threadPool](../../_images/environments/statistics/threads-threadPool.jpg)

### [](#_memory)Memory

The **Memory** tab displays the following information:

-   Heap size

-   Heap usage

-   Memory


The starting size, maximum size, and current size in `bytes` of the Magnolia instance.

> **Tip:** Hover over an item to see more details.

![heap size](../../_images/environments/heap-size.jpg)

The percentage of JVM currently used by the Magnolia instance.

> **Tip:** Hover over an item to see more details.

![heap usage](../../_images/environments/heap-usage.jpg)

The starting size, maximum size, and current size in `bytes` for the Magnolia instance over time. The starting and maximum sizes are set at startup and will not change unless Magnolia is restarted.

> **Tip:** Move the slider to your desired date range.

> **Tip:** Hover over an item to see more details.

![memory](../../_images/environments/memory.jpg)

### [](#_cpu)CPU

The **CPU** tab displays *CPU Usage*:

The CPU usage over time per pod including backend, frontend, and databases.

### [](#_storage)Storage

The **Storage** tab displays *Storage Usage*:

The Storage usage over time per pod including backend, frontend, and databases.

### [](#_cache)Cache

The **Cache** tab displays the following information:

-   Last flush

-   Cache hits


The date and time when the Magnolia default page cache was last flushed.

The date and time reflect your current time zone.

Hits on the Magnolia default page cache by request category.

|     |     |
| --- | --- |
| `dam-image` | images in Magnolia DAM |
| `dam-font` | fonts in Magnolia DAM |
| `dam-video` | videos in Magnolia DAM |
| `dam-audio` | audio clips in Magnolia DAM) |
| `dam-other` | other digital content in Magnolia DAM |
| `resource-image` | image resources |
| `resource-javascript` | Javascript resources |
| `resource-css` | CSS resources |
| `resource-other` | other resources |
| `imaging-image` | processed images |
| `imaging-video` | processed videos |
| `imaging-other` | other processed content |
| `magnolia` | Magnolia backend requests |
| `rest` | Magnolia REST endpoint requests |
| `monitoring` | Magnolia monitoring metrics |
| `extension` | requests to Magnolia starting with ":" |
| `other` | all other requests |

## [](#_magnolia_database)Magnolia Database

The **Magnolia Database** section displays metrics related to your Magnolia PostgreSQL database and JCR workspaces. Use this dashboard to monitor database size, binary storage, cache performance, and per-workspace storage details.

Select your desired **Release** and **Pod** from the sidebar filters as the metrics displayed are specific to these selections.

![magnolia database](../../_images/environments/magnolia-database.jpg)

In addition to the guidance here, there is embedded help available directly in the Cockpit.

### [](#_sidebar_filters)Sidebar filters

The sidebar filters allow you to refine your view.

| Filter | Description |
| --- | --- |
| **Release** | Select the namespace (release) to analyze. Defaults to the first available option. |
| **Pod** | Select the specific pod instance to analyze. Defaults to the first available option. |
| **Date range** | Select the time period for time series charts using preset ranges or the calendar picker for custom dates. |
| **Memory unit** | Choose how to display storage sizes: KB, MB, GB, or TB. |

Click **Apply filters** to update the view with your selected criteria.

### [](#_database)Database

The **Database** tab provides an overview of your Magnolia database metrics from the `mgnlDatabase` metrics family.

#### [](#_total_size)Total size

View the total size of your Magnolia database.

-   **Current size**: The latest database size measurement.

-   **Size over time**: A time series chart showing how database size has changed over the selected period.


#### [](#_binary_size)Binary size

View the total size of binaries (large records in Magnolia, typically assets and documents).

-   **Current binary size**: The latest measurement of binary storage.

-   **Binary size over time**: A time series chart showing binary storage trends.


#### [](#_average_binary_size)Average binary size

View the average size of individual binary records.

-   **Current average**: The latest average binary size measurement.

-   **Average over time**: A time series chart showing how average binary size has changed.


#### [](#_cache_ratio)Cache ratio

View the database cache hit ratio, which indicates how effectively the database cache is being utilized.

-   **Current cache ratio**: The latest cache hit ratio percentage.

-   **Cache ratio over time**: A time series chart showing cache performance trends.


> **Tip:** A higher cache ratio indicates better performance as more queries are served from cache rather than disk.

### [](#_workspaces)Workspaces

The **Workspaces** tab provides detailed metrics for each JCR [workspace](../../../../product-docs/7.0/Administration/Architecture/Workspaces/) from the `mgnlWorkspace` metrics family.

#### [](#_workspace_overview_table)Workspace overview table

The table displays metrics for all workspaces, sorted alphabetically by workspace name.

| Column | Description |
| --- | --- |
| **Workspace** | The name of the JCR workspace (for example, `website`, `dam`, `config`). |
| **Records** | The total number of records in the workspace. |
| **Total size** | The complete size of everything PostgreSQL stores for that workspace table. |
| **Table size** | The size of table data pages, visibility map, and free space map (excludes indexes and TOAST data). |
| **Index size** | The size of indexes associated with the workspace. |
| **Dead tuples** | The number of dead tuples (row versions that are no longer visible to any transaction). |

> **Tip:** A high number of dead tuples may indicate that the database would benefit from a VACUUM operation. For more on the VACUUM command, see PostgreSQL VACUUM documentation.

#### [](#_workspace_details)Workspace details

Click any value in the workspace table to view a detailed time series chart for that specific metric.

-   Click **Records** to view record count over time.

-   Click **Total size** to view total workspace size over time.

-   Click **Table size** to view table size over time.

-   Click **Index size** to view index size over time.

-   Click **Dead tuples** to view dead tuple count over time.


## [](#_magnolia_publications)Magnolia Publications

The **Magnolia Publications** section displays metrics related to publishing operations between your Author and Public instances. Use this dashboard to monitor publication volumes, response times, transaction health, and identify potential issues across your content delivery workflow.

Select your desired **Release** from the sidebar filters as the metrics displayed are specific to this selection.

![magnolia publications](../../_images/environments/magnolia-publications.jpg)

In addition to the guidance here, there is embedded help available directly in the Cockpit.

### [](#_sidebar_filters_2)Sidebar filters

The sidebar filters allow you to refine your view.

| Filter | Description |
| --- | --- |
| **Release** | Select the namespace (release) to analyze. Defaults to the first available option. |
| **Date range** | Select the time period for time series charts using preset ranges or the calendar picker for custom dates. |
| **Memory unit** | Choose how to display data sizes: KB, MB, GB, or TB. |

Click **Apply filters** to update the view with your selected criteria.

### [](#_request)Request

The **Request** tab provides an overview of publication and unpublication activity from the `mgnlPublication` metrics family.

#### [](#_publications)Publications

View the total number of publication operations.

-   **Current count**: The total publications during the selected period.

-   **Publications over time**: A time series chart showing publication activity trends.


#### [](#_unpublications)Unpublications

View unpublication activity and the ratio of unpublish operations.

-   **Current count**: The total unpublications during the selected period.

-   **Unpublish ratio**: The proportion of operations that were unpublications rather than publications.

-   **Unpublications over time**: A time series chart showing unpublication activity trends.


#### [](#_success_ratio)Success ratio

View the percentage of publication operations that completed successfully.

-   **Current success ratio**: The latest success rate percentage.

-   **Success ratio over time**: A time series chart showing how publication success rates have changed.


> **Tip:** A declining success ratio may indicate issues with subscriber connectivity, content conflicts, or infrastructure problems that require investigation.

#### [](#_top_error_messages)Top error messages

View the most common error messages from failed publication operations, ranked by frequency. Identifying common errors helps prioritize troubleshooting efforts and address the most impactful issues first.

### [](#_response_time)Response time

The **Response time** tab provides latency metrics for publication operations.

#### [](#_latency)Latency

View the average time for publication operations to complete.

-   **Current latency**: The mean duration from initiating a publication to confirmation of delivery.

-   **Latency over time**: A time series chart showing publication response time trends.


#### [](#_p95_latency)P95 latency

View the 95th percentile publication latency, which reveals the experience of slower operations while excluding extreme outliers.

-   **Current P95 latency**: The response time threshold that 95% of publication operations fall within.

-   **P95 latency over time**: A time series chart showing how P95 latency has changed.


> **Tip:** If P95 latency is significantly higher than average latency, investigate what causes the slowest 5% of publications.

#### [](#_subscriber_response_time)Subscriber response time

View average response times broken down by individual Public instance subscribers.

-   **Current response times**: A breakdown of publication latency by subscriber.

-   **Response time over time**: A time series chart showing how each subscriberâ€™s response time has varied.


> **Tip:** If a specific subscriber shows consistently high response times, check its resources, network connectivity, and workload.

### [](#_transactions)Transactions

The **Transactions** tab provides metrics on publication transaction health.

#### [](#_rollback_ratio)Rollback ratio

View the percentage of publication transactions that were rolled back due to failures.

-   **Current rollback ratio**: The proportion of publication commits that failed and had to be reversed.

-   **Rollback ratio over time**: A time series chart showing transaction rollback trends.


> **Tip:** A high rollback ratio indicates transaction failures preventing content from being published. Investigate potential causes such as database locks, timeout issues, or content conflicts.

### [](#_traffic)Traffic

The **Traffic** tab provides metrics on data transfer volumes during publication operations.

#### [](#_data_size)Data size

View the total volume of data transferred during publications.

-   **Current data size**: The cumulative size of content published from Author to Public instances.

-   **Data size over time**: A time series chart showing data transfer trends.


> **Tip:** If data size is unexpectedly high, review what content is being published, particularly large assets in the DAM workspace.

### [](#_workspaces_2)Workspaces

The **Workspaces** tab provides publication metrics broken down by JCR [workspace](../../../../product-docs/7.0/Administration/Architecture/Workspaces/).

#### [](#_total_by_workspace)Total by workspace

View the total number of publication operations for each workspace (for example, `website`, `dam`, `config`). This helps identify which workspaces have the most publishing activity.

#### [](#_failures_by_workspace)Failures by workspace

View the total number of failed publication operations for each workspace. This helps identify if publication problems are isolated to specific content types or distributed across the system.

### [](#_publishers)Publishers

The **Publishers** tab identifies your most active content publishers.

#### [](#_top_publishers)Top publishers

View a ranked list of users by publication activity during the selected period. This helps identify content authoring patterns and workload distribution across your team.

## [](#_loggers)Loggers

The **Loggers** tab under Environments lets you add Loggers from the Cockpit as opposed to doing it in AdminCentral within Magnolia itself.

> **Tip:** For more on Loggers in Magnolia, see Log Tools app.

You can add, adjust levels, and delete Loggers from the Cockpit.

1.  First, in your Cockpit go to **Environments > Loggers**.

2.  Select your **Release** and **Pod** to display your Loggers.

    ![logger filters](../../_images/environments/logger-filters.jpg)

3.  Now, you can add, adjust, or delete Loggers.

    -   Add Logger

    -   Adjust Logger level

    -   Delete Logger


    At the top of the page:

    4.  Enter a **Name** and **Level** for your Logger.

    5.  Click **Add**.


    ![add logger](../../_images/environments/loggers/add-logger.jpg)

    4.  Scroll to your desired Logger.

    5.  In the **Level** dropdown menu, select your desired log level\[[1](#_footnotedef_1 "View footnote.")\].


    ![adjust logger](../../_images/environments/loggers/adjust-logger.jpg)

    4.  Scroll to your desired Logger.

    5.  Click **Delete**.


    ![delete logger](../../_images/environments/loggers/delete-logger.jpg)


## [](#_manage_your_environments)Manage your environments

Manage your environments via the Cockpit by going to **Environments** and selecting *Manage*. You can manage both your integration and production (prod) environments here. Within the environment, you are able to manage your DX Cloud *backend* and *frontend* separately.

> **Note:** The examples and descriptions below apply to both backend and frontend environments as well as both author/public instances.

![manage environments](../../_images/environments/manage-environments.jpg)

<div class="joplin-table-wrapper"><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 10%;"> <col style="width: 30%;"> <col style="width: 60%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">No</th><th class="tableblock halign-left valign-top">Item</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Start</strong></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Start your environment.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Stop</strong></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Destroys all instances down to <code>0</code> replicas.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Delete indexes</strong></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Delete the environmentâ€™s indexes. See <a href="#_delete_indexes">Delete Indexes</a> for instructions.</p></div><div class="admonitionblock caution"><table><tbody><tr><td class="icon"><i class="fa icon-caution" title="Caution"></i></td><td class="content">Deleting an index shuts down Magnolia. The subsequent restart will be slower, because Magnolia is rebuilding the index.</td></tr></tbody></table></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>4</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><strong><span class="icon"><i class="fa fa-plus"></i></span>All containers</strong></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Display a list of all containers associated with the environment. Information such as the following is available:</p></div><div class="ulist"><ul><li><p><strong>State</strong>: The current state of the container (e.g., running, terminated)</p></li><li><p><strong>Ready</strong>: Whether the container is ready or not. A <span class="icon"><i class="fa fa-check"></i></span>signals the container is ready.</p></li><li><p><strong>Name</strong>: The name of the container.</p></li><li><p><strong>Started</strong>: The date and time when the container was started.</p></li><li><p><strong>Finished</strong>: The date and time when the container finished.</p></li><li><p><strong>Reason</strong>: The reason why the container stopped.</p></li><li><p><strong>Message</strong>: A message about the container (if any messages were added).</p></li></ul></div><div class="imageblock zoom"><div class="content"><img src="../../_images/environments/environment-all-containers.jpg" alt="environment all containers"></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>5</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><strong><span class="icon"><i class="fa fa-plus-square-o"></i></span>See logs</strong></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Takes you directly to any applicable log information. See <a href="../logs/" class="xref page">Logs</a> for more details.</p></div></div></td></tr></tbody></table></div>

### [](#_delete_an_environment)Delete an environment

You can delete an environment directly from the Cockpit.

> **Warning:** This action permanently deletes the selected environment and cannot be undone.

#### [](#_what_gets_deleted)What gets deleted

When you delete an environment, the following components are permanently removed:

Core infrastructure

-   **Environment instance**: The entire runtime environment

-   **All deployed applications**: Including Magnolia CMS instances and any custom applications

-   **Database**: All content, configurations, and user data stored in the environmentâ€™s database

-   **File storage**: All uploaded assets, documents, and media files


Network & security configuration

-   **Ingresses**: All traffic routing rules and load balancer configurations

-   **Secrets**: API keys, certificates, passwords, and other sensitive configuration data

-   **SSL/TLS certificates**: Custom certificates and Letâ€™s Encrypt certificates

-   **CDN configuration**: Content delivery network settings and cached content


#### [](#_instructions)Instructions

1.  Go to **Environments > Manage**.

2.  Go to the environment that you want to delete.

3.  Click **Delete environment**.

4.  Follow any on-screen instructions for confirming the deletion.


### [](#_delete_indexes)Delete Indexes

You may want to completely delete the indexes for an environment. This can be done directly through the Cockpit.

What happens when I delete an index? ðŸ¤”

After deleting an index, the system restarts and rebuilds them based on the data found in the [persistence database](#_persistence_database).

Downtime varies depending on the amount of data associated with an index. This duration ranges from seconds to hours depending. To help reduce this downtime, we use the [`rollingUpdate` approach](https://kubernetes.io/docs/tutorials/kubernetes-basics/update/update-intro/).

To delete the index folders:

1.  Go to **Environments > Manage**.

2.  Click **Delete indexes** for the desired environment.


* * *

[1](#_footnoteref_1). The levels available are standard Log4J log levels: `ALL`; `TRACE`; `DEBUG`; `INFO`; `WARN`; `ERROR`; `FATAL`; `OFF`.
