---
title: "Multi field"
url: https://docs.magnolia-cms.com/product-docs/6.3/Developing/Templating/Dialog-definition/Field-definition/List-of-fields/Multi-field/
category: Magnolia 6.3
version: 6.3
breadcrumb: DX Core > Developing > Templating > Multi field
---

# Multi field

info.magnolia.ui.field.MultiFieldDefinition renders a complex field composed of one or more field sets (for example, three sets of two text fields). Magnolia provides four preconfigured multi field definitions:

-   info.magnolia.ui.field.MultiValueFieldDefinition: allows you to enter multiple values of a single type to be stored as an array in a single JCR property (`multiValueField`).

-   info.magnolia.ui.field.JcrMultiLinkFieldDefinition: allows you to select multiple values of a single type in a [chooser dialog](../../../Dialog-types/#_chooser_dialog) to be stored as an array in a single JCR property (`jcrMultiLinkField`).

-   info.magnolia.ui.field.JcrMultiFieldDefinition: allows you to create multiple JCR fields (`jcrMultiField`).

-   info.magnolia.rest.ui.field.JsonMultiFieldDefinition: allows you to create multiple JSON fields to be used in an app with its own [JSON data source](../../../../../../Modules/List-of-modules/REST-Client-module/JSON-data-source/) (`jsonMultiField`).


> **Note:** These multi field definitions are part of the Magnolia 6 UI framework. Their fully qualified class names are:info.magnolia.ui.field.MultiValueFieldDefinitioninfo.magnolia.ui.field.JcrMultiLinkFieldDefinitioninfo.magnolia.ui.field.JcrMultiFieldDefinitioninfo.magnolia.rest.ui.field.JsonMultiFieldDefinitionIn the Magnolia 5 UI framework, the field functionally parallel to the JCR fields is Magnolia DX Core support. field]. There is no corresponding 5 UI implementation for the JSON multi field.

## [](#_example_definitions)Example definitions

-   JCR multi-value field

-   JCR multi-link field

-   JCR multi field

-   JSON multi field


```yml
assignedSegments:
  $type: multiValueField
  label: Multi-value field
  field:
    $type: comboBoxField
    label: Path
    datasource:
      $type: jcrDatasource
      workspace: website
```

```yml
jcrMultiLinkField:
  $type: jcrMultiLinkField
  label: Multi-link field
  field:
    $type: linkField
    label: Page
    datasource:
      $type: jcrDatasource
      workspace: website
damMultiLinkField:
  $type: jcrMultiLinkField
  label: Multi-link field
  chooserId: dam-app-core:multiChooser
  field:
    $type: damLinkField
    label: Asset
```

```yml
multi:
  i18n: true
  $type: jcrMultiField
  label: Address list
  field:
    $type: compositeField
    label: Address
    properties:
      street:
        $type: textField
        label: Street
      city:
        i18n: true
        $type: textField
        label: City
      zip:
        $type: textField
        label: ZIP code
```

```yml
stationboard:
  label: Station Board
  $type: jsonMultiField
  itemProvider:
    $type: jsonMultiFieldProvider
  field:
    $type: jsonCompositeField
    idPropertyName: name
    properties:
      name:
        label: Name
        $type: textField
        readOnly: true
      to:
        label: To
        $type: textField
        readOnly: true
      operator:
        label: Operator
        $type: textField
        readOnly: true
```

> **Caution:** JSON data source is read-only. Therefore, it only supports read-only fields in, typically, the content detail subapp of a read-only REST app. jsonMultiField is designed to show field data from REST sources; you can’t add, edit, or delete a field entry.The example above is used in the Stations app contained in the field-examples-module. See also Composite field.

> **Tip:** You can preview this example using the field-examples-module. See Field examples module for more information.

## [](#_field_properties)Field properties

### [](#_common_multi_field_properties)Common multi field properties

<div class="joplin-table-wrapper"><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 30%;"> <col style="width: 70%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Property</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>field</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>required</strong></p></div><div class="paragraph"><p>Node containing an editor property definition item (typically, a field).</p></div><div class="paragraph"><p>All <a href="../../#_field_types" class="xref page">field types</a> are supported. See <a href="../" class="xref page">List of fields</a> for more information.</p></div><div class="admonitionblock important"><table><tbody><tr><td class="icon"><i class="fa icon-important" title="Important"></i></td><td class="content"><code>JcrMultiLinkFieldDefinition</code> supports only <a href="../Link-field/" class="xref page">link</a> and <a href="../Combobox-field/" class="xref page">combobox</a> fields.</td></tr></tbody></table></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>chooserId</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong> (used only in <code>JcrMultiLinkFieldDefinition</code>), <em>default is <code>ui-framework-core:multiChooser</code></em></p></div><div class="paragraph"><p>Unique identifier for the multi-<a href="../../../Dialog-types/#_chooser_dialog" class="xref page">chooser dialog</a>. If none is specified, the <a href="https://git.magnolia-cms.com/projects/PLATFORM/repos/ui.pub/browse/magnolia-ui-framework-jcr/src/main/resources/ui-framework-jcr/dialogs/multiChooser.yaml" target="_blank" rel="noopener">JCR <code>multiChooser</code></a> will be used by default.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>entryResolution</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong>, <em>default is</em></p></div><div class="ulist"><ul><li><p><em><code>MultiFieldEntryResolution</code> for <code>JcrMultiFieldDefinition</code></em></p></li><li><p><em><code>MultiJcrBlockEntryResolution</code> for <code>MultiJcrBlockDefinition</code></em></p></li><li><p><em><code>JsonMultiFieldEntryResolver</code> for <code>JsonMultiFieldDefinition</code></em></p></li></ul></div><div class="paragraph"><p>Implementation class that defines how the child entries of a multi field should be resolved.</p></div><div class="admonitionblock important"><table><tbody><tr><td class="icon"><i class="fa icon-important" title="Important"></i></td><td class="content"><div class="paragraph"><p><code>MultiFieldEntryResolution</code> of <code>JcrMultiFieldDefinition</code> extends <code>ByIndexedChildNodes</code>, which resolves entry nodes regardless of node names. To enable this non-strict resolution behavior, there is a <code>strict</code> property that is set to <code>false</code> by default.</p></div><div class="paragraph"><p>Setting <code>strict</code> to <code>true</code> ensures backward compatibility (for example, when porting configurations that use <a href="#6.2@product-docs:ROOT:Upgrading-to-Magnolia/Magnolia-6-UI-ports-of-5-UI-field-transformer-classes.adoc" class="xref unresolved"><em>Magnolia 5 UI</em> multi field transformers</a>). In configurations such as the two below, <code>strict</code> falls back to the required value and that change appears in the <a href="../../../../../../Apps/List-of-apps/Definitions-app/" class="xref page">Definitions app</a>.</p></div><div class="ulist"><ul><li><p><code>itemProvider</code> specifies the type of data binding for subnodes in complex fields. When you configure a multi field with <a href="../../Item-providers/#_for_any_data_source" class="xref page">CurrentItemProvider</a> and set <code>entryResolution</code> to <code>MultiFieldEntryResolution</code>, the <code>strict</code> node resolution is set to <code>false</code>. This ensures that nodes, which aren’t multi fields, don’t get resolved as multi fields.</p></li><li><p>When you configure a multi field with <a href="#6.2@product-docs:ROOT:Releases/Release-notes-for-Magnolia-CMS-6.2.1.adoc#_new_supporti18n_property_in_jcrchildnodeprovider" class="xref unresolved">isSupportI18N</a> set to <code>false</code>, the <code>strict</code> property of <code>entryResolution</code> is set to <code>false</code>. The <code>isSupportI18N</code> configuration flattens localized multi parent nodes into a single parent. However, you need to resolve child nodes in a way that considers their locale suffix and doesn’t take everything beneath the parent, so <code>strict</code> is set to <code>true</code>.</p></li></ul></div></td></tr></tbody></table></div><div class="admonitionblock caution"><table><tbody><tr><td class="icon"><i class="fa icon-caution" title="Caution"></i></td><td class="content"><div class="paragraph"><p>You can’t configure this property through YAML but it can be used in your Java code.</p></div></td></tr></tbody></table></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>orderHandler</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong>, <em>default is</em></p></div><div class="ulist"><ul><li><p><em><code>DefaultJcrNodeOrderHandler</code> for <code>JcrMultiFieldDefinition</code></em></p></li><li><p><em><code>MultiJcrBlockOrderHandler</code> for <code>JcrMultiFieldDefinition</code></em></p></li></ul></div><div class="paragraph"><p>Implementation class that sorts nodes and ensures that the suffixes in index names correspond to the order in which they are stored.</p></div><div class="paragraph"><p>When <code>MultiFormDefinition$OrderHandlerDefinition$Noop</code> is used, the order of the items of a multi field cannot be changed retroactively.</p></div><div class="admonitionblock caution"><table><tbody><tr><td class="icon"><i class="fa icon-caution" title="Caution"></i></td><td class="content"><div class="paragraph"><p>You can’t configure this property through YAML but it can be used in your Java code.</p></div></td></tr></tbody></table></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>canRemoveItems</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong>, <em>default is <code>true</code> for <code>MultiValueFieldDefinition</code> and <code>JcrMultiFieldDefinition</code></em></p></div><div class="paragraph"><p>When <code>false</code>, the items of a multi field cannot be removed from a dialog.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>buttonSelectAddLabel</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong>, <em>default is translated <code>buttons.add</code> key (translated <code>dialogs.buttons.select.multiple</code> key for <code>JcrMultiLinkFieldDefinition</code>)</em></p></div><div class="paragraph"><p>Button label for adding an item. The value is <a href="../../../../../../Administration/Language/Internationalization/#_i18n_message_keys" class="xref page">i18n</a>-able.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>buttonSelectRemoveLabel</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong>, <em>default is translated <code>buttons.delete</code> key</em></p></div><div class="paragraph"><p>Button label for removing an item. The value is <a href="../../../../../../Administration/Language/Internationalization/#_i18n_message_keys" class="xref page">i18n</a>-able.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>minItems</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong>, <em>default is <code>0</code></em></p></div><div class="paragraph"><p>Specifies the minimum number of items to be added.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxItems</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong>, <em>default is <code>Integer.MAX_VALUE</code></em></p></div><div class="paragraph"><p>Specifies the maximum number of items to be added.</p></div><div class="admonitionblock important"><table><tbody><tr><td class="icon"><i class="fa icon-important" title="Important"></i></td><td class="content"><div class="paragraph"><p>If <code>minItems</code> is greater than <code>maxItems</code>, item count validation will be disabled.</p></div></td></tr></tbody></table></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>itemCountErrorMessage</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong>, <em>default is translated <code>validators.multi.itemCount.errorMessage</code> key</em></p></div><div class="paragraph"><p>Error message shown when the number of items is less than <code>minItems</code> or greater than <code>maxItems</code>. The value can be literal or a <a href="../../../../../../Administration/Language/Internationalization/#_i18n_message_keys" class="xref page">key</a> of a <a href="../../../../../../Administration/Language/Internationalization/#_i18n_message_bundle" class="xref page">message bundle</a>.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>required</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong>, <em>default is <code>false</code></em></p></div><div class="paragraph"><p>Makes the field required. An asterisk is displayed next to the field label.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>requiredErrorMessage</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong>, <em>default is translated <code>validation.message.required</code> key</em></p></div><div class="paragraph"><p>Error message shown when <code>required</code> is set to <code>true</code> and the user saves an empty field. The value can be literal or a <a href="../../../../../../Administration/Language/Internationalization/#_i18n_message_keys" class="xref page">key</a> of a <a href="../../../../../../Administration/Language/Internationalization/#_i18n_message_bundle" class="xref page">message bundle</a>.</p></div></div></td></tr></tbody></table></div>

### [](#_common_complex_field_properties)Common complex field properties

<div class="joplin-table-wrapper"><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 30%;"> <col style="width: 70%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Property</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>required</strong></p></div><div class="paragraph"><p>Name of the field definition item. Derived from the configured node name. Use alphanumeric characters without spaces.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>class</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>required</strong> (unless <code>$type</code> is used)</p></div><div class="paragraph"><p>Type of the field definition item. The value must be a fully qualified class name and a subtype of <code>info.magnolia.ui.field.FieldDefinition</code>. See <a href="../../#_field_types" class="xref page">Field types</a> for possible values.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>$type</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>You can use this as a shortcut for <code>class</code> if the definition class is annotated with <code>info.magnolia.ui.field.FieldType</code>. The proper value is defined by the annotation.</p></div><div class="listingblock"><div class="title">Example class annotation</div><div class="content"><pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@FieldType("textField")
public class TextFieldDefinition extends ConfiguredFieldDefinition&lt;String&gt; {
...
}</code></pre></div></div><div class="paragraph"><p>See <a href="../../#_field_types" class="xref page">Field types</a> for possible values.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>itemProvider</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong>, <em>default is</em></p></div><div class="ulist"><ul><li><p><em><code>JcrChildNodeProviderDefinition</code> for <code>JcrMultiFieldDefinition</code></em></p></li><li><p><em><code>CurrentItemProviderDefinition</code> for <code>StaticFieldViewDefinition</code></em></p></li></ul></div><div class="paragraph"><p>Node with a <code>$type</code> property that specifies the type of data binding for the subnodes in complex fields.</p></div><div class="paragraph"><p>For more details, see <a href="../../Item-providers/" class="xref page">Item providers</a>.</p></div><div class="admonitionblock caution"><table><tbody><tr><td class="icon"><i class="fa icon-caution" title="Caution"></i></td><td class="content"><div class="paragraph"><p>You can’t configure this property through YAML but it can be used in your Java code.</p></div></td></tr></tbody></table></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>description</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong></p></div><div class="paragraph"><p>Help text displayed when the user clicks the help icon. The value can be literal or a <a href="../../../../../../Administration/Language/Internationalization/#_i18n_message_keys" class="xref page">key</a> of a <a href="../../../../../../Administration/Language/Internationalization/#_i18n_message_bundle" class="xref page">message bundle</a>.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>i18n</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong>, <em>default is <code>false</code></em></p></div><div class="paragraph"><p>Enables <a href="../../../../../../Administration/Language/Language-configuration/" class="xref page">i18n authoring support</a>, which allows editors to write foreign-language or regionally targeted content. A two-letter language identifier (<code>en</code>, <code>de</code>, <code>fr</code>, etc.) is displayed on controls where <code>i18n</code> is set to <code>true</code>.</p></div><div class="admonitionblock important"><table><tbody><tr><td class="icon"><i class="fa icon-important" title="Important"></i></td><td class="content"><div class="paragraph"><p>When defining the property for a <a href="#">multi field</a>, the following configurations are possible:</p></div><div class="ulist"><ul><li><p>To translate <em>a unique set of entries</em>, set <code>i18n</code> to <code>false</code> for the multi field and to <code>true</code> for its inner fields.</p></li><li><p>To translate <em>different sets of entries</em>, set <code>i18n</code> to <code>true</code> for the multi field and to <code>false</code> for its inner fields (no fallback here between languages).</p></li></ul></div><div class="paragraph"><p>We do not recommend setting <code>i18n</code> to <code>true</code> on both levels.</p></div></td></tr></tbody></table></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>label</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong></p></div><div class="paragraph"><p>Field label displayed to editors. The value can be literal or a <a href="../../../../../../Administration/Language/Internationalization/#_i18n_message_keys" class="xref page">key</a> of a <a href="../../../../../../Administration/Language/Internationalization/#_i18n_message_bundle" class="xref page">message bundle</a>.</p></div><div class="paragraph"><p>If you do not provide the property, Magnolia will fall back to a generated i18n key.</p></div><div class="paragraph"><p>If you do not want to have any label, set the property to an empty string such as <code>label: ""</code> in YAML.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>styleName</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><strong>optional</strong></p></div><div class="paragraph"><p>Additional style information for an editor property definition item applied to the element when the form is rendered. The value can be a CSS class or a list of CSS classes separated by white spaces.</p></div><div class="paragraph"><p>The style name will be rendered as an HTML class name, which can be used in a CSS definition. The class name is added to the field by calling the Vaadin method <a href="https://vaadin.com/api/framework/8/com/vaadin/ui/AbstractComponent.html#addStyleName-java.lang.String-" target="_blank" rel="noopener"><code>addStyleName</code></a>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class="icon"><i class="fa icon-note" title="Note"></i></td><td class="content"><div class="paragraph"><p>The referenced class can be defined in:</p></div><div class="ulist"><ul><li><p>An <a href="../../../../Theme/" class="xref page">out-of-the-box Magnolia theme</a>.</p></li><li><p>A <a href="https://vaadin.com/docs/v8/framework/themes/themes-creating.html" target="_blank" rel="noopener">custom theme</a>.</p></li><li><p>A <a href="https://vaadin.com/forum/thread/17175160/where-to-put-the-style-css" target="_blank" rel="noopener">custom component style sheet</a>.</p></li></ul></div></td></tr></tbody></table></div></div></td></tr></tbody></table></div>

## [](#_form_validation_of_multiple_values)Form validation of multiple values

To validate that `multiValueField` has only unique values, you can create `UniqueValuesMultiFormView` as an implementation class that extends `MultiFormView`.

```java
public class UniqueValuesMultiFormView<T> extends MultiFormView<T> {

    @Inject
    public UniqueValuesMultiFormView(MultiFormDefinition<T> definition, LocaleContext localeContext, Datasource<T> datasource) {
        super(definition, localeContext, datasource);
    }

    @Override
    public List<BinderValidationStatus<?>> validate() {
        final List<BinderValidationStatus<?>> validate = super.validate();
        if (validate.stream().allMatch(BinderValidationStatus::isOk)) {
            List<String> valuesStringList = validate.stream()
                    .map(v -> v.getBinder().getFields().findFirst().get().getValue()) // could be any data type other than string
                    .map(String::valueOf)
                    .collect(Collectors.toList());
            if (new HashSet<>(valuesStringList).size() != valuesStringList.size()) {
                final Binder.Binding<?, ?> binding = validate.stream()
                        .flatMap(binderValidationStatus -> binderValidationStatus.getFieldValidationStatuses().stream())
                        .map(BindingValidationStatus::getBinding)
                        .findFirst()
                        .orElse(null);
                final BindingValidationStatus<?> validationStatus = new BindingValidationStatus<>(Result.error("All values has to be unique"), binding);
                binding.getValidationStatusHandler().statusChange(validationStatus);
                validate.add(new BinderValidationStatus<>(null, Collections.singletonList(validationStatus), new ArrayList<>()));
            }
        }
        return validate;
    }
}
```

```yml
implementationClass: info.magnolia.ui.editor.UniqueValuesMultiFormView
field:
  $type: textField
```
