---
title: "Matomo extension"
url: https://docs.magnolia-cms.com/product-docs/6.3/Modules/extensions-and-frameworks/analytics-integration-framework/analytics-matomo-connector/
category: Magnolia 6.3
version: 6.3
breadcrumb: DX Core > Modules > Analytics integration framework > Connecting > Matomo extension
---

# Matomo extension

Once you have [installed the analytics integration framework](../Analytics-module/), you must connect to your data supplier. This page describes how to connect to a Matomo data supplier.

You must have an appropriate account and credentials to connect to Matomo.

## [](#_licensing)Licensing

The associated framework is included with your DX Core license and is free of charge. However, this extension is paid and requires an additional [special license](../../../../Administration/License/).

## [](#_connecting_matomo_as_your_data_supplier)Connecting Matomo as your data supplier

Define the data supplier(s) for the charts to be displayed in the Analytics app dashboard. Marketers or editors can select the data suppliers you configure when they create dashboards and widgets in the Analytics app.

Data suppliers are defined under: `/<module name>/dataSuppliers/<dataSupplierRegistryFile.yaml>`.

/matomo/dataSuppliers/demoMatomoSupplier.yaml

```yml
class: info.magnolia.analytics.matomo.datasource.MatomoDataSupplierWithTransformer
credentials:
  parameters:
    serverUrl: https://demo.matomo.org
    tokenAuth: anonymous
parameters:
  method: API.get
  module: API
  idSite: 1
  date: last7
  period: day
  format: json
defaultAPIMethodForTotalReport: API.get
```

| Property | Description |
| --- | --- |
| `class` | **required**<br><br>info.magnolia.analytics.matomo.datasource.MatomoDataSupplierWithTransformer |
| `credentials` | **required** |
| `parameters` | **required** |
| `serverUrl` | **required**<br><br>The URL to your Matomo server. |
| `tokenAuth` | **required**<br><br>The [authentication token from Matomo](https://matomo.org/faq/general/faq_114/). |
| `parameters` | **required**<br><br>The parameters used in the REST call to configure the JSON results retrieved. These parameters vary depending on the data supplier used.<br><br>Each parameter is a key-value pair.<br><br>For Matomo, at least the `format: json` key-value is required to retrieve JSON format data.<br><br>See the [Matomo API documentation](https://developer.matomo.org/api-reference/reporting-api#API) to find valid parameters for Matomo. For example, the Matomo example above retrieves JSON format data using the [Matomo API.get](https://developer.matomo.org/api-reference/reporting-api#API). |
| `filteringSubSetExpression` | **optional**<br><br>Use to configure segment filtering. |
| `segment` | **optional**<br><br>Expression to filter a segment.<br><br>For example: `pageUrl=@%s` |
| `defaultAPIMethodForTotalReport` | **required**<br><br>Use to configure the API to get a total report. Specific to the Metric number chart.<br><br>API suggestion: **API.get** |

## [](#_further_reading)Further reading

-   Matomo demo [https://demo.matomo.org/](https://demo.matomo.org/) Use this live Matomo demo to add charts to a dashboard. Learn what common metrics Matomo supports.

-   Matomo metrics reference [https://developer.matomo.org/api-reference/reporting-api#api-response-metric-definitions](https://developer.matomo.org/api-reference/reporting-api#api-response-metric-definitions)

-   Matomo dimensions reference [https://developer.matomo.org/api-reference/reporting-api-segmentation#list-of-segments](https://developer.matomo.org/api-reference/reporting-api-segmentation#list-of-segments)

-   See some Matomo issues below regarding filtering by segment pageUrl: [https://github.com/matomo-org/matomo/issues/11900](https://github.com/matomo-org/matomo/issues/11900), [https://github.com/matomo-org/matomo/issues/15163](https://github.com/matomo-org/matomo/issues/15163), [https://matomo.org/faq/how-to/how-do-i-get-matomo-segments-to-behave-as-a-filter/](https://matomo.org/faq/how-to/how-do-i-get-matomo-segments-to-behave-as-a-filter/)
