---
title: "Enabling versioning in Swift publication"
url: https://docs.magnolia-cms.com/product-docs/Modules/List-of-modules/Swift-publication-module/Swift-versioning/
category: Magnolia 6.4
version: latest
breadcrumb: DX Core > Modules > Swift publication > Versioning
---

# Enabling versioning in Swift publication

DX Core publishing [versions pages](../../../../Apps/Developing-an-app/Specific-aspects/Enabling-versioning-in-content-apps/) by default in the publishing process. To enable versioning for content within the Assets app and other content applications when using Swift publication, each respective application needs configuration.

## [](#_configuring_content_apps)Configuring content apps

To configure content applications for versioning with Swift publication, follow the steps illustrated using the Personas app below.

1.  **Decorate `versions.yaml`**: Update this dialog definition to use version configurations from the `swift-versioning-ui` module.

    personalization-personas-app/dialogs/versions.yaml

    ```yaml
    form:
      properties:
        versions:
          datasource:
            name: s3-version

    actions:
      commit:
        class: info.magnolia.swift.versioning.ui.action.ShowSwiftVersionActionDefinition
    ```

2.  **Decorate publishing actions**: Ensure all publishing, deletion, and restore actions use the `external` catalog.

    personalization-personas-app/apps/personas-app.yaml

    ```yaml
    ...
          activate:
            catalog: external (1)
            $type: jcrCommandAction
            command: publish
            icon: icon-publish
            availability:
              writePermissionRequired: true
              rules:
                IsNotDeletedRule: *IsNotDeletedRule
    ...
    ```

    |     |     |
    | --- | --- |
    | **1** | Changed from the default `versioned`. |


## [](#_configuring_the_dam_app)Configuring the DAM app

The DAM app’s versioning configuration for Swift publication mirrors that of [other content apps](#_configuring_content_apps). You should decorate publishing, deletion, and restore actions for Swift publication.

1.  The `catalog` property must be set to `external`.

2.  The `bulk` property isn’t supported and must be set to `false`.


/dam-app-jcr/decorations/dam-assets-app/apps/dam.subApps.yaml

```yaml
    publish:
      icon: icon-publish
      class: info.magnolia.ui.contentapp.action.JcrCommandActionDefinition
      command: publish
      catalog: external (1)
      bulk: false (2)
      availability:
        multiple: true
        writePermissionRequired: true
        rules:
          notDeleted: *notDeleted
          isPublishable: &isPublishable
            $type: jcrPublishableRule
```

|     |     |
| --- | --- |
| **1** | The `catalog` property is set to `external` for Swift publication. |
| **2** | The `bulk` property is set to `false` because it isn’t supported in Swift publication. |

## [](#_known_issue_publishing_status_isnt_updated_in_real_time)Known issue: Publishing status isn’t updated in real time

> **Note:** This issue only affects content apps other than the Pages app (for example, DAM).

When publishing in these apps, the **Status** column doesn’t update in real time. You have to refresh the page to see the current status instead.

### [](#_workaround)Workaround

Add the following component configuration for `DatasourceObservation` to your module descriptor (for example, `your-module/src/main/resources/META-INF/magnolia/your-module.xml`):

your-module.xml

```xml
<module>
  <components>
    <id>app-dam</id> (1)
    <component>
      <type>info.magnolia.ui.observation.DatasourceObservation</type>
      <implementation>info.magnolia.swift.versioning.ui.observation.GlobalObservationAwareDatasourceObservation</implementation>
    </component>
  </components>
</module>
```

|     |     |
| --- | --- |
| **1** | Replace `app-dam` with your target app ID. |
