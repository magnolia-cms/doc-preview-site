---
title: "Magnolia Vue Editor"
url: https://docs.magnolia-cms.com/product-docs/7.0/Developing/headless/spa-development/magnolia-front-end-sdk/magnolia-vue-editor/
category: Magnolia 6.4
version: latest
breadcrumb: DX Core > Front-end development > Headless development guidelines > Magnolia front-end SDK > Magnolia Vue Editor
---

# Magnolia Vue Editor

This page describes the installation, components and functions of the Magnolia Vue Editor — a lightweight, fully-featured library connecting Vue projects with the WYSIWYG authoring experience of the Magnolia Pages app.

> **Caution:** Magnolia Vue Editor only supports Vue 3.For Vue 2, see the @magnolia-services/vue2-editor site.

## [](#_installation)Installation

To install the editor, open the command prompt and enter the following command.

```none
npm install @magnolia/vue-editor
```

> **Note:** is the latest version of the Magnolia Vue Editor.

## [](#_reference)Reference

### [](#_editablearea)`<EditableArea>`

The wrapping component for [areas](../../../../Templating/Template-definition/Area-definition/).

The component can be used only inside the Vue components that are instantiated by `EditablePage`. That is, the Vue component must be in the `componentMappings` object supplied to the `EditablePage` via its `config` parameter.

By default, the area component loops over all of its child components.

`EditableArea` renders Vue components for each component node in its `content`. It determines which component to render based on the `mgnl:template` value of the node and the `componentMappings` supplied to the `EditablePage config` property. The properties of each component and areas (if any) are passed as props to the child components.

The default behavior can be changed with `customView`.

In the editor view of the Magnolia Pages app, it will add the annotations that are required to render the green bars with the authoring UI. The annotations are added as HTML comments.

#### [](#_properties)Properties

<div class="joplin-table-wrapper"><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 30%;"> <col style="width: 70%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Property</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>areaConfig</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>An object with default values for boolean attributes <code>fallthrough: true</code>, <code>passAttrsToChildComponents: false</code> and <code>unwrapAttrsToChildComponents: false</code>, used if the property is missing in an <code>EditableArea</code>.</p></div><div class="ulist"><div class="title">Configurable attributes</div><ul><li><p><code>fallthrough</code>: Controls attribute fallthrough behavior as described in the <a href="https://vuejs.org/guide/components/attrs.html" target="_blank" rel="noopener">Vue.js documentation</a>.</p></li><li><p><code>passAttrsToChildComponents</code>: Passes unconsumed attributes from <code>EditableArea</code> to its child components (<code>EditableXXX</code> for content-only cases, slots, or custom views).</p><div class="paragraph"><p>Attributes are wrapped in an <code>attrs</code> property to ensure compatibility with the <code>class</code> attribute.</p></div></li><li><p><code>unwrapAttrsToChildComponents</code>: Bypasses wrapping unconsumed attributes in <code>EditableArea</code> within an <code>attrs</code> property.</p><div class="paragraph"><p>As a workaround, <code>className</code> can be used instead of <code>class</code>, for example:</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">...
&lt;EditableArea className="classValue" custom="customValue" :content="content"
area-config="{fallthrough: true, passAttrsToChildComponents: true, unwrapAttrsToChildComponents: true}"
v-slot="{custom, className, content}"&gt; <i class="conum" data-value="1"></i><b>(1)</b>
  &lt;div :class="className" :custom="custom"&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    {{ content.title }}
  &lt;/div&gt;
&lt;/EditableArea&gt;
...</code></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td>With <code>className</code>, you don’t need to wrap the attributes with <code>attrs</code> (<code>attrs.custom</code> and so on).</td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class="icon"><i class="fa icon-note" title="Note"></i></td><td class="content"><code>className</code> isn’t officially documented on the Vue.js website.</td></tr></tbody></table></div></li></ul></div><div class="listingblock"><div class="title">Example configuration for a <code>slot</code> element</div><div class="content"><pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">...
&lt;EditableArea class="classValue" custom="customValue" :content="content"
area-config="{fallthrough: true, passAttrsToChildComponents: true, unwrapAttrsToChildComponents: false}"
v-slot="{attrs, content}"&gt;
  &lt;div :class="attrs.class" :custom="attrs.custom"&gt;
    {{ content.title }}
  &lt;/div&gt;
&lt;/EditbleArea&gt;
...</code></pre></div></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">...
&lt;div class="classValue" custom="customValue"&gt;
  &lt;div content="[object Object]" class="classValue" custom="customValue"&gt;
    My title
  &lt;/div&gt;
&lt;/div&gt;
...</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>content</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Area content that is passed as a property to the parent component where the <code>EditableArea</code> is used.</p></div><div class="dlist"><dl><dt class="hdlist1">Example</dt></dl></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;EditableArea v-if="main" v-bind:content="main" /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { EditableArea } from '@magnolia/vue-editor';

export default {
  name: "Home",
  components: {
    EditableArea
  },
  props: ["main"]
};
&lt;/script&gt;</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>elementType</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p><code>EditableArea</code> wraps its children components in a single <code>div</code> element. The wrapping element can be changed by passing a new element type with <code>elementType</code>, which must be a valid DOM element passed as <code>string</code>.</p></div><div class="dlist"><dl><dt class="hdlist1">Example</dt></dl></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">&lt;EditableArea v-bind:content="main" /&gt;
/*
&lt;div&gt;
  ...children
&lt;/div&gt;
*/

&lt;EditableArea v-bind:content="main" v-bind:elementType='ul' /&gt;
/*
&lt;ul&gt;
  ...children
&lt;/ul&gt;
*/</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>customView</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Function to overwrite the default behavior of <code>EditableArea</code>.</p></div><div class="paragraph"><p><code>customView</code> receives one variable with all area data passed as a <code>content</code> property.</p></div><div class="dlist"><dl><dt class="hdlist1">Examples</dt></dl></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;EditableArea v-if="main" v-bind:content="main" v-bind:customView="customView" /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { EditableArea } from '@magnolia/vue-editor';
import CustomView from './CustomView.vue';

export default {
  name: "Home",
  components: {
    EditableArea
  },
  props: ["main"],
  data() {
    return {
      customView: CustomView
    }
  }
};
&lt;/script&gt;</code></pre></div></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;EditableComponent v-for="childContent in components" v-bind:key="childContent['@id']" v-bind:content="childContent" /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { EditableComponent } from '@magnolia/vue-editor';

export default {
  name: 'customView',
  props: ['content'],
  components: { EditableComponent },
  computed: {
    components() {
      return this.content ? this.content['@nodes'].map(nodeName =&gt; this.content[nodeName]) : [];
    }
  }
}
&lt;/script&gt;</code></pre></div></div></div></td></tr></tbody></table></div>

### [](#_editablecomponent)`<EditableComponent>`

The wrapping component for [components](../../../../Templating/Template-definition/Component-definition/).

`EditableComponent` component can only be used inside the `customView` of the `EditableArea`.

The component determines which Vue component to render based on the `mgnl:template` value of the `content` and the `componentMappings` supplied to the `EditablePage config` property. Component dialog properties and areas are passed to the component as props.

#### [](#_properties_2)Properties

| Property | Description |
| --- | --- |
| `content` | Component content that is passed as part of area content. |

### [](#_editablepage)`<EditablePage>`

The wrapping component for Magnolia-managed page content.

It determines which Vue component to render based on the `mgnl:template` value of the `content` and the `componentMappings` supplied to the `EditablePage config` property. Page dialog properties and areas are passed to the component as props.

In the editor view of the Pages app, it will add the annotations that are required to render the green bars with the authoring UI. The annotations are added as HTML comments.

#### [](#_properties_3)Properties

| Property | Description |
| --- | --- |
| `content` | **required**<br><br>Page content response coming from Magnolia Delivery API.<br><br>Example endpoint definition<br><br>```yaml<br>$type: jcrDeliveryEndpoint_v2<br>workspace: website<br>limit: 100<br>systemProperties:<br>  - mgnl:template<br>depth: 10<br>nodeTypes:<br>  - mgnl:page<br>childNodeTypes:<br>  - mgnl:area<br>  - mgnl:component<br>```<br><br>An example response can be seen [here](http://ecommerce-headless-author.magnolia-cms-demo.com/.rest/delivery/pages/home). |
| `config` | **required**<br><br>Configuration object containing the `componentMappings` object with mappings between the `mgnl:template` values and Vue components.<br><br>Example<br><br>```javascript<br>import Home from './pages/Home.vue'<br><br>const config = {<br>  componentMappings: {<br>    'spa:pages/Home': Home,<br>  },<br>};<br>``` |
| `templateAnnotations` | Template information required for the Page Editor to create the authoring UI (the green bars). `templateAnnotations` are fetched from<br><br>```none<br><MAGNOLIA_INSTANCE>/.rest/template-annotations/v1/<PAGE_PATH><br>```<br><br>Example<br><br>```none<br>https://demo.magnolia-cms.com/.rest/template-annotations/v1/travel<br>``` |
| `magnoliaContext` | **required**<br><br>Introduced with [front-end SDK v2](../breaking-changes-in-front-end-sdk-v2/#_editor_context_changes), the property is used to determine the page mode (edit/preview).<br><br>It holds properties that support page rendering, such `nodePath`, `searchParams`, and others. For more details, see the current [list of these properties](https://gitlab.com/magnolia-ce/frontend-sdk/frontend-helpers-base/-/blob/main/src/types/MagnoliaContext.ts?ref_type=heads) and [the description below](#_magnoliacontext_object).<br><br>It replaces the previous iframe-based detection (`inEditor`, `inEditorAsync`). |

#### [](#_example)Example

```javascript
<script setup lang="js">
import {
  fetchPageContent,
  fetchTemplateAnnotations,
} from '@/app/services/magnolia-service';
import { environment } from '@/environments/environment';
import config from '@/magnolia.config';
import { EditorContextService } from '@magnolia/frontend-helpers-base';
import { EditablePage } from '@magnolia/vue-editor';
import { onMounted, ref, watch } from 'vue';
import { useRoute } from 'vue-router';

defineOptions({
  name: 'MagnoliaPageResolver',
});

const content = ref(null);
const templateAnnotations = ref(null);
const configRef = ref(config);
const magnoliaContextRef = ref(null);
const route = useRoute();

const loadPageContent = async () => {
  const languages = environment.languages;
  const nodeName = environment.appBase;

  const magnoliaContext = EditorContextService.getMagnoliaContext(
    window.location.href,
    nodeName,
    languages
  );
  magnoliaContextRef.value = magnoliaContext;
  const [contentState, templateAnnotationsState] = await Promise.allSettled([
    fetchPageContent(magnoliaContext, environment.pageBase),
    fetchTemplateAnnotations(
      magnoliaContext,
      environment.templateAnnotationsBase
    ),
  ]);
  const content = contentState.value;

  const templateId = content['mgnl:template'];
  if (!templateId) {
    return;
  }
  const templateAnnotations = templateAnnotationsState.value;

  return {
    content,
    templateAnnotations,
  };
};

watch(
  () => route.path,
  async () => {
    const data = await loadPageContent();
    content.value = data.content;
    templateAnnotations.value = data.templateAnnotations;
  }
);

onMounted(async () => {
  const data = await loadPageContent();
  content.value = data.content;
  templateAnnotations.value = data.templateAnnotations;
});
</script>

<template>
  <EditablePage
    v-if="content"
    :content="content"
    :templateAnnotations="templateAnnotations"
    :magnoliaContext="magnoliaContextRef"
    :config="configRef"
  />
</template>
```

### [](#_editorcontexthelper_iniframe)`EditorContextHelper.inIframe`

Using [EditorContextHelper.getMagnoliaContext](../magnolia-angular-editor/#_editorcontexthelper_getmagnoliacontext) is the recommended approach.

> **Note:** global.mgnlInPageEditor is deprecated and not necessary.

### [](#_editorcontexthelper_getmagnoliacontext)`EditorContextHelper.getMagnoliaContext`

A function that returns the `magnoliaContext` object.

This function requires 3 parameters:

  PropertyTypeDescription

`requestUrl`

**string**

A full request/site URL (e.g., `https://foo.bar` or `https://foo.bar?mgnlPreview=false&mgnlChannel=desktop`).

> **Tip:** For example, in a browser, it can be read with window.location.href. For other frameworks use the framework’s specific way of getting full URL.

`spaRootNodePath`

**string**

Magnolia’s root node path of the SPA website e.g. `/foo` or `/foo/bar`.

`languages`

**array of strings**

Website language(s) passed as an array of strings (e.g., `['en', 'de']`).

> **Note:** The first language in the array is the default locale.

#### [](#_magnoliacontext_object)`magnoliaContext` object

  PropertyTypeDescription

`isMagnolia`

**boolean**

Specifies whether the request comes from Magnolia app e.g. `Pages app`.

`isMagnoliaEdit`

**boolean**

Specifies whether the request comes from Magnolia app in edit mode.

`isMagnoliaPreview`

**boolean**

Specifies whether the request comes from Magnolia app in preview mode.

`version`

**string**

The version number.

> **Note:** This is only present if the request comes from the Magnolia app for a specific version.

`nodePath`

**string**

Magnolia’s node path for requested content.

`currentLanguage`

**string**

The language for requested content.

`searchParams`

**object**

Object with search parameters of the `requestUrl` enriched with Magnolia’s specific parameters.

`search`

**string**

String with search parameters of the `requestUrl` enriched with Magnolia’s specific parameters.

#### [](#_example_2)Example

```js
import { EditorContextHelper } from '@magnolia/vue-editor';

const requestUrl = 'https://foo.bar/travel/?mgnlPreview=false&mgnlChannel=desktop';
const spaRootNodePath = '/home';
const languages = ['en', 'de'];
const magnoliaContext = EditorContextHelper.getMagnoliaContext(requestUrl, spaRootNodePath, languages);

/*
magnoliaContext = {
  isMagnolia: true,
  isMagnoliaEdit: true,
  isMagnoliaPreview: false,
  nodePath: /home/travel,
  currentLanguage: 'en',
  searchParams: { mgnlChannel: 'desktop', mgnlPreview: 'false', variants: 'all' },
  search: '?mgnlPreview=false&mgnlChannel=desktop&variants=all&lang=en'
}
*/

// Fetch page content
const pagesRes = await fetch(PAGES_API + magnoliaContext.nodePath + magnoliaContext.search);

// Fetch template annotations
if (magnoliaContext.isMagnolia) {
  const templateAnnotationsRes = await fetch(TEMPLATE_ANNOTATIONS_API + magnoliaContext.nodePath);
}
```

> **Note:** When using this function to determine isMagnolia* properties, such as isMagnolia being true, be sure to add magnoliaContext search parameters to all links, so that it ensures the correct behavior when navigating the website inside Magnolia’s app e.g. Pages app.

## [](#_demo)Demo

For headless SPA demos showcasing the Magnolia Vue Editor, see [`minimal-headless-spa-demos`](https://bitbucket.org/magnolia-cms/minimal-headless-spa-demos).

## [](#_issues)Issues

### [](#_content_mismatches_on_nuxtjs)Content mismatches on NuxtJS

To prevent content mismatches that trigger the `Hydration completed but contains mismatches.` error in the console of your production environment, add the following configuration to `nuxt.config.ts`:

```typescript
...
build: {
    transpile: ["@magnolia/vue-editor", "@magnolia/template-annotations"],
  },

  alias: {
    "@magnolia/vue-editor": "@magnolia/vue-editor/src/main.js",
    "@magnolia/template-annotations":
      "@magnolia/template-annotations/src/index.js",
  },
...
```

## [](#_changelog)Changelog

A list of notable changes for any given version is available on the [changelog page](https://gitlab.com/magnolia-ce/frontend-sdk/vue-editor/-/blob/main/CHANGELOG.md).
