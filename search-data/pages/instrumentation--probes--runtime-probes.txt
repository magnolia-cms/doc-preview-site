---
title: "Run time probes"
url: https://docs.magnolia-cms.com/instrumentation/probes/runtime-probes/
category: Modules
version: modules
breadcrumb: Instrumentation module > Run time probes
---

# Run time probes

[Administration](../../../product-docs/RNs-6-4-3/use-cases/administration/) [Tier 1](../../../incubator-modules/incubator-module-list/#_tier_1_modules) [Incubator](https://gitlab.magnolia-platform.com/ps/incubator/instrumentation) [INSTRUMENT](https://magnolia-cms.atlassian.net/browse/INSTRUMENT) [Magnolia 6.4](../../../product-docs/RNs-6-4-3/) compatible

Run time probes collect to two things: when the Java Virtual Machine was started how long it has been running. In addition, information about the JVM is collected and saved as labels.

Run time probes can measure:

-   when the JVM running Magnolia was started

-   how long (*in milliseconds*) the JVM has been running


## [](#_collecting_run_time_metrics)Collecting run time metrics

You have two options for collecting run time metrics:

Use RuntimeProbe (`info.magnolia.services.instrumentation.probes.environment.StartTimeProbe`) to collect run time metrics. RuntimeProbe will create separate metrics for each system usage characteristic. OSProbe is configured as an instrumentation module probe and the metrics will be measured when Prometheus collects all metrics from Magnolia.

Use RuntimeProbeCommand (`info.magnolia.services.instrumentation.probes.commands.RuntimeProbeCommand`) to collect run time metrics. RuntimeProbeCommand is a Magnolia command that collects the configured metrics when executed.

Executions of RuntimeProbeCommand can be scheduled with the [Scheduler module](../../../product-docs/RNs-6-4-3/Modules/List-of-modules/Scheduler-module/). You can also execute the OSProbeCommand through the command REST endpoint, see the [REST module](../../../rest/).

RuntimeProbeCommand will store its measurements as a single metric with the metric labels identifying what was measured.

Use [RuntimeProbe](#_runtimeprobe) when

-   you want separate metrics for each run time metric


Use [RuntimeProbeCommand](#_runtimeprobecommand) when

-   you want to measure the run time metrics more frequently or less frequently than the collection of metrics from Magnolia

-   you want a single metric for all measurements

-   you want to invoke the collection of run time metrics remotely

-   you want one, but not both, run time metrics


* * *

| Property | Description | Required |
| --- | --- | --- |
| `class` | Should be `info.magnolia.services.instrumentation.probes.commands.OSProbeCommand` . | **** |
| `name` | The probe name. ** The probe name is not used as the metric name | ** | The probe name is not used as the metric name | **** |
| ** | The probe name is not used as the metric name |
| `probeName` | The metric name. Default `info.magnolia.services.instrumentation.probes.rendering.RenderingLogger` | **** |
| `probeDescription` | The metric description. | **** |
| `metric` | Specifies the metric to be collected, must be one of: • `StartTime` • `Uptime` | **** |

| Property | Description | Required |
| --- | --- | --- |
| `class` | Should be `info.magnolia.services.instrumentation.probes.commands.RuntimeProbeCommand` . | **** |
| `name` | The command name. ** The command name is not used as the metric name. | ** | The command name is not used as the metric name. | **** |
| ** | The command name is not used as the metric name. |
| `probeName` | The metric name. Default `info.magnolia.services.instrumentation.probes.rendering.RenderingLogger` | **** |
| `probeDescription` | The metric description. | **** |
| `metric` | Specifies the metric to be collected, must be one of: • `StartTime` • `Uptime` | **** |
