---
title: "Migrate from External DAM framework to DAM 6"
url: https://docs.magnolia-cms.com/dam/migrate/migrate-extdam-framework-to-dam/
category: Modules
version: modules
breadcrumb: DAM module > Migrate > Migrate from External DAM framework to DAM 6
---

# Migrate from External DAM framework to DAM 6

This page explains how to migrate from the [External DAM framework](../../../product-docs/RNs-6-4-3/Modules/extensions-and-frameworks/external-dam-integration-framework/) S3 connector to DAM 6.x.

> **Note:** This migration is only available for DAM 6.0 and later.

The External DAM framework S3 connector stores both asset binaries and metadata in S3. This migration allows you to migrate assets to DAM 6, where asset *metadata* is stored in JCR, and you can choose to store *binaries* in JCR, S3, or Azure Blob storage.

> **Important:** This migration only supports migrating from the External DAM framework S3 connector. Migration from the Bynder connector isn’t supported.

| DAM module version | Compatible module versions |
| --- | --- |
| 6.0.0 | Magnolia CMS 6.4.0+ |
| [DAM App module](../../../dam-app/) 6.0.0 (required) |
| [Imaging module](../../../imaging/) 5.0.0 (required) |
| [Image Recognition extension](../../../image-recognition/) 4.0.0 (optional) |
| [Image Focal extension](../../../image-focal/) 2.0.0 (optional) |

## [](#_migrate_assets_from_external_dam_framework_to_dam_6)Migrate assets from External DAM framework to DAM 6

Edit and run the `MigrateExternalDamS3ToDam6` Groovy script provided below on your author instance to migrate binaries.

1.  Open the Groovy app in your Magnolia author instance.

2.  Copy the `MigrateExternalDamS3ToDam6` Groovy script below to the **Groovy Console** tab.

3.  Edit the script configuration variables:

    -   `sourceBucketName`: The name of your External DAM framework S3 bucket to migrate from.

    -   `migrateSequentially`: Set to `true` for sequential processing, or `false` (default) for parallel processing.

    -   `targetFolderPath`: Set to `null` to migrate to the root folder, or specify a path like `"/migrated-assets"`.

    -   `linkUpdateWorkspaces`: Controls whether and where to update asset links in CKEditor content:

        -   Empty list `[]` (default): Search and update asset links across all JCR workspaces.

        -   `null`: Skip link updates entirely.

        -   Array of workspace names (for example, `["website", "stories", "tours"]`): Search and update links only in the specified workspaces.


        > **Tip:** To see low-level S3 activity during migration, enable DEBUG logging. In your Loggers configuration, add: <logger name="software.amazon" level="DEBUG"/> to log the AWS SDK activity.


4.  Run the script.

    This script:

    -   Copies binaries from the External DAM framework S3 bucket to the destination chosen.

    -   Updates asset links in CKEditor content fields across the configured workspaces to point to the new DAM 6 asset locations.

        > **Note:** When updating CKEditor links, only the underlying link URL changes to point to the new migrated asset location. The link title or text displayed in the CKEditor content remains unchanged.

        The script logs a summary of what was migrated.

        You can run it multiple times. It skips already-migrated binaries and only processes the remaining ones. The process maintains the existing folder structure from the source, replicating it within JCR. It doesn’t delete any content from the original S3 source bucket.

        MigrateExternalDamS3ToDam6.groovy

        ```groovy
        import info.magnolia.dam.jcr.migration.ExternalDamS3ToDam6Migration
        import info.magnolia.dam.jcr.migration.MigrationUtils
        import info.magnolia.objectfactory.Components

        def startTime = System.currentTimeMillis()
        def service = Components.getComponent(ExternalDamS3ToDam6Migration) ?: {
            println "Error: ExternalDamS3ToJcrMigration service not found."
            return
        }()

        // Configuration
        def sourceBucketName = "scalex-team-testing"  // REQUIRED: Source S3 bucket name to migrate from
        def migrateSequentially = false // runs in parallel, set to true to run sequentially
        def targetFolderPath = null  // null = root folder, or specify path like "/migrated-assets"
        def linkUpdateWorkspaces = []  // Empty list: search ALL workspaces; null: Skip link updates entirely; ["website", "stories", "tours"]: Search in specific workspaces

        def results = service?.migrateAll(sourceBucketName, targetFolderPath, migrateSequentially, linkUpdateWorkspaces) ?: {
            println "Info: No asset migrations needed."
            return
        }()

        print(MigrationUtils.printSummary(results, startTime))
        ```


5.  Review the script output to confirm migration results.

6.  Run the script again if needed. It only processes binaries that haven’t been migrated yet.

7.  Check that assets and any pages using the assets work correctly.

    > **Tip:** After migration, verify that asset links in CKEditor content fields correctly resolve to the migrated assets. The link titles in the editor remain unchanged, but the underlying URLs point to the new DAM 6 provider asset locations.
