---
title: "Multi field"
url: https://docs.magnolia-cms.com/product-docs/RNs-6-4-3/Developing/Templating/Dialog-definition/Field-definition/List-of-fields/Multi-field/
category: Magnolia 6.4
version: latest
breadcrumb: DX Core > Developing > Templating > Multi field
---

# Multi field

info.magnolia.ui.field.MultiFieldDefinition renders a complex field composed of one or more field sets (for example, three sets of two text fields). Magnolia provides four preconfigured multi field definitions:

-   info.magnolia.ui.field.MultiValueFieldDefinition: allows you to enter multiple values of a single type to be stored as an array in a single JCR property (`multiValueField`).

-   info.magnolia.ui.field.JcrMultiLinkFieldDefinition: allows you to select multiple values of a single type in a [chooser dialog](../../../Dialog-types/#_chooser_dialog) to be stored as an array in a single JCR property (`jcrMultiLinkField`).

-   info.magnolia.ui.field.JcrMultiFieldDefinition: allows you to create multiple JCR fields (`jcrMultiField`).

-   info.magnolia.rest.ui.field.JsonMultiFieldDefinition: allows you to create multiple JSON fields to be used in an app with its own [JSON data source](../../../../../../Modules/List-of-modules/REST-Client-module/JSON-data-source/) (`jsonMultiField`).


> **Note:** These multi field definitions are part of the Magnolia 6 UI framework. Their fully qualified class names are:info.magnolia.ui.field.MultiValueFieldDefinitioninfo.magnolia.ui.field.JcrMultiLinkFieldDefinitioninfo.magnolia.ui.field.JcrMultiFieldDefinitioninfo.magnolia.rest.ui.field.JsonMultiFieldDefinition

## [](#_example_definitions)Example definitions

-   JCR multi-value field

-   JCR multi-link field

-   JCR multi field

-   JSON multi field


```yml
assignedSegments:
  $type: multiValueField
  label: Multi-value field
  field:
    $type: comboBoxField
    label: Path
    datasource:
      $type: jcrDatasource
      workspace: website
```

```yml
jcrMultiLinkField:
  $type: jcrMultiLinkField
  label: Multi-link field
  field:
    $type: linkField
    label: Page
    datasource:
      $type: jcrDatasource
      workspace: website
damMultiLinkField:
  $type: jcrMultiLinkField
  label: Multi-link field
  chooserId: dam-app-core:multiChooser
  field:
    $type: damLinkField
    label: Asset
```

```yml
multi:
  i18n: true
  $type: jcrMultiField
  label: Address list
  field:
    $type: compositeField
    label: Address
    properties:
      street:
        $type: textField
        label: Street
      city:
        i18n: true
        $type: textField
        label: City
      zip:
        $type: textField
        label: ZIP code
```

```yml
stationboard:
  label: Station Board
  $type: jsonMultiField
  itemProvider:
    $type: jsonMultiFieldProvider
  field:
    $type: jsonCompositeField
    idPropertyName: name
    properties:
      name:
        label: Name
        $type: textField
        readOnly: true
      to:
        label: To
        $type: textField
        readOnly: true
      operator:
        label: Operator
        $type: textField
        readOnly: true
```

> **Caution:** JSON data source is read-only. Therefore, it only supports read-only fields in, typically, the content detail subapp of a read-only REST app. jsonMultiField is designed to show field data from REST sources; you can’t add, edit, or delete a field entry.The example above is used in the Stations app contained in the field-examples-module. See also Composite field.

> **Tip:** You can preview this example using the field-examples-module. See Field examples module for more information.

| Property | Description |
| --- | --- |
| `field` | **required** Node containing an editor property definition item (typically, a field). All [field types](../../#_field_types) are supported. See [List of fields](../) for more information. ** `JcrMultiLinkFieldDefinition` supports only [link](../Link-field/) and [combobox](../Combobox-field/) fields. | ** | `JcrMultiLinkFieldDefinition` supports only [link](../Link-field/) and [combobox](../Combobox-field/) fields. |
| ** | `JcrMultiLinkFieldDefinition` supports only [link](../Link-field/) and [combobox](../Combobox-field/) fields. |
| `chooserId` | **optional** (used only in `JcrMultiLinkFieldDefinition` ), *default is ui-framework-core:multiChooser* Unique identifier for the multi- [chooser dialog](../../../Dialog-types/#_chooser_dialog) . If none is specified, the [JCR multiChooser](https://git.magnolia-cms.com/projects/PLATFORM/repos/ui.pub/browse/magnolia-ui-framework-jcr/src/main/resources/ui-framework-jcr/dialogs/multiChooser.yaml) will be used by default. |
| `entryResolution` | **optional** , *default is* • *MultiFieldEntryResolution for JcrMultiFieldDefinition* • *MultiJcrBlockEntryResolution for MultiJcrBlockDefinition* • *JsonMultiFieldEntryResolver for JsonMultiFieldDefinition* Implementation class that defines how the child entries of a multi field should be resolved. ** `MultiFieldEntryResolution` of `JcrMultiFieldDefinition` extends `ByIndexedChildNodes` , which resolves entry nodes regardless of node names. To enable this non-strict resolution behavior, there is a `strict` property that is set to `false` by default. Setting `strict` to `true` ensures backward compatibility (for example, when porting configurations that use *Magnolia 5 UI* multi field transformers). In configurations such as the two below, `strict` falls back to the required value and that change appears in the [Definitions app](../../../../../../Apps/List-of-apps/Definitions-app/) . • `itemProvider` specifies the type of data binding for subnodes in complex fields. When you configure a multi field with [CurrentItemProvider](../../Item-providers/#_for_any_data_source) and set `entryResolution` to `MultiFieldEntryResolution` , the `strict` node resolution is set to `false` . This ensures that nodes, which aren’t multi fields, don’t get resolved as multi fields. • When you configure a multi field with [isSupportI18N](#6.2@product-docs:ROOT:Releases/Release-notes-for-Magnolia-CMS-6.2.1.adoc#_new_supporti18n_property_in_jcrchildnodeprovider) set to `false` , the `strict` property of `entryResolution` is set to `false` . The `isSupportI18N` configuration flattens localized multi parent nodes into a single parent. However, you need to resolve child nodes in a way that considers their locale suffix and doesn’t take everything beneath the parent, so `strict` is set to `true` . ** You can’t configure this property through YAML but it can be used in your Java code. | ** | `MultiFieldEntryResolution` of `JcrMultiFieldDefinition` extends `ByIndexedChildNodes` , which resolves entry nodes regardless of node names. To enable this non-strict resolution behavior, there is a `strict` property that is set to `false` by default. Setting `strict` to `true` ensures backward compatibility (for example, when porting configurations that use *Magnolia 5 UI* multi field transformers). In configurations such as the two below, `strict` falls back to the required value and that change appears in the [Definitions app](../../../../../../Apps/List-of-apps/Definitions-app/) . • `itemProvider` specifies the type of data binding for subnodes in complex fields. When you configure a multi field with [CurrentItemProvider](../../Item-providers/#_for_any_data_source) and set `entryResolution` to `MultiFieldEntryResolution` , the `strict` node resolution is set to `false` . This ensures that nodes, which aren’t multi fields, don’t get resolved as multi fields. • When you configure a multi field with [isSupportI18N](#6.2@product-docs:ROOT:Releases/Release-notes-for-Magnolia-CMS-6.2.1.adoc#_new_supporti18n_property_in_jcrchildnodeprovider) set to `false` , the `strict` property of `entryResolution` is set to `false` . The `isSupportI18N` configuration flattens localized multi parent nodes into a single parent. However, you need to resolve child nodes in a way that considers their locale suffix and doesn’t take everything beneath the parent, so `strict` is set to `true` . | ** | You can’t configure this property through YAML but it can be used in your Java code. |
| ** | `MultiFieldEntryResolution` of `JcrMultiFieldDefinition` extends `ByIndexedChildNodes` , which resolves entry nodes regardless of node names. To enable this non-strict resolution behavior, there is a `strict` property that is set to `false` by default. Setting `strict` to `true` ensures backward compatibility (for example, when porting configurations that use *Magnolia 5 UI* multi field transformers). In configurations such as the two below, `strict` falls back to the required value and that change appears in the [Definitions app](../../../../../../Apps/List-of-apps/Definitions-app/) . • `itemProvider` specifies the type of data binding for subnodes in complex fields. When you configure a multi field with [CurrentItemProvider](../../Item-providers/#_for_any_data_source) and set `entryResolution` to `MultiFieldEntryResolution` , the `strict` node resolution is set to `false` . This ensures that nodes, which aren’t multi fields, don’t get resolved as multi fields. • When you configure a multi field with [isSupportI18N](#6.2@product-docs:ROOT:Releases/Release-notes-for-Magnolia-CMS-6.2.1.adoc#_new_supporti18n_property_in_jcrchildnodeprovider) set to `false` , the `strict` property of `entryResolution` is set to `false` . The `isSupportI18N` configuration flattens localized multi parent nodes into a single parent. However, you need to resolve child nodes in a way that considers their locale suffix and doesn’t take everything beneath the parent, so `strict` is set to `true` . |
| ** | You can’t configure this property through YAML but it can be used in your Java code. |
| `orderHandler` | **optional** , *default is* • *DefaultJcrNodeOrderHandler for JcrMultiFieldDefinition* • *MultiJcrBlockOrderHandler for JcrMultiFieldDefinition* Implementation class that sorts nodes and ensures that the suffixes in index names correspond to the order in which they are stored. When `MultiFormDefinition$OrderHandlerDefinition$Noop` is used, the order of the items of a multi field cannot be changed retroactively. ** You can’t configure this property through YAML but it can be used in your Java code. | ** | You can’t configure this property through YAML but it can be used in your Java code. |
| ** | You can’t configure this property through YAML but it can be used in your Java code. |
| `canRemoveItems` | **optional** , *default is true for MultiValueFieldDefinition and JcrMultiFieldDefinition* When `false` , the items of a multi field cannot be removed from a dialog. |
| `buttonSelectAddLabel` | **optional** , *default is translated buttons.add key (translated dialogs.buttons.select.multiple key for JcrMultiLinkFieldDefinition)* Button label for adding an item. The value is [i18n](../../../../../../Administration/Language/Internationalization/#_i18n_message_keys) -able. |
| `buttonSelectRemoveLabel` | **optional** , *default is translated buttons.delete key* Button label for removing an item. The value is [i18n](../../../../../../Administration/Language/Internationalization/#_i18n_message_keys) -able. |
| `minItems` | **optional** , *default is 0* Specifies the minimum number of items to be added. |
| `maxItems` | **optional** , *default is Integer.MAX_VALUE* Specifies the maximum number of items to be added. ** If `minItems` is greater than `maxItems` , item count validation will be disabled. | ** | If `minItems` is greater than `maxItems` , item count validation will be disabled. |
| ** | If `minItems` is greater than `maxItems` , item count validation will be disabled. |
| `itemCountErrorMessage` | **optional** , *default is translated validators.multi.itemCount.errorMessage key* Error message shown when the number of items is less than `minItems` or greater than `maxItems` . The value can be literal or a [key](../../../../../../Administration/Language/Internationalization/#_i18n_message_keys) of a [message bundle](../../../../../../Administration/Language/Internationalization/#_i18n_message_bundle) . |
| `required` | **optional** , *default is false* Makes the field required. An asterisk is displayed next to the field label. |
| `requiredErrorMessage` | **optional** , *default is translated validation.message.required key* Error message shown when `required` is set to `true` and the user saves an empty field. The value can be literal or a [key](../../../../../../Administration/Language/Internationalization/#_i18n_message_keys) of a [message bundle](../../../../../../Administration/Language/Internationalization/#_i18n_message_bundle) . |

## [](#_form_validation_of_multiple_values)Form validation of multiple values

To validate that `multiValueField` has only unique values, you can create `UniqueValuesMultiFormView` as an implementation class that extends `MultiFormView`.

```java
public class UniqueValuesMultiFormView<T> extends MultiFormView<T> {

    @Inject
    public UniqueValuesMultiFormView(MultiFormDefinition<T> definition, LocaleContext localeContext, Datasource<T> datasource) {
        super(definition, localeContext, datasource);
    }

    @Override
    public List<BinderValidationStatus<?>> validate() {
        final List<BinderValidationStatus<?>> validate = super.validate();
        if (validate.stream().allMatch(BinderValidationStatus::isOk)) {
            List<String> valuesStringList = validate.stream()
                    .map(v -> v.getBinder().getFields().findFirst().get().getValue()) // could be any data type other than string
                    .map(String::valueOf)
                    .collect(Collectors.toList());
            if (new HashSet<>(valuesStringList).size() != valuesStringList.size()) {
                final Binder.Binding<?, ?> binding = validate.stream()
                        .flatMap(binderValidationStatus -> binderValidationStatus.getFieldValidationStatuses().stream())
                        .map(BindingValidationStatus::getBinding)
                        .findFirst()
                        .orElse(null);
                final BindingValidationStatus<?> validationStatus = new BindingValidationStatus<>(Result.error("All values has to be unique"), binding);
                binding.getValidationStatusHandler().statusChange(validationStatus);
                validate.add(new BinderValidationStatus<>(null, Collections.singletonList(validationStatus), new ArrayList<>()));
            }
        }
        return validate;
    }
}
```

```yml
implementationClass: info.magnolia.ui.editor.UniqueValuesMultiFormView
field:
  $type: textField
```
