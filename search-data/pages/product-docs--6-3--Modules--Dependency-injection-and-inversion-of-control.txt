---
title: "Dependency injection and inversion of control"
url: https://docs.magnolia-cms.com/product-docs/6.3/Modules/Dependency-injection-and-inversion-of-control/
category: Magnolia 6.3
version: 6.3
breadcrumb: DX Core > Modules > Dependency injection and inversion of control
---

# Dependency injection and inversion of control

Magnolia uses [dependency injection](http://en.wikipedia.org/wiki/Dependency_injection). This means that object dependencies are injected automatically at the time the object is instantiated. The benefit of injecting dependencies in this way is that you can change the implementation of the object which is depended on without having to change the way dependencies are retrieved. A further benefit is testability.

This type of dependency is different from module dependencies. It is a code/object level dependency that defines the relationship between objects, not a dependency between modules.

The term dependency injection (DI) is often used together with [inversion of control (IoC)](http://en.wikipedia.org/wiki/Inversion_of_control). IoC is the principle and DI is the implementation. The concepts are related but at Magnolia we talk only about DI. To learn how IoC was implemented at Magnolia, see [Concept IoC in Magnolia](http://wiki.magnolia-cms.com/display/DEV/Concept+IOC+in+Magnolia).

## [](#_defining_object_components)Defining object components

[Components](http://wiki.magnolia-cms.com/display/DEV/Components+in+Magnolia) in Magnolia are defined in the module descriptor. Modules can define components of the same type. A definition in a module takes precedence over definitions in modules that it depends on. This allows modules to override and customize components in other modules.

For example, suppose you want to implement a `MailSender` component. If another Magnolia module already implements such a component, you can override it by declaring a *module* dependency on the module that provides the original `MailSender` component and by making sure that your component definition uses the same type.

The module descriptor can specify components for different [containers](http://wiki.magnolia-cms.com/display/DEV/Components+in+Magnolia#ComponentsinMagnolia-MagnoliaStartupandShutdownsequence). This is done using the `id` element. You will rarely use a container other than `main`.

This example module descriptor defines a component of type `GeoService` which is an interface. The actual implementation is `GeoServiceImpl`.

```xml
<!DOCTYPE module SYSTEM "module.dtd">
<module>
  <name>my-module</name>
  <version>1.0</version>
  <components>
    <id>main</id> <!-- Container ID -->
    <component>
      <type>com.acme.geo.GeoService</type>
      <implementation>com.acme.geo.GeoServiceImpl</implementation>
    </component>
  </components>
</module>
```

## [](#_injecting_component_dependencies)Injecting component dependencies

To retrieve a component, declare a dependency on it. Here is an example declaring a dependency on a component that needs to be injected (`GeoService`). The example uses the constructor [injection type](http://wiki.magnolia-cms.com/display/DEV/Components+in+Magnolia#ComponentsinMagnolia-Supportedtypesofdependencyinjection). Field and setter injection are also supported.

```java
public class SomeGeoAwareModel extends RenderingModelImpl {
  private final GeoService geoService;
  @Inject
  public SomeGeoAwareModel(GeoService geoService) {
    this.geoService = geoService;
  }
  public String execute() {
  }
}
```

```xml
<component>
  <type>com.acme.geo.GeoService</type>
  <implementation>com.acme.geo.GeoServiceImpl</implementation>
</component>
```
