---
title: "Upgrading Magnolia in the cloud"
url: https://docs.magnolia-cms.com/cloud/managing-updates-using-the-Magnolia-cockpit/Upgrading-Magnolia-in-the-cloud/
category: Modules
version: modules
breadcrumb: Magnolia Cloud > Managing updates using the Magnolia cockpit > Upgrading Magnolia in the cloud
---

# Upgrading Magnolia in the cloud

When a new version of Magnolia is released and available on the Cloud, you can upgrade your cloud environments directly from the cockpit.

> **Note:** We urge all cloud customers to upgrade their projects to the latest Magnolia LTS release within 60 days of the version release date.All new deployments must be based on the latest LTS version of Magnolia.

You can also manage the automatic upgrade backup that is created for the Live environment from the cockpit. You can extend the period for which the backup is stored or restore it to roll back the upgrade. Alternatively, you can delete the upgrade backup manually to be able to tear down the Live environment again.

## [](#_the_upgrade_flow)The Upgrade Flow

When you upgrade Magnolia in the Cloud, replica environments are created and checked before traffic is switched to the upgraded environment. This is the *blue/green deployment model* and it ensures that continuous delivery is possible and that there is a reliable production backup at all times. The visual below details the upgrade flow.

![image](../../_images/upgrade-cloud-basic-flow.png)

## [](#_upgrading_the_version_of_magnolia)Upgrading the version of Magnolia

Before upgrading, we recommend you read the [release notes](../../../product-docs/RNs-6-4-3/Releases/) for the version of Magnolia you are upgrading to.

> **Tip:** TipsBegin by upgrading your Integration and UAT environments. Then test the new features available, check your configuration and content, including your website templates and light development work. Check the Definitions app to see any problematic or deprecated definitions.Create a manual backup of your environment before upgrading it.You cannot tear down an environment or upgrade the Live environment to the newer version until the automatic backup that is created has been removed. Automatic backups are generally removed after 48 hours. You can extend the period of time for which the backup is stored or manually remove it.

1.  In the Package overview page, click **Manage updates** in the Promoted releases section.

2.  Click **Change the version of Magnolia used in your environments**:
    ![image](../../_images/cloud/cloud-upgrade-magnolia-version-action.png)

3.  Select the environment you want to upgrade: Live, UAT or Integration.
    Note that we recommend starting with upgrading the integration environment and testing before moving on to UAT and, finally Live.

4.  Select the version of Magnolia you want to upgrade to. If nothing is displayed, this means there are no new versions of Magnolia available.

5.  Confirm the consequences of the upgrade and click **Install**.
    The upgrade process takes some time. As all actions in the cockpit are asynchronous, you can click on **OK** before the upgrade is complete: the action runs in the background and a notification appears once it is complete. The action also appears in the [activity log](../../Cockpit/Understanding-activity-logs/).


Every automatic backup of the Live environment is stored for 48 hours. You can [extend this to 5 days](#_extending_the_upgrade_backup_storage_period).

Until the automatic backup is removed, you cannot tear down your upgraded environment or upgrade the Live environment to the newer version.

> **Tip:** If you need to tear down the environment or upgrade the Live environment, you can remove the upgrade backup manually.

## [](#_extending_the_upgrade_backup_storage_period)Extending the upgrade backup storage period

Every automatic backup of the Live environment is stored for 48 hours. You can extend this to 5 days from the Package overview page by clicking on the **Extend upgrade backup storage period** link:

![image](../../_images/cloud-extend-backup-period.png)

This link takes you to a wizard where you must confirm the extension you requested.

> **Note:** If you need an extension for more than 5 days, please contact the Cloud Helpdesk.

## [](#_deleting_the_upgrade_backup)Deleting the upgrade backup

Until the automatic backup is removed, you cannot tear down your upgraded environment or upgrade the Live environment to the newer version.

> **Tip:** If you need to tear down the environment or upgrade the Live environment, you can delete the upgrade backup manually.

1.  In the Package overview page, click **Manage environments** in the Environments section.

2.  Under **Back up and Restore**, click **Delete Previous Installation**.
    ![image](../../_images/cloud/cockpit-delete-installation.png)

3.  Select the **Live** environment.

4.  Click the **Delete the upgrade backup** button.

5.  Confirm the consequences of the deletion and click **Delete**.


> **Important:** Once the backup is deleted, you can tear down the Live environment.

## [](#_restoring_the_upgrade_backup)Restoring the upgrade backup

If you want to roll back the upgrade, you can restore the automatic upgrade backup.

1.  In the Package overview page, click **Manage environments** in the Environments section.

2.  Under **Back up and Restore**, click **Restore Installation**:
    ![image](../../_images/cloud/cloud-change-magnolia-version-action.png)

3.  Select the **Live** environment.

4.  Click the **Restore the upgrade backup** button.

5.  Confirm the consequences of the deletion and click **Restore**.


> **Tip:** If you encounter issues with the upgrade process, please contact the Cloud Helpdesk.

Related topics

-   [Releases](../../../product-docs/RNs-6-4-3/Releases/)

-   [Backing up and restoring](../../Managing-environments-using-the-Magnolia-cockpit/Backing-up-and-restoring/)
