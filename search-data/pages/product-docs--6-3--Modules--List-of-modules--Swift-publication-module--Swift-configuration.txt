---
title: "Configuration"
url: https://docs.magnolia-cms.com/product-docs/6.3/Modules/List-of-modules/Swift-publication-module/Swift-configuration/
category: Magnolia 6.3
version: 6.3
breadcrumb: DX Core > Modules > Swift publication > Configuration
---

# Configuration

Once the Swift publication module is installed, you must ensure its configuration is aligned with your business needs and production environment.

1.  Ensure that your [public receivers](#_microprofile_config) are configured for both Swift (Pages app) and DX Core publishing.

2.  Configure [REST communication](#_rest_based_publication) between author and public instances.

3.  Decide on an [external version store](#_versioning_store), such as S3, and configure it.


| Property | Description |
| --- | --- |
| `swift.publication.rest.retry.attempts` | **optional** , *default is 3* Configures the number of REST retries upon publication request failures. |
| `swift.publication.rest.executor.retry.poolSize` | **optional** , *default is 3* The size of the scheduled thread pool used for REST retries. |
| `swift.publication.rest.retry.interval` | **optional** , *default is 2* The interval between REST retry attempts in milliseconds. |
| `swift.publication.rest.retry.statusCodes` | **optional** , *default is 408,429,500,502,503,504* REST retries are attempted for the status codes defined in this property. Default codes are set according to [Google retry strategy](https://cloud.google.com/storage/docs/retry-strategy#java) . The list includes the following HTTP status codes: • 408 Request Timeout • 429 Too Many Requests • 500 Internal Server Error • 502 Bad Gateway • 503 Service Unavailable • 504 Gateway Timeout |
| `swift.publication.rest.sync.poll.interval` | **optional** , *default is 3000* This property defines the time between retry synchronisation polling in milliseconds. |
| `swift.publication.rest.sync.status.timeout` | **optional** , *default is 3600* Timeout for status synchronizations between author and public instances in seconds. |
| `swift.publication.save.bulk.size` | **optional** , *default is 50* Defines the number of items processed in bulk in publishing and unpublishing operations. This has several performance advantages: • Preventing JVM memory and CPU overload • Reduced risk of timeouts and partial failures • Minized database locking and contention by keeping transactions shorter |

| Property | Description |
| --- | --- |
| `swift.versioning.workspaces` | **required** Defines which workspaces Swift publication works on. Example configuration for the `website` workspace swift.versioning.workspaces[0].name=website ** Controls which workspaces store versions in the external version store. It does not change which publication option is used. Including `dam` means asset versions are stored externally, only if the [Assets app is configured for Swift publication](../Swift-versioning/#_configuring_the_dam_app) . | ** | Controls which workspaces store versions in the external version store. It does not change which publication option is used. Including `dam` means asset versions are stored externally, only if the [Assets app is configured for Swift publication](../Swift-versioning/#_configuring_the_dam_app) . |
| ** | Controls which workspaces store versions in the external version store. It does not change which publication option is used. Including `dam` means asset versions are stored externally, only if the [Assets app is configured for Swift publication](../Swift-versioning/#_configuring_the_dam_app) . |
| `swift.publication.version.bulk.size` | **optional** , *default is 50* Defines how many versions are processed in a single batch on the public instance before changes are persisted. • If the number of versions is less than or equal to this value, all versions appear at the same time on public instances. • If it’s higher, publishing isn’t atomic, and visitors may observe intermediate states while publication is ongoing. Higher values reduce the chance of exposing unfinished publications but increase memory usage on public instances. |

## [](#_aws_connection)AWS connection

> **Tip:** The magnolia-aws-foundation module handles all Amazon connections from Magnolia. It’s installed automatically by Maven when you install any AWS-dependent module.

To use AWS in Magnolia, you must have a working AWS account.

You need [AWS credentials](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_access-keys.html) to connect AWS to Magnolia. Credentials consist of:

-   AWS access key ID

-   AWS secret access key

-   Optionally, a session token (when using the AWS default credential provider chain)


Generate the key in the security credentials section of the [Amazon IAM Management Console](https://console.aws.amazon.com/iam/home?region=us-east-2#/users). In the navigation bar on the upper right, choose your user name, and then choose **My Security Credentials**.

### [](#_using_the_aws_default_credential_provider_chain)Using the AWS default credential provider chain

The AWS SDK uses a chain of sources to look for credentials in a specific order. For more information, see [Default credentials provider chain](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html).

1.  Set your AWS credentials by following the instructions in the AWS documentation: [Provide temporary credentials to the SDK](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html).

    > **Note:** For a more secure implementation using the default credential provider chain, we recommend using a session token, which expires, rather than a permanent user token.

2.  Disable Magnolia’s internal credential handling by doing one of the following:

    1.  Adding the following configuration properties to your [`WEB-INF/config/default/magnolia.properties`](../../../../Administration/Architecture/Configuration-management/) file:

        ```java
        magnolia.aws.validateCredentials=false
        magnolia.aws.useCredentials=false
        ```

    2.  Using JVM arguments as shown in the next step.


3.  Set your AWS session or user token. AWS credentials can be injected using environment variables or JVM system properties. For more details, see [Default credentials provider chain](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html) and [Configure access to temporary credentials](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-temporary.html).

    Example configuration with a session token and JVM arguments

    ```java
    -Dmagnolia.aws.validateCredentials=false(1)
    -Dmagnolia.aws.useCredentials=false(1)
    -Daws.accessKeyId=$AWS_ACCESS_KEY_ID(2)
    -Daws.secretAccessKey=$AWS_SECRET_ACCESS_KEY(2)
    -Daws.sessionToken=$AWS_SESSION_TOKEN(2)(3)
    ```

    |     |     |
    | --- | --- |
    | **1** | Disables Magnolia’s internal credential handling using JVM properties. |
    | **2** | JVM properties to inject environment variables containing the AWS credentials. Ensure that your environment variables `AWS_ACCESS_KEY_ID`, `AWS_SECRET_ACCESS_KEY`, and `AWS_SESSION_TOKEN` are set. |
    | **3** | `AWS_SESSION_TOKEN` is optional. |

    Example configuration with a permanent user token

    ```java
    -Dmagnolia.aws.validateCredentials=false
    -Dmagnolia.aws.useCredentials=false
    -Daws.accessKeyId=<your-access-key-id>
    -Daws.secretAccessKey=<your-secret-access-key>
    ```
