---
title: "Scheduler module"
url: https://docs.magnolia-cms.com/product-docs/7.0/Modules/List-of-modules/Scheduler-module/
category: Magnolia 6.4
version: latest
breadcrumb: DX Core > Modules > Scheduler module
---

# Scheduler module

| Edition | CE |
| --- | --- |
| License | [MLA](https://www.magnolia-cms.com/mla.html) , [GPL](http://www.gnu.org/licenses/gpl-3.0.html) |
| Issues | [MGNLSCH](https://magnolia-cms.atlassian.net/browse/MGNLSCH) |
| Maven site | [Scheduler](https://nexus.magnolia-cms.com/#browse/browse:public:info%2Fmagnolia%2Fscheduler%2Fmagnolia-module-scheduler%2F{magnolia-scheduler-64}) |
| Latest | {magnolia-scheduler-64} |

## [](#_installing_with_maven)Installing with Maven

Maven is the easiest way to install the module. Add the following to your [bundle](../../../../RNs-6-4-3/Developing/Bundles-and-webapps/):

```xml
<dependency>
  <groupId>info.magnolia.scheduler</groupId>
  <artifactId>magnolia-module-scheduler</artifactId>
  <version>{magnolia-scheduler-64}</version> (1)
</dependency>
```

|     |     |
| --- | --- |
| **1** | Should you need to specify the module version, do it using `<version>`. |

## [](#_usage)Usage

The Scheduler module can be used to execute any configured command at regular intervals. For example, it can:

-   Publish or unpublish a promotional web page on a specific date.

-   Import content from an external source into a Magnolia workspace.

-   Send emails on specific days.

-   Delete specified forum messages or threads.

-   Synchronize target and source instances.

-   Execute a custom command.


| `jobs` | **required** Jobs node. |
| --- | --- |
| `<job name>` | **required** Name of the job. |
| `params` | **optional** Parameters node. |
| `<parameters>` | **required/optional** Parameters passed to the command. Depends on the command. For example, the `publish` command expects to receive a repository name and a content path, and the `generatePlanetData` command used by the [RSS Aggregator](../RSS-Aggregator-module/) module, expects only a `repository` parameter. |
| `catalog` | **required** Name of the [catalog](../../../Developing/Commands/) where the command resides. |
| `command` | **required** Name of the command. |
| `cron` | **required** [CRON expression](https://www.ostechnix.com/a-beginners-guide-to-cron-jobs/) that sets the scheduled execution time. For example, `0 0 1 5 11 ? 2010` means `run on November 5th, 2010 at 01:00 am` , as opposed to `0 0 1 5 11 ? *` , which will run `annually on Nov 5th at 01:00 am` . CRON generators : • [Cron Expression Generator & Explainer - Quartz](https://freeformatter.com/cron-expression-generator-quartz.html) (A FREEFORMATTER.COM service). • [cronmaker.com](http://www.cronmaker.com) • [crontab-generator.org](https://crontab-generator.org) |
| `description` | **optional** Description of the job. |
| `enabled` | **optional** , *default is false* Enables and disables the job. |
| `concurrent` | **optional** , *default is true* Defines whether the same job can be running concurrently. |

## [](#_scheduling_tasks_on_cluster_nodes)Scheduling tasks on cluster nodes

In a clustered configuration one or more workspaces is stored in a shared, clustered storage. See [Clustering](../../../Administration/Instances/Clustering/) for more. Cluster nodes (Magnolia instances) access the clustered workspace rather than their own workspaces. This can lead to a situation where multiple scheduled jobs attempt to access the same content simultaneously and a lockup occurs. To avoid this situation, identify the cluster nodes and run the job on only one node.

1.  Set the `magnolia.clusterid` property in the `magnolia.properties` file of the cluster node. The file is in the `/<CATALINA_HOME>/webapps/<contextPath>/WEB-INF/config/default` folder. The property value can be a literal cluster name such as `public123` (`magnolia.clusterid=public123`) or a variable such as `${servername`}.

2.  To configure the job to run on the identified cluster node, go to `/modules`/`scheduler`/`jobs` and edit the job configuration.

3.  Under the `params` node, add a `clusterId` property and set the value to match the `magnolia.clusterId` of the cluster node where you want to run the job.

    ![Cluster node](../../../../RNs-6-4-3/_images/ADVT-scheduler-mod2.png)


Job configurations are stored in the `config` workspace. If you want to run a particular job on all cluster nodes you would have to cluster the `config` workspace so that all instances can read the configuration or create the same job configuration on all cluster nodes. This can be time consuming. As a workaround, configure the job once on a clustered instance without the `clusterId` property. This has the effect that the job will run on all cluster nodes.
