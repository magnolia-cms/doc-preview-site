---
title: "Observation module"
url: https://docs.magnolia-cms.com/product-docs/6.3/Modules/List-of-modules/Observation-module/
category: Magnolia 6.3
version: 6.3
breadcrumb: DX Core > Modules > Observation module
---

# Observation module

| Edition | CE |
| --- | --- |
| License | [MLA](https://www.magnolia-cms.com/mla.html) , [GPL](http://www.gnu.org/licenses/gpl-3.0.html) |
| Issues | [MGNLOBS](https://magnolia-cms.atlassian.net/browse/MGNLOBS) |
| Maven site | [Observation](https://nexus.magnolia-cms.com/#browse/browse:public:info%2Fmagnolia%2Fmagnolia-module-observation%2F{magnolia-module-observation-63}) |
| Latest | {magnolia-module-observation-63} |

## [](#_installing_with_maven)Installing with Maven

Maven is the easiest way to install the module. Add the following to your [bundle](../../../../RNs-6-4-3/Developing/Bundles-and-webapps/):

```xml
<dependency>
  <groupId>info.magnolia</groupId>
  <artifactId>magnolia-module-observation</artifactId>
  <version>{magnolia-module-observation-63}</version> (1)
</dependency>
```

|     |     |
| --- | --- |
| **1** | Should you need to specify the module version, do it using `<version>`. |

## [](#_what_is_an_event_listener)What is an event listener?

An event listener registers an interest in a particular type of event. The job of the listener is to detect the event and possibly react to it.

Example

You want to send an email notification when a new page is added. Configure an event listener that listens to the `NODE_ADDED` event. This event occurs when a new node is added. Limit the listener to the `mgnl:page` [node type](../../../../RNs-6-4-3/Administration/Architecture/Node-types/) so you only get notified about pages, not other types of nodes. Define the mail command as the desired reaction.

Magnolia provides two types of event listeners: listeners that react to the event on their own and listeners that delegate the reaction to a command. Both listeners are configured the same way, but [command event listeners](#_command_listener_configuration) require additional properties that the command class supports.

| Property | Description |
| --- | --- |
| `listenerConfigurations` | **required** Listener configuration node. |
| `<listener name>` | **required** Arbitrary node name. |
| `listener` | **required** Listener node. |
| `class` | **required** Fully qualified [listener class](#_listener_classes) name. |
| `nodeType` | **optional** , *default is all node types* Restricts observation to events on the specified [node type](../../../../RNs-6-4-3/Administration/Architecture/Node-types/) , for example `mgnl:page` . ** Only events whose associated parent node is of one of the node types in the `nodeType` String array is received. ** You can use it together with certain [Listener classes](#_listener_classes) that observe the specified node type. | ** | Only events whose associated parent node is of one of the node types in the `nodeType` String array is received. | ** | You can use it together with certain [Listener classes](#_listener_classes) that observe the specified node type. |
| ** | Only events whose associated parent node is of one of the node types in the `nodeType` String array is received. |
| ** | You can use it together with certain [Listener classes](#_listener_classes) that observe the specified node type. |
| `path` | **required** Path to the node that is observed. |
| `repository` | **required** [Workspace](../../../../RNs-6-4-3/Administration/Architecture/Workspaces/) of the observed node. |
| `active` | **optional** , *default is false* . Enables and disables the listener. |
| `delay` | **optional** Minimum delay (in milliseconds) before the reaction is triggered. |
| `description` | **optional** Listener description. |
| `eventTypes` | **optional** , *default is all event types* Type of [JCR event](https://developer.adobe.com/experience-manager/reference-materials/spec/jcr/2.0/12_Observation.html#12.1%20Event%20Model) monitored. Options : ‚Ä¢ `NODE_ADDED` ‚Ä¢ `NODE_MOVED` ‚Ä¢ `NODE_REMOVED` , ‚Ä¢ `PROPERTY_ADDED` ‚Ä¢ `PROPERTY_CHANGED` ‚Ä¢ `PROPERTY_REMOVED` ‚Ä¢ `PERSIST` ** Separate multiple types with a comma. | ** | Separate multiple types with a comma. |
| ** | Separate multiple types with a comma. |
| `includeSubNodes` | **optional** , *default is false* Observe also events in subnodes. For example, only changes to the page would be observed by default. Set to `true` , if you also want to observe changes to components under the page node. |

| Property | Description |
| --- | --- |
| `listenerConfigurations` | **required** Listener configuration node. |
| `<listener name>` | **required** Arbitrary node name. |
| `listener` | **required** Listener node. |
| `command` | **required** Command node. |
| `class` | **required** Fully qualified [command class name](../../../../RNs-6-4-3/Developing/Commands/) the reaction is delegated to. |
| `params` | **optional** Parameters passed to the command. For example the `MailTemplate` used to compose the mail body is required by `MailCommand` . |
| `class` | **required** Fully qualified name of the command [listener class](#_listener_classes) . |
| `nodeType` | **optional** , *default is all node types* Restricts observation to events on the specified [node type](../../../../RNs-6-4-3/Administration/Architecture/Node-types/) . |
| `<listener properties>` | **optional/requried** Same as standard [listener properties](#_listener_configuration) . Listeners may rely on the [Mail](../../../../RNs-6-4-3/Modules/List-of-modules/Mail-module/Mail/) module to send emails. [Configure SMTP](../../../../RNs-6-4-3/Modules/List-of-modules/Mail-module/Mail/) setting to ensure they work. |

| `info.magnolia.module.observation.sample.PageListener` | Writes a message to the console when a page is added. |
| --- | --- |
| `info.magnolia.module.observation.commands.CommandEventListener` | Executes a command when an event occurs. |
| `info.magnolia.module.observation.commands.RestrictToNodeTypeEventListener` | Executes a command when an event occurs in the specified node type. |
| `info.magnolia.module.observation.commands.RestrictToTemplateEventListener` | Executes a command only when an event occurs in the specified node that has a specified template type as a resource node. |
| `info.magnolia.module.observation.commands.RegexEventListener` | Executes a command when an event occurs in the specified node type and matches a regular expression pattern. |
| `info.magnolia.module.observation.commands.SpecifiedNodeTypeOnlyEventListener` | Executes a command when an event occurs in a node that is in the `included'' list of node types and not on the ``excluded` list. |

| üìÅ observation |  |
| --- | --- |
| üìÅ config |  |
| üìÅ listenerConfigurations |  |
| ‚∏¨ autoActivateAssets |  |
| ‚∏¨ listener |  |
| ‚∏¨ command |  |
| ‚¨© class | info.magnolia.publishing.command.PublicationCommand |
| ‚∏¨ params |  |
| ‚¨© repository | dam |
| ‚¨© class | info.magnolia.module.observation.commands.RestrictToNodeTypeEventListener ** |
| ‚¨© nodeType | mgnl:asset ** |
| ‚¨© active | true |
| ‚¨© description | Automatically activate new assets |
| ‚¨© eventTypes | NODE_ADDED |
| ‚¨© includeSubNodes | true |
| ‚¨© path | / |
| ‚¨© repository | dam |
