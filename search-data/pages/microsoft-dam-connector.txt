---
title: "Microsoft DAM Connector module"
url: https://docs.magnolia-cms.com/microsoft-dam-connector/
category: Modules
version: modules
breadcrumb: Microsoft DAM Connector module
---

# Microsoft DAM Connector module

| Git | [Git](https://gitlab.magnolia-platform.com/ps/incubator/microsoft-dam-parent) |
| --- | --- |
| Latest | 1.0 ** Compatible with Magnolia 6.2. | ** | Compatible with Magnolia 6.2. |
| ** | Compatible with Magnolia 6.2. |

## [](#_installing_with_maven)Installing with Maven

Maven is the easiest way to install the module. Add the following to your [bundle](../product-docs/RNs-6-4-3/Developing/Bundles-and-webapps/):

```xml
<dependency>
  <groupId>info.magnolia.external.dam</groupId>
  <artifactId>magnolia-external-dam-microsoft</artifactId>
  <version>1.0</version>
</dependency>
```

## [](#_configuration)Configuration

### [](#_authentication)Authentication

This module uses two authentication flows to access Microsoft assets:

-   [Client Credentials](#_client_credentials)

-   [Username and Password](#_username_and_password)


#### [](#_client_credentials)Client Credentials

Client Credentials flow is the default/main/mandatory. For Microsoft Asset App to be able to access Microsoft assets we need to configure the module properly. Please provide the parameters below:

> **Tip:** For more information, see Client Credentials.

-   `tenantId`

-   `clientId`

-   `clientSecret`


These properties can be provided directly in module configuration yaml file, or we can provide the path to the keystore property.

In the following example these properties are stored in the keystore workspace (passwords app) and we provide the path to the location of these properties:

/dam-microsoft/config.yaml

```yaml
tenantId: '/microsoft-credentials/default/tenantId'
clientId: '/microsoft-credentials/default/clientId'
clientSecret: '/microsoft-credentials/default/clientSecret'
impersonate: false
```

Values stored in the passwords app

![values in passwords app](_images/values-in-passwords-app.jpg)

#### [](#_username_and_password)Username and Password

Username/Password authentication flow is **optional**. This authentication flow can be enabled/disabled. By default, this authentication flow is disabled. To enable this flow set *impersonate* configuration property to `true`.

/dam-microsoft/config.yaml

```yaml
tenantId: '/microsoft-credentials/default/tenantId'
clientId: '/microsoft-credentials/default/clientId'
clientSecret: '/microsoft-credentials/default/clientSecret'
impersonate: true
```

Once enabled module will try to impersonate the current magnolia user with Microsoft credentials provided in passwods app (keystore workspace).

The Module will search for `username`, `password`, `clientId` properties in the keystore workspace under path:

```none
'/microsoft-credentials/[curent username]/clientId'
'/microsoft-credentials/[curent username]/username'
'/microsoft-credentials/[curent username]/password'
```

If these properties exists, for example

![passwords app user](_images/passwords-app-user.jpg)

> **Note:** This module will login to Microsft Graph with delegated user privileges.

### [](#_important_links)Important links

-   [Daemon app that calls web APIs - app registration](https://docs.microsoft.com/en-us/azure/active-directory/develop/scenario-daemon-app-registration)

-   [Choose a Microsoft Graph authentication provider based on scenario](https://docs.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=Java)

-   [Get access without a user](https://docs.microsoft.com/en-us/graph/auth-v2-service?view=graph-rest-1.0)


| Version | Notes |
| --- | --- |
| `1.0` | Initial release of the module. |
