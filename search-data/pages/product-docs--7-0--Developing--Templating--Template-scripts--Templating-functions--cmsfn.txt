---
title: "cmsfn"
url: https://docs.magnolia-cms.com/product-docs/7.0/Developing/Templating/Template-scripts/Templating-functions/cmsfn/
category: Magnolia 6.4
version: latest
breadcrumb: DX Core > Developing > Templating > Template scripts > Templating functions > cmsfn
---

# cmsfn

[FreeMarker development only](../../../../../../RNs-6-4-3/Developing/Templating/Renderers/#_renderers_provided_by_magnolia)

`cmsfn` templating functions traverse the JCR repository, get content, and create links. Helper functions convert objects from one type to another.

> **Note:** This page only lists the most commonly used functions. See info.magnolia.templating.functions.TemplatingFunctions for the complete list.

## [](#_running_the_examples)Running the examples

The function examples on this page require sample content. Look at each example to figure out what kind of content it needs.

Example

[Children](#_children) is a function that retrieves the children of the current node. To get meaningful results, you need to execute the code on a page that has some children.

```none
<ul>
[#list cmsfn.children(content, "mgnl:page") as child ]
    <li>${child.title!}</li>
[/#list]
</ul>
```

To create sample content:

1.  Put the code example into a page template script. You can use the `hello.ftl` script from the [Hello Magnolia](../../../../../Getting-started-with-Magnolia/Hello-Magnolia/) tutorial, for example.

2.  Create a page and assign the Hello template to it.

3.  Create some child pages and give them titles.


Your page structure could look like this:

![Page structure](../../../../../../RNs-6-4-3/_images/6-0-cmsfn-rbox.png)

The `animals` page contains the example code. It has child pages and the children have titles. When you request the page the example code renders a list:

-   Cats

-   Dogs

-   Monkeys


| Argument | Description |
| --- | --- |
| `path` | **required** The path where the content is stored. |
| `workspace` | **optional** , *default is website* The [workspace](../../../../../Administration/Architecture/Workspaces/) where the content map is stored. The function retrieves content from the `website` workspace by default. |

| Argument | Description |
| --- | --- |
| `content` | The node you want to inherit. |
| `relPath` | `String` If not blank, the node will inherit the node specified by this relative path rather than the actual provided node. ** This can be used to grab a specific property from a subnode. | ** | This can be used to grab a specific property from a subnode. |
| ** | This can be used to grab a specific property from a subnode. |
| `nodeTypes` | `String` If not blank, only ancestors of the anchor with one of the `nodeTypes` in this comma delimited string are evaluated. |
| `nodeInheritance` | `String` Specifies which child components of the ancestors to inherit. |
| `propertyInheritance` | `String` Specifies which properties of the ancestors to inherit. |

| Argument | Description |
| --- | --- |
| `contentMap` | **required** The node you want to link to, as a content map. |

| Argument | Description |
| --- | --- |
| `content` | **required** The node you want to convert. |

| Argument | Description |
| --- | --- |
| `content` | **required** The node whose children you want to get. |
| `nodeTypeName` | **optional** [Type](../../../../../Administration/Architecture/Node-types/) of the expected return nodes. |
| `blockIntermediateNodeName` | **optional** The property allows you to access content of the [intermediate block nodes](../../../../../Modules/List-of-modules/Content-Editor-module/Multi-JCR-block/#_flat_vs_nested_content_structure) . In the Magnolia webapps, the name of the intermediate node is `block` . |

| Argument | Description |
| --- | --- |
| `obj` | **required** Specifies the object type to be inspected. The following objects are available in the default implementation of this inspector function: • `null` values • Scalars • Dates • Calendar • Arrays • Collections • Maps • ContentMaps • Nodes • Properties • Objects (this one describes only the object class to avoid generating huge hierarchies) |
| `depth` | **optional** , *default is 3* Specifies the depth of the inspection. |
| `asHtml` | **optional** , *default is false* Output into a simple HTML format. |

## [](#_system_state_helpers)System state helpers

### [](#_check_for_edit_mode)Check for edit mode

Checks whether the content is requested in the page editor in edit mode on author instance.

#### [](#_method_signature_22)Method signature

`boolean isEditMode()`

#### [](#_returns_22)Returns

`boolean`

#### [](#_usage_22)Usage

`cmsfn.isEditMode()`

\[#if cmsfn.editMode\]You are in the edit mode<br/>\[/#if\]
Is edit mode: ${cmsfn.isEditMode()?string}

### [](#_check_for_preview_mode)Check for preview mode

Checks whether the content is requested in the page editor in preview mode. The check can be run either on the author instance or on the public instance.

#### [](#_method_signature_23)Method signature

`boolean isPreviewMode()`

#### [](#_returns_23)Returns

`boolean`

#### [](#_usage_23)Usage

`cmsfn.isPreviewMode()`

\[#if cmsfn.previewMode\]you are in the preview mode<br/>\[/#if\]
is preview: ${cmsfn.isPreviewMode()?string}<br/>

### [](#_check_for_author_instance)Check for author instance

Checks whether content is requested on the author instance.

#### [](#_method_signature_24)Method signature

`boolean isAuthorInstance()`

#### [](#_returns_24)Returns

`boolean`

#### [](#_usage_24)Usage

`cmsfn.isAuthorInstance()`

\[#if cmsfn.authorInstance\]you are on an author instance<br/>\[/#if\]
is author instance: ${cmsfn.isAuthorInstance()?string}<br/>

### [](#_check_for_public_instance)Check for public instance

Checks whether content is requested on the public instance.

#### [](#_method_signature_25)Method signature

`boolean isPublicInstance()`

#### [](#_returns_25)Returns

`boolean`

#### [](#_usage_25)Usage

`cmsfn.isPublicInstance()`

\[#if cmsfn.publicInstance\]you are on an public instance<br/>\[/#if\]
is public instance: ${cmsfn.isPublicInstance()?string}<br/>

| Argument | Description |
| --- | --- |
| `content` | **required** The content map you want to removing escaping of HTML for. |

| Argument | Description |
| --- | --- |
| `url` | **required** The URL whose query and fragment you want to get. |

| Argument | Description |
| --- | --- |
| `content` | **required** The content you want to wrap. |

| Argument | Description |
| --- | --- |
| `content` | **required** The content map whose metadata you want to get. |
| `property` | **required** Template ID Metadata property mgnl:creationdate `mgnl:created` mgnl:lastmodified `mgnl:lastModified` mgnl:lastaction `mgnl:lastActivated` mgnl:authorid `mgnl:lastModifiedBy` mgnl:activatorid `mgnl:lastActivatedBy` mgnl:template `mgnl:template` mgnl:activated `mgnl:activationStatus` mgnl:comment `mgnl:comment` | Template ID | Metadata property | mgnl:creationdate | `mgnl:created` | mgnl:lastmodified | `mgnl:lastModified` | mgnl:lastaction | `mgnl:lastActivated` | mgnl:authorid | `mgnl:lastModifiedBy` | mgnl:activatorid | `mgnl:lastActivatedBy` | mgnl:template | `mgnl:template` | mgnl:activated | `mgnl:activationStatus` | mgnl:comment | `mgnl:comment` |
| Template ID | Metadata property |
| mgnl:creationdate | `mgnl:created` |
| mgnl:lastmodified | `mgnl:lastModified` |
| mgnl:lastaction | `mgnl:lastActivated` |
| mgnl:authorid | `mgnl:lastModifiedBy` |
| mgnl:activatorid | `mgnl:lastActivatedBy` |
| mgnl:template | `mgnl:template` |
| mgnl:activated | `mgnl:activationStatus` |
| mgnl:comment | `mgnl:comment` |

| Argument | Description |
| --- | --- |
| `fileName` | **required** The filename you want to get the extension for. |
