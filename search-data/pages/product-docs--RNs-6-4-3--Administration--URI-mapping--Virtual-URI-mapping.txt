---
title: "Virtual URI mapping"
url: https://docs.magnolia-cms.com/product-docs/RNs-6-4-3/Administration/URI-mapping/Virtual-URI-mapping/
category: Magnolia 6.4
version: latest
breadcrumb: DX Core > Administration > URI mapping > Virtual URI mapping
---

# Virtual URI mapping

Virtual URI mapping is a way to redirect an incoming request to the actual location of the content. Typically, the virtual address does not match the site hierarchy exactly.

> **Warning:** Virtual URI mapping is an area where you can quickly break a site if you are not careful. It is easy to create cyclical mappings where the result of one mapping feeds another mapping. This can have unintended consequences and render AdminCentral unreachable. Create and test mappings in an isolated test environment before deploying them to production.If something goes wrong and you cannot access AdminCentral anymore, use the Groovy Rescue App to delete the problematic mapping.

> **Tip:** See an overview of differences between FreeMarker and headless templating.

|  | Weighting |
| --- | --- |
| **Simple pattern mappings** • `DefaultVirtualUriMapping` • `HostBasedVirtualUriMapping` • `MultiSiteRootVirtualUriMapping` | **Pattern length** |
| **Regexp mappings** • `RegexpVirtualUriMapping` • `HostBasedRegexpVirtualUriMapping` • `MultiSiteRegexpVirtualUriMapping` | **Matching group count** Using the [Matcher](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#groupCount()) approach. |

## [](#_where_to_use_virtual_mappings)Where to use virtual mappings

Virtual URIs are commonly used in Internet marketing for:

-   Campaigns, events, conferences, shows, [vanity URLs](http://finnotype.blogspot.com/2010/10/vanity-urls-with-magnolia-cms.html)

-   Microsites

-   Landing pages, geo or language specific pages

-   Product pages

-   Conversion pages

-   Downloads

-   Coupon codes, special offers

-   Abbreviations, shorthands


There are also utility reasons for redirecting URLs, related to day-to-day site maintenance:

-   Web pages have moved due to site re-organization. Users still have old URLs in their bookmarks and in search engine indexes. Without redirection traffic would be lost.

-   Registering alternative domain extensions like `example.net` and `example.org` and redirecting them to your primary site `example.com`. You can map multiple domain names to a site in your Magnolia site definition. This can be a major time-saver for a CMS team since there is no need to configure a Web server. Note that you need to register the domains with a registrar first and make sure that DNS entries for the domains point to the server hosting your Magnolia instance.


As an example of mapping, see also [Turning a template-based JSON provider into a RESTful API with virtualURIMapping](../../../Developing/Development-how-tos/How-to-get-content-as-JSON-an-overview/) where we define a custom virtual mapping to rewrite a path like `/getjson/tours/magnolia-travels/Kyoto` into `/getjson?workspace=tours&path=/magnolia-travels/Kyoto`.

| Property | Description |
| --- | --- |
| `class` | **required** Class that performs the mapping. See the section [Mapping classes](#_mapping_classes) below. |
| `fromUri` | **required** Pattern to match in the requested URI. |
| `toUri` | **required** Concrete URI where the request is mapped to. |
| `site` | **required** (for the `MultiSiteRegexpVirtualUriMapping` class) Specifies the site that should be used for the mapping. |

| Module | Edition | Mapping class | From > To |
| --- | --- | --- | --- |
| `ui-admincentral` | DX Core | `MultiSiteRootVirtualUriMapping` | **From** : `/` **To** : `redirect:/.magnolia/admincentral` |
| `ui-admincentral` | CE | `DefaultVirtualUriMapping` | **From** : `/` **To** : `redirect:/.magnolia/admincentral` |
| `ui-admincentral` | DX Core | `MultiSiteRootVirtualUriMapping` | **From** : `/` **To** : `redirect:/travel.html` |
| `ui-admincentral` | CE | `DefaultVirtualUriMapping` | **From** : `/` **To** : `redirect:/travel.html` |
| `tours` | CE | `RegexpVirtualUriMapping` | **From** : `/tours(.*).html` **To** : `forward:/travel/tour?tour=$1` |
| `tours` | DX Core | `MultiSiteRegexpVirtualUriMapping` | **From** : `/tours(.*).html` *travel* **To** : `forward:/tour?tour=$1` |
| `tours` | DX Core | `MultiSiteRegexpVirtualUriMapping` | **From** : `/tours(.*).html` *sportstation* **To** : `forward:/tour?tour=$1` |
