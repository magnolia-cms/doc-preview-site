---
title: "Content delivery"
url: https://docs.magnolia-cms.com/paas/cockpit/sections/content-delivery/
category: DX Cloud
version: cloud
breadcrumb: DX Cloud > Manage > Cockpit sections > CDN
---

# Content delivery

Content Delivery Networks (CDNs) allow you to quickly deliver your site content by caching content appropriately for improved speed and performance. DX Cloud uses [Fastly](https://www.fastly.com/) as the default CDN. If you’re using Fastly as your CDN, you’ll be able to see all available tabs in the Cockpit.

## [](#_select_desired_cluster)Select desired cluster

Select your desired cluster from the dropdown menu at the top of the Cockpit.

![select cluster id](../../_images/select-cluster-id.jpg)

| Statistic | Description |
| --- | --- |
| `Hit ratio` | Measurement (expressed as a percentage) of how many content requests the cache filled compared to how many requests it received. |
| `Hit ratio over time` | Hit ratio expressed over a timeline. |
| `Cache coverage` | The percentage of cacheable requests compared to all requests. ** This excludes `PASS` requests. | ** | This excludes `PASS` requests. |
| ** | This excludes `PASS` requests. |
| `Cache statuses` | Cache statuses expressed as a percentage by category. • `HIT` means the object was found in the cache. • `MISS` means the object was not found in the cache at the time of the query. • `PASS` means it was flagged to not be cached. |
| `Cache coverage over time` | Cache coverage (as a percentage) expressed over a timeline. |

## [](#_access_control)Access control

With Access control in DX Cloud, you’re able to configure rules that prohibit access to certain paths and extensions. This prevents any unintended visits to pages that should be internal or files that should be kept for certain groups or individuals.

### [](#_apply_cdn_restrictions)Apply CDN restrictions

View from the Cockpit

![access control](../../_images/cdn/cdn-settings/access-control.jpg)

1.  Go to **CDN > Access control**.

2.  Click the to create a new restriction.

    1.  Enter the **Path** that you want to protect.

        example

        ```none
        /internal/* (1)
        ```

        |     |     |
        | --- | --- |
        | **1** | This would protect all areas of the site under internal. |

    2.  If desired, enable **Path matches the start (^)**. This ensures that the match occurs only if the URL path starts with the specified pattern.

    3.  If desired, add any extensions that you explicitly want to protect under this path. The extensions should be separated by commas.

        example

        ```none
        pdf,txt,jpg,png
        ```


3.  Click **Apply CDN restrictions**.


|  | CIDR | Comment | Status | Created | Updated |
| --- | --- | --- | --- | --- | --- |
| **Example** | 192.168.0.0/24 | Blocking suspicious IPs | Synced | 7/11/2026, 17:44:14 UTC user@example.com | 7/11/2026, 17:44:14 UTC user@example.com |
| **Description** | The IP(s) to block. | A comment typically written to describe the reason for blocking the IP(s). | The status of the IP. • **Created** : IP was created but not yet published. • **Modified** : Existing IP was modified but yet published. • **Deleted** : Existing IP was deleted but not yet published. • **Synced** : No change on item. | When the IP(s) were added/created. | When the IP(s) were updated. For example, if the IP was edited within the Cockpit. |

| Type | Description |
| --- | --- |
| **Never cache** | You guessed it. It’s never cached. |
| **Cache for** | Allows you to set the time something is cached for ( *in minutes* ). |

## [](#_geofencing)Geofencing

DX Cloud’s geofencing lets you control access to your site content based on a user’s geographic location. This allows you to define country boundaries around your site’s access. The feature ensures you’re able to comply with regional regulations, enforce licensing restrictions, or tailor content based on geographic targeting.

### [](#_apply_geofencing)Apply Geofencing

View from the Cockpit

![geofencing](../../_images/cdn/cdn-settings/geofencing.jpg)

1.  Go to **CDN > Geofencing**.

2.  *Optional* If desired, add a custom error message. If left blank, the default message is "Restricted Content".

3.  Click **Add rule** to add a new geofencing rule.

    1.  Select the countries from the menu.

    2.  Add the host(s) you want to restrict in the **Hosts** field.


4.  Click **Apply geofencing**.


## [](#_error_responses)Error responses

You can customise error responses directly from the Cockpit with DX Cloud. This ensures that when users get a `404` or `503` error, they’ll receive your custom message.

### [](#_set_custom_error_page_response)Set custom error page response

View from the Cockpit

![custom errors](../../_images/cdn/cdn-settings/custom-errors.jpg)

1.  Go to **CDN > Responses**.

2.  Click **Apply Filters**.

    Filter selection persists

    When you **Apply filters**, the selection persists meaning if you reload the page, you’ll see the same filter selection.

    It also ensures you can share the selection and the recipient sees the same view as you do.

    Example

    ```none
    https://cockpit.magnolia-platform.com/logs/events?from=2026-03-06T16:25:31.842Z&to=2026-03-06T17:25:31.842Z& (1)
    ```

    |     |     |
    | --- | --- |
    | **1** | In this case, it shows the filter for event logs for the last hour on the selected date. |

3.  Toggle on the desired error page.

4.  Enter your custom message inside the `html` element.

    > **Tip:** We recommend keeping the message concise. There is a maximum 3MB limit for the Fastly configuration which includes these pages and other objects.

5.  Click **Apply changes**.


## [](#_segmented_caching)Segmented caching

Segmented caching breaks up large files or objects into smaller segments and caches each segment separately, helping optimize content delivery.

Why is this useful?

You should use segmented caching for resources larger than `20 MB` to prevent `503 Service unavailable` errors for large resource requests.

Imagine you have a large video file. Instead of caching the entire video as one big chunk, segmented caching breaks it into smaller pieces. This allows the CDN to cache each segment separately.

So, for example, if a user only watches a small part of a video, the CDN only needs to fetch and deliver the watched segment, rather than the whole video. This makes resource delivery faster and more efficient.

### [](#_apply_segmented_caching)Apply segmented caching

View from the Cockpit

![segmented caching](../../_images/cdn/cdn-settings/segmented-caching.jpg)

1.  Go to **CDN > Segmented caching**.

2.  Ensure that you have enabled segmented caching by toggling it on.

3.  Specify the file extensions where you want the cache segmented.

4.  *Optional* Specify the size of the segments in **Block size in bytes**.

    This defines the size of the segment itself.

5.  *Optional* Specify which file extensions to which you want the block size to apply.

6.  Click **Apply segmented caching**.


## [](#_fastly_waiting_room)Fastly Waiting Room

Premium feature

The Fastly Waiting Room is a feature to help you manage high traffic volume on your site and prevent site overload. It assigns a delay for new user requests which allows existing users to finish what they’re trying to do.

The Fastly Waiting Room:

-   Prevents site overload by intelligently handling the influx of new visitors.

-   Fairly distributes the site traffic so that each user has equal chance of access. During high-demand events, promotions, or sales, this can be highly useful.

-   Reduces server load so performance is not hindered.


![waiting room journey](../../_images/cdn/waiting-room-journey.jpg)

### [](#_get_the_fastly_waiting_room)Get the Fastly Waiting Room

The Fastly Waiting Room is a premium feature. You’ll need to talk with your DX Cloud representative to discuss enabling the feature.

You must have the appropriate admin privileges to enable the Fastly Waiting Room. If you go to the Waiting Room in the Cockpit without the appropriate privileges, you’ll see an error page. If your account has the privileges to enable the Fastly Waiting Room, you can follow the [instructions](#_configure_the_fastly_waiting_room) here.

### [](#_configure_the_fastly_waiting_room)Configure the Fastly Waiting Room

1.  In your Cockpit, go to **CDN > Waiting room**.

    View from the Cockpit

    ![waiting room cockpit](../../_images/cdn/waiting-room-cockpit.jpg)

2.  Toggle **Enable Waiting Room** to enable the feature.

3.  Input the **Wait period duration in seconds**.

    *This is the minimum period of time a visitor must wait before a decision to grant access is made.*

4.  Input the **Allow percentage**. *Enter a value between `0` and `100`.*

    Important considerations

    -   This determines what percentage of new requests are allowed to proceed to the site at any point.

    -   It helps to control the traffic in a way that prevents server overload.

    -   `0` means no new requests are allowed to enter the site.

    -   `100` means all new requests are allowed to enter the site.


    The Default is `50` meaning 50% go to the site and 50% go to the waiting room.

5.  Input the **Time in seconds a client is allowed to access**.

    *This is how long the site visitor can stay on the site after access is granted.*

    *Default is `3600` seconds (60 minutes/1 hour)*

6.  Input **Page refresh time in seconds**.

    *This is how long the Waiting Room waits to refresh and check for cookie status.* *Default is `5` seconds*

7.  Input the **HTML** that is used to render the look and feel of the Waiting Room.

    Sample and tips

    There is a limit of `8000` characters for the field.

    This is just an example. You should use your own template and design to ensure a seamless look and feel for your users.

    ```html
    <!DOCTYPE html>
    <html lang="en">
       <head>
          <meta charset="UTF-8">
          <title>Waiting Room</title> (1)
       </head>
       <body>
          <div class="container">
             <h1>Welcome to the Waiting Room</h1> (2)
             <p>We apologize for the inconvenience, but the site is quite busy.</p> (3)
             <p>Enjoy this dancing penguin while you wait.</p> (3)
             <img src="dancing-penguin.jpg" alt="Dancing Penguin funny">
          </div>
       </body>
    </html>
    ```

    |     |     |
    | --- | --- |
    | **1** | Give the Waiting Room a meaningful title. |
    | **2** | Write a thoughtful header. |
    | **3** | It’s important to explain what is happening to the user. |


* * *

[1](#_footnoteref_1). Classless Inter-Domain Routing. For more, see [here](https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing).
