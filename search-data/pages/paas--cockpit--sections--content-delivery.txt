---
title: "Content delivery"
url: https://docs.magnolia-cms.com/paas/cockpit/sections/content-delivery/
category: DX Cloud
version: cloud
breadcrumb: DX Cloud > Manage > Cockpit sections > CDN
---

# Content delivery

Content Delivery Networks (CDNs) allow you to quickly deliver your site content by caching content appropriately for improved speed and performance. DX Cloud uses [Fastly](https://www.fastly.com/) as the default CDN. If you’re using Fastly as your CDN, you’ll be able to see all available tabs in the Cockpit.

## [](#_select_desired_cluster)Select desired cluster

Select your desired cluster from the dropdown menu at the top of the Cockpit.

![select cluster id](../../_images/select-cluster-id.jpg)

## [](#_cdn_statistics)CDN statistics

You can view your CDN statistics for an active domain in a content delivery server.

> **Important:** You must register a domain in the cockpit. If you haven’t done that, see Networking. The statistics sections remain empty until you enable a domain for the content delivery server.

### [](#_purge_all)Purge All

To purge the entire cache from the content delivery server for the domains in the selector, click **Purge All CDN Cache**. Alternatively, you can [purge by URL](#_purge_url).

> **Tip:** For more, see Purging.

![purge cdn all](../../_images/cdn/purge-cdn-all.jpg)

> **Note:** It does not currently purge your Magnolia instance’s cache.

### [](#_purge_url)Purge URL

Instead of purging the entire cache, you may want to simply purge a single object or directory from all cache servers. In this case, you will want to use the **Purge CDN Cache for URL** option in the Cockpit.

1.  Go to **CDN > Statistics**.

2.  Under *CDN Actions*, click **Purge CDN Cache for URL**.

    ![purge url](../../_images/cdn/purge-url.jpg)

3.  In the dialog:

    1.  Enter the **URL** of the object that you want to purge.

        For example, `www.example.com/assets/old-assets/` or `www.example.com/assets/old-assets/resource.extension`.

    2.  *Optionally* select to perform a **Soft purge**.

        > **Note:** If unselected, a hard purge is performed which immediately makes the object inaccessible. Soft purges mark the object as stale, but it is still accessible.Stale objects can reduce backend loads by allowing for conditional revalidation and other performance-enhancing patterns. For more, see Fastly’s soft vs hard purge.

    3.  Click **Purge CDN Cache for URL**.

        ![purge url dialog](../../_images/cdn/purge-url-dialog.jpg)



### [](#_view_stats)View stats

1.  Go to **CDN > Statistics**.

2.  Select the desired **Domain** from the dropdown list.

3.  Select the **Range** for the statistics.

4.  Click **Apply filters**.

    Filter selection persists

    When you **Apply filters**, the selection persists meaning if you reload the page, you’ll see the same filter selection.

    It also ensures you can share the selection and the recipient sees the same view as you do.

    Example

    ```none
    https://cockpit.magnolia-platform.com/logs/events?from=2026-03-06T16:25:31.842Z&to=2026-03-06T17:25:31.842Z& (1)
    ```

    |     |     |
    | --- | --- |
    | **1** | In this case, it shows the filter for event logs for the last hour on the selected date. |


#### [](#_cache)Cache

<div class="joplin-table-wrapper"><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 30%;"> <col style="width: 70%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Statistic</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Hit ratio</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Measurement (expressed as a percentage) of how many content requests the cache filled compared to how many requests it received.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Hit ratio over time</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Hit ratio expressed over a timeline.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Cache coverage</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>The percentage of cacheable requests compared to all requests.</p></div><div class="admonitionblock note"><table><tbody><tr><td class="icon"><i class="fa icon-note" title="Note"></i></td><td class="content">This excludes <code>PASS</code> requests.</td></tr></tbody></table></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Cache statuses</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Cache statuses expressed as a percentage by category.</p></div><div class="ulist"><ul><li><p><code>HIT</code> means the object was found in the cache.</p></li><li><p><code>MISS</code> means the object was not found in the cache at the time of the query.</p></li><li><p><code>PASS</code> means it was flagged to not be cached.</p></li></ul></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Cache coverage over time</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Cache coverage (as a percentage) expressed over a timeline.</p></div></div></td></tr></tbody></table></div>

#### [](#_origin)Origin

| Statistic | Description |
| --- | --- |
| `Requests per zone` | Displays (as a map) the requests per geographic zone. |
| `Request per zones and host: <host>` | Displays the requests per geographic zone and host. |

#### [](#_requests)Requests

| Statistic | Description |
| --- | --- |
| `Total requests` | Displays the number of total requests. |
| `Total requests last 24 hours` | Displays the number of total requests in the last 24 hours. |
| `Total request beginning of month` | Displays the number of total requests since the beginning of the current month. |
| `Total request per host` | Displays a chart for the number of total requests per host as a percentage. |
| `Requests total` | Displays a graph for the request volumes coming in currently on a timeline. |
| `Requests total per host` | Displays a graph for the request volumes coming in currently on a timeline per host. |
| `Requests rate` | Displays the rate of requests coming in on a timeline. This is requests per second. |
| `Requests rate per host` | Displays the rate of requests coming in on a timeline per host. This is requests per second. |

#### [](#_round_trip)Round trip

| Statistic | Description |
| --- | --- |
| `Round trip` | The average time it took to get a response after initiating network request. |
| `Round trip over last 24 hours` | The average time it took to get a response after initiating network request for the last 24 hours. |
| `Round trip since beginning of the month` | The average time it took to get a response after initiating network request since the beginning of the month. |
| `Round trip timeline` | The average time it took to get a response after initiating network request on timeline. |
| `Round trip timeline per host` | The average time it took to get a response after initiating network request on timeline per host. |

#### [](#_duration)Duration

<div class="joplin-table-wrapper"><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 30%;"> <col style="width: 70%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Statistic</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Request duration</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Graph showing how long requests are taking on a timeline.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Request duration per status</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Graph showing how long requests are taking on a timeline, categorized by status.</p></div><div class="ulist"><div class="title">Statuses</div><ul><li><p><code>HIT</code></p></li><li><p><code>MISS</code></p></li><li><p><code>PASS</code></p></li><li><p><code>UNKNOWN</code></p></li></ul></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Request duration per host</code></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Graph showing how long requests are taking on a timeline, categorized by host.</p></div></div></td></tr></tbody></table></div>

#### [](#_traffic)Traffic

| Statistic | Description |
| --- | --- |
| `Traffic` | Shows the traffic volume in GB. |
| `Traffic over time` | Chart showing data transfer volume over a timeline. |
| `Traffic rate` | Chart showing the rate of data transfer (e.g., MB/s) over a timeline. |
| `Traffic detail` | Stacked bar chart showing data transfer broken down by body (content payload) and header (HTTP headers) size over a timeline. |
| `Total traffic detail` | Shows the total data transfer broken down by body (content payload) and header (HTTP headers) size. |

#### [](#_http_statuses)HTTP statuses

| Statistic | Description |
| --- | --- |
| `Error rate` | Shows the total percentage of errors. |
| `Error rate over last 24 hours` | Shows the total percentage of errors over the last 24 hours. |
| `Error rate since beginning of month` | Shows the total percentage of errors since the beginning of the month. |
| `HTTP statuses` | Chart showing a breakdown of the HTTP statues returned, categorized by status, such as `200` or `503`. |
| `HTTP Info, Success` | Timeline showing the number of INFO (`206`) and SUCCESS (`200`) responses. |
| `HTTP redirects` | Chart showing HTTP redirects requests on a timeline, categorized by HTTP status code such as `302` or `308`. |
| `HTTP errors` | Chart showing HTTP error requests on a timeline, categorized by HTTP status code such as `404` or `503`. |

## [](#_access_control)Access control

With Access control in DX Cloud, you’re able to configure rules that prohibit access to certain paths and extensions. This prevents any unintended visits to pages that should be internal or files that should be kept for certain groups or individuals.

### [](#_apply_cdn_restrictions)Apply CDN restrictions

View from the Cockpit

![access control](../../_images/cdn/cdn-settings/access-control.jpg)

1.  Go to **CDN > Access control**.

2.  Click the to create a new restriction.

    1.  Enter the **Path** that you want to protect.

        example

        ```none
        /internal/* (1)
        ```

        |     |     |
        | --- | --- |
        | **1** | This would protect all areas of the site under internal. |

    2.  If desired, enable **Path matches the start (^)**. This ensures that the match occurs only if the URL path starts with the specified pattern.

    3.  If desired, add any extensions that you explicitly want to protect under this path. The extensions should be separated by commas.

        example

        ```none
        pdf,txt,jpg,png
        ```


3.  Click **Apply CDN restrictions**.


## [](#_block_ips)Block IPs

If you spot a malicious IP or need to block IPs for whatever reason, you can block them directly from the Cockpit.

> **Note:** The option to block IPs from the Cockpit is only applicable if you are using Fastly as your CDN. Otherwise, you can block IPs using an ingress.

You can add IPs to block individually or in a batch by uploading a `.csv` file. You can also see important information about when an IP was added by viewing the information in the Cockpit table.

<div class="joplin-table-wrapper"><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 15%;"> <col style="width: 15%;"> <col style="width: 20%;"> <col style="width: 20%;"> <col style="width: 15%;"> <col style="width: 15%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top"></th><th class="tableblock halign-left valign-top">CIDR</th><th class="tableblock halign-left valign-top">Comment</th><th class="tableblock halign-left valign-top">Status</th><th class="tableblock halign-left valign-top">Created</th><th class="tableblock halign-left valign-top">Updated</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Example</strong></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>192.168.0.0/24</p></div></div></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Blocking suspicious IPs</p></div></div></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Synced</p></div></div></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>7/11/2026, 10:37:05 UTC user@example.com</p></div></div></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>7/11/2026, 10:37:05 UTC user@example.com</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>The IP(s) to block.</p></div></div></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>A comment typically written to describe the reason for blocking the IP(s).</p></div></div></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>The status of the IP.</p></div><div class="ulist"><ul><li><p><strong>Created</strong>: IP was created but not yet published.</p></li><li><p><strong>Modified</strong>: Existing IP was modified but yet published.</p></li><li><p><strong>Deleted</strong>: Existing IP was deleted but not yet published.</p></li><li><p><strong>Synced</strong>: No change on item.</p></li></ul></div></div></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>When the IP(s) were added/created.</p></div></div></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>When the IP(s) were updated.</p></div><div class="paragraph"><p>For example, if the IP was edited within the Cockpit.</p></div></div></td></tr></tbody></table></div>

You can perform actions such as editing and [deleting](#_removed_a_blocked_ip_unblock) IPs as well as [downloading](#_download_ips) the IPs as a `.csv` file for further inspection.

![block ip overview](../../_images/cdn/block-ip-overview.jpg)

### [](#_instructions)Instructions

1.  Go to **CDN > Block IP**.

2.  Choose to block a single IP or import a list to block:

    -   Block IP

    -   Block multiple IPs


    1.  Click **Add IP**.

    2.  Enter the CIDR\[[1](#_footnotedef_1 "View footnote.")\].

        *The appropriate bit prefix (`/32` (IPv4) or `/128` (IPv6)) is appended automatically.*

    3.  Add a comment.

    4.  Click **Block IP**.


    IPv6 Example

    ![block ip](../../_images/cdn/block-ip.jpg)

    1.  Click **Add IP (CSV)**.

    2.  Select the file you wish to upload.

    3.  Click **Add IP (CSV)**.

        *See an example format and CSV file below these instructions.*


    ![block ip csv](../../_images/cdn/block-ip-csv.jpg)

    CSV entry format

    CIDR\[[1](#_footnotedef_1 "View footnote.")\],Comment

    example csv file

    ```csv
    192.169.0.0/16,local network range
    23.45.67.111/32,
    2002::1234:abcd:ffff:c0a8:101/64
    192.169.0.1/12,"commas, in, a, comment, example" (1)
    ```

    |     |     |
    | --- | --- |
    | **1** | Comments are optional. However, if you use them and there are commas in your comment, be sure to wrap the comment in double quotations. Otherwise, it may be read as a separate entry in the CSV file. |


### [](#_removed_a_blocked_ip_unblock)Removed a blocked IP (unblock)

1.  Go to **CDN > Block IP**.

2.  Choose one of the currently blocked IPs and click **Delete selected**.

    1.  Alternatively, click **Delete all** to delete all listed IPs.



### [](#_download_ips)Download IPs

1.  Go to **CDN > Block IP**.

2.  Choose one of the currently blocked IPs and click **Download selected**.

    1.  Alternatively, click **Download all** to download all listed IPs.


3.  This generates a `.csv` file download with the following information:

    csv

    -   `id`

    -   `cidr`

    -   `action`; this is typically "block" for having blocked the IP

    -   `comment`; any comments entered when adding the IP(s) in the Cockpit



## [](#_cache_2)Cache

You can add cache rules from your DX Cloud Cockpit. Caching reduces requests to Magnolia which helps reduce heavy processing loads and improves performance.

The options in the Cache section aren’t available to satellite clusters.

Serving stale content [origin failure](https://www.fastly.com/documentation/guides/concepts/edge-state/cache/stale/) is off by default. Contact support to enable it.

**Subsections**:

-   [Add Browser cache rule](#_add_browser_cache_rule)

-   [Add CDN cache rule](#_add_cdn_cache_rule)

-   [Restore cache versions](#_restore_cache_versions)

-   [Import cache policies](#_import_cache_policies)




### [](#_add_browser_cache_rule)Add Browser cache rule

`browserCachePolicy` is defined in [Magnolia](../../../configuration/cache/).

**Rules**

-   The rules apply from top to down.

-   The first rule matching the request defines which `Cache-Control` header will be applied to the response.


#### [](#_instructions_2)Instructions

View from the Cockpit

![cache rule anatomy browser](../../_images/cdn/cache-rule-anatomy-browser.jpg)

To add a Browser cache rule:

1.  Go to your Cockpit.

2.  Go to **CDN > Cache**.

3.  Choose the Browser cache tab.

4.  Click **Add policy**.

    *The new policy will appear at the top of the policy list where you can edit it.*

    1.  Give the policy a **Name**.

    2.  Choose the **Type**.

        | Type | Description |
        | --- | --- |
        | **Never cache** | You guessed it. It’s never cached. |
        | **Cache for** | Allows you to set the time something is cached for (*in minutes*). |

    3.  Click **Add voter** if you want to add any [voters](../../../../product-docs/7.0/Administration/Voters/).

        1.  Choose the condition you want and click **Add**.

            > **Note:** Each condition comes with a preset set of rules you can choose from.For example, the URL starts with voter comes with an option of IS or IS NOT whereby you can add a pattern to fulfill that requirement.


    4.  Don’t forget to save you work clicking **Save**.

    5.  To put your rules into production, you’ll also need to **Publish** your new rule.

        Your updates aren’t synced with Magnolia until you publish the policies. This is then denoted with the **Synced with Magnolia** label on the policy.



### [](#_add_cdn_cache_rule)Add CDN cache rule

CDN caching controls the `Surrogate-Control` header. When the CDN sees this header, it uses it instead of `Cache-Control`, letting you give the browser and CDN different cache instructions.

For example, you might set `Cache-Control: no-cache` on images so browsers never cache them, while setting `Surrogate-Control: max-age=31536000` so the CDN caches them for a year. If you need to update the images later, you only invalidate the CDN cache and all browsers immediately get the new version.

CDN caching also helps serve cached content when Magnolia is down or experiencing issues.

**Rules**

-   The rules apply from top to down.

-   The first rule matching the request defines which `Surrogate-Control` header will be applied to the response.

    -   The `Surrogate-Control` header takes precedence over the `Cache-Control` one.

    -   `Surrogate-Control` headers are removed before a response is sent to an end user.

    -   In the absence of the `Surrogate-Control` header, the CDN uses the `Cache-Control` header.



#### [](#_instructions_3)Instructions

View from the Cockpit

![cache rule anatomy cdn](../../_images/cdn/cache-rule-anatomy-cdn.jpg)

To add a CDN cache rule:

1.  Go to your Cockpit.

2.  Go to **CDN > Cache**.

3.  Choose the CDN cache tab.

4.  Click **Add policy**.

    *The new policy will appear at the top of the policy list where you can edit it.*

    1.  Give the policy a **Name**.

    2.  Add a directive to the **Surrogate Control** field.

        What values can be added?

        -   `max-age`: defines how long the response entity can be considered fresh in **seconds** before it considers the cached entity stale.

        -   `stale-while-revalidate`: defines how long in **seconds** that the cache can reuse a stale response while it revalidates it to a cache.

        -   `stale-if-error`: indicates when an error is encountered, a cached stale response can be used to satisfy the request, regardless of other freshness information. Unlike `stale-while-revalidate`, stale-if-error doesn’t allow for any asynchronous revalidation.


        **Example**: `max-age=86400, stale-while-revalidate=60`

    3.  Click **Add voter** if you want to add any [voters](../../../../product-docs/7.0/Administration/Voters/).

        1.  Choose the condition you want and click **Add**.

            > **Note:** Each condition comes with a preset set of rules you can choose from.For example, the URL starts with voter comes with an option of IS or IS NOT whereby you can add a pattern to fulfill that requirement.


    4.  Don’t forget to save you work clicking **Save**.

    5.  To put your rules into production, you’ll also need to **Publish** your new rule.

        Your updates aren’t synced with Magnolia until you publish the policies. This is then denoted with the **Synced with Magnolia** label on the policy.



### [](#_restore_cache_versions)Restore cache versions

You can restore a previous version of a cache policy.

1.  Go to **CDN > Cache**.

2.  Choose your desired cache tab.

3.  Click **Restore**.

    A dropdown list of versions will appear.

4.  Choose the version you want to restore.

5.  Click **Restore**.


### [](#_import_cache_policies)Import cache policies

You can import cache policies from Magnolia.

1.  Go to **CDN > Cache**.

2.  Choose your desired cache tab.

3.  Click **Import cache rules from Magnolia**.

    The cache policies will be imported and added to the list. You can edit the policies after the import.


## [](#_geofencing)Geofencing

DX Cloud’s geofencing lets you control access to your site content based on a user’s geographic location. This allows you to define country boundaries around your site’s access. The feature ensures you’re able to comply with regional regulations, enforce licensing restrictions, or tailor content based on geographic targeting.

### [](#_apply_geofencing)Apply Geofencing

View from the Cockpit

![geofencing](../../_images/cdn/cdn-settings/geofencing.jpg)

1.  Go to **CDN > Geofencing**.

2.  *Optional* If desired, add a custom error message. If left blank, the default message is "Restricted Content".

3.  Click **Add rule** to add a new geofencing rule.

    1.  Select the countries from the menu.

    2.  Add the host(s) you want to restrict in the **Hosts** field.


4.  Click **Apply geofencing**.


## [](#_error_responses)Error responses

You can customise error responses directly from the Cockpit with DX Cloud. This ensures that when users get a `404` or `503` error, they’ll receive your custom message.

### [](#_set_custom_error_page_response)Set custom error page response

View from the Cockpit

![custom errors](../../_images/cdn/cdn-settings/custom-errors.jpg)

1.  Go to **CDN > Responses**.

2.  Click **Apply Filters**.

    Filter selection persists

    When you **Apply filters**, the selection persists meaning if you reload the page, you’ll see the same filter selection.

    It also ensures you can share the selection and the recipient sees the same view as you do.

    Example

    ```none
    https://cockpit.magnolia-platform.com/logs/events?from=2026-03-06T16:25:31.842Z&to=2026-03-06T17:25:31.842Z& (1)
    ```

    |     |     |
    | --- | --- |
    | **1** | In this case, it shows the filter for event logs for the last hour on the selected date. |

3.  Toggle on the desired error page.

4.  Enter your custom message inside the `html` element.

    > **Tip:** We recommend keeping the message concise. There is a maximum 3MB limit for the Fastly configuration which includes these pages and other objects.

5.  Click **Apply changes**.


## [](#_segmented_caching)Segmented caching

Segmented caching breaks up large files or objects into smaller segments and caches each segment separately, helping optimize content delivery.

Why is this useful?

You should use segmented caching for resources larger than `20 MB` to prevent `503 Service unavailable` errors for large resource requests.

Imagine you have a large video file. Instead of caching the entire video as one big chunk, segmented caching breaks it into smaller pieces. This allows the CDN to cache each segment separately.

So, for example, if a user only watches a small part of a video, the CDN only needs to fetch and deliver the watched segment, rather than the whole video. This makes resource delivery faster and more efficient.

### [](#_apply_segmented_caching)Apply segmented caching

View from the Cockpit

![segmented caching](../../_images/cdn/cdn-settings/segmented-caching.jpg)

1.  Go to **CDN > Segmented caching**.

2.  Ensure that you have enabled segmented caching by toggling it on.

3.  Specify the file extensions where you want the cache segmented.

4.  *Optional* Specify the size of the segments in **Block size in bytes**.

    This defines the size of the segment itself.

5.  *Optional* Specify which file extensions to which you want the block size to apply.

6.  Click **Apply segmented caching**.


## [](#_fastly_waiting_room)Fastly Waiting Room

Premium feature

The Fastly Waiting Room is a feature to help you manage high traffic volume on your site and prevent site overload. It assigns a delay for new user requests which allows existing users to finish what they’re trying to do.

The Fastly Waiting Room:

-   Prevents site overload by intelligently handling the influx of new visitors.

-   Fairly distributes the site traffic so that each user has equal chance of access. During high-demand events, promotions, or sales, this can be highly useful.

-   Reduces server load so performance is not hindered.


![waiting room journey](../../_images/cdn/waiting-room-journey.jpg)

### [](#_get_the_fastly_waiting_room)Get the Fastly Waiting Room

The Fastly Waiting Room is a premium feature. You’ll need to talk with your DX Cloud representative to discuss enabling the feature.

You must have the appropriate admin privileges to enable the Fastly Waiting Room. If you go to the Waiting Room in the Cockpit without the appropriate privileges, you’ll see an error page. If your account has the privileges to enable the Fastly Waiting Room, you can follow the [instructions](#_configure_the_fastly_waiting_room) here.

### [](#_configure_the_fastly_waiting_room)Configure the Fastly Waiting Room

1.  In your Cockpit, go to **CDN > Waiting room**.

    View from the Cockpit

    ![waiting room cockpit](../../_images/cdn/waiting-room-cockpit.jpg)

2.  Toggle **Enable Waiting Room** to enable the feature.

3.  Input the **Wait period duration in seconds**.

    *This is the minimum period of time a visitor must wait before a decision to grant access is made.*

4.  Input the **Allow percentage**. *Enter a value between `0` and `100`.*

    Important considerations

    -   This determines what percentage of new requests are allowed to proceed to the site at any point.

    -   It helps to control the traffic in a way that prevents server overload.

    -   `0` means no new requests are allowed to enter the site.

    -   `100` means all new requests are allowed to enter the site.


    The Default is `50` meaning 50% go to the site and 50% go to the waiting room.

5.  Input the **Time in seconds a client is allowed to access**.

    *This is how long the site visitor can stay on the site after access is granted.*

    *Default is `3600` seconds (60 minutes/1 hour)*

6.  Input **Page refresh time in seconds**.

    *This is how long the Waiting Room waits to refresh and check for cookie status.* *Default is `5` seconds*

7.  Input the **HTML** that is used to render the look and feel of the Waiting Room.

    Sample and tips

    There is a limit of `8000` characters for the field.

    This is just an example. You should use your own template and design to ensure a seamless look and feel for your users.

    ```html
    <!DOCTYPE html>
    <html lang="en">
       <head>
          <meta charset="UTF-8">
          <title>Waiting Room</title> (1)
       </head>
       <body>
          <div class="container">
             <h1>Welcome to the Waiting Room</h1> (2)
             <p>We apologize for the inconvenience, but the site is quite busy.</p> (3)
             <p>Enjoy this dancing penguin while you wait.</p> (3)
             <img src="dancing-penguin.jpg" alt="Dancing Penguin funny">
          </div>
       </body>
    </html>
    ```

    |     |     |
    | --- | --- |
    | **1** | Give the Waiting Room a meaningful title. |
    | **2** | Write a thoughtful header. |
    | **3** | It’s important to explain what is happening to the user. |


* * *

[1](#_footnoteref_1). Classless Inter-Domain Routing. For more, see [here](https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing).
