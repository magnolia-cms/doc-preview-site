---
title: "Maven setup"
url: https://docs.magnolia-cms.com/product-docs/6.3/Developing/Development-environment/Maven/
category: Magnolia 6.3
version: 6.3
breadcrumb: DX Core > Developing > Development environment > Maven setup
---

# Maven setup

Maven is a tool for managing project dependencies and building your Magnolia project.

This page describes how to configure Maven to download Magnolia modules and webapps from our [Nexus](https://nexus.magnolia-cms.com/) server, with appropriate access credentials.

## [](#_install_maven)Install maven

[Download](http://maven.apache.org/download.cgi) and [Install](http://maven.apache.org/install.html) Maven. In order to verify Maven has been installed correctly:

1.  Open a terminal or a shell.

2.  Issue the command `mvn -v`. The command should produce an output similar to this:

    ```sh
    mvn -v

    Apache Maven 3.9.11 (3e54c93...d3d825b)
    Maven home: /opt/apache-maven-3.9.11
    Java version: <JAVA_VERSION>, vendor: Eclipse Adoptium, runtime: path/to/install
    Default locale: fr_FR, platform encoding: UTF-8
    OS name: "<OPERATING_SYSTEM>"
    ```

    > **Note:** Maven keeps your user configuration and local repository under the ${user.home}/.m2/ directory. For more details, see Configuring Maven.


## [](#_set_up_magnolia_repositories)Set up Magnolia repositories

-   DX Core

-   Community


For **DX Core** projects, add the following repository to your project POM (or Maven settings profile), and follow the next sections to set up authentication.

```xml
<repositories>
  <repository>
    <id>magnolia.nexus.enterprise</id>
    <url>https://nexus.magnolia-cms.com/repository/enterprise</url>
  </repository>
</repositories>
```

This also applies to Community Edition releases in [maintenance mode](../../../../../support/).

For **Community Edition** projects, use these repositories:

```xml
<repositories>
  <repository>
    <id>magnolia.nexus.public</id>
    <url>https://nexus.magnolia-cms.com/repository/public</url>
  </repository>
   <repository>
    <id>vaadin-addons</id>
    <url>https://maven.vaadin.com/vaadin-addons/</url>
  </repository>
 </repositories>
```

> **Note:** Magnolia provides additional regional repositories for US and APAC. Choose the appropriate regional URL for your environment.

For more details, see [Maven: Setting up Multiple Repositories](https://maven.apache.org/guides/mini/guide-multiple-repositories.html).

## [](#_create_a_master_password_recommended)Create a master password (recommended)

We recommend you create a master password. However, this is not mandatory.

> **Note:** For more details, see Mavenâ€™s Password Encryption.

1.  Run the following command.

    ```sh
    mvn --encrypt-master-password
    ```

    > **Note:** This command produces an encrypted version of the password similar to the example below:{jSMOWnoPFgsHVpMvz5VrIt5kRbzGpI8u+9EF1iFQyJQ=}

2.  Store the password in `~/.m2/settings-security.xml`.

    ```xml
    <settingsSecurity>
      <master>{jSMOWnoPFgsHVpMvz5VrIt5kRbzGpI8u+9EF1iFQyJQ=}</master>
    </settingsSecurity>
    ```


## [](#_set_up_credentials_in_maven_settings)Set up credentials in Maven settings

To set up or update your credentials for Maven:

1.  Log into the chosen [regional Magnolia Nexus](#_regional_magnolia_repositories) with SSO.

2.  Access your *User Token* details from the user menu.
    See more: [Working with Your User Profile](https://help.sonatype.com/en/working-with-your-user-profile.html)

3.  If you have created a master password, encrypt your user token pass code:

    ```sh
    mvn --encrypt-password ${userTokenPassCode}
    ```

4.  Finally, store the token in the format shown here.

    ```xml
    <server>
      <id>magnolia.nexus.enterprise</id> (1)
      <!-- Token, not actual username / password -->
      <username>{userTokenNameCode}</username> (2)
      <password>{userTokenPassCode}</password> (3)
    </server>
    ```

    |     |     |
    | --- | --- |
    | **1** | The Magnolia enterprise Nexus repository. The id must match the repository id in your project POM or 'magnolia-repositories' profile in maven settings. |
    | **2** | Your name code user token from Nexus. |
    | **3** | Your pass code user token from Nexus. You may use your encrypted pass code token here. |


## [](#_regional_magnolia_repositories)Regional Magnolia repositories

Magnolia provides regional repositories for better performance:

-   EU: [nexus.magnolia-cms.com](https://nexus.magnolia-cms.com)

-   US: [nexus.us.magnolia-cms.com](https://nexus.us.magnolia-cms.com)

-   APAC: [nexus.ap.magnolia-cms.com](https://nexus.ap.magnolia-cms.com)


Choose the appropriate Magnolia Nexus regional URL for your environment.

## [](#_using_magnolia_maven_archetypes)Using Magnolia Maven archetypes

You need Maven to generate Magnolia project archetypes. To do so, add the following to your Maven settings.

settings.xml

```xml
<profiles>
  <profile>
    <id>magnolia-repositories</id>
    <activation>
      <activeByDefault>true</activeByDefault>
    </activation>
    <repositories>
      <!-- required for Magnolia Maven archetypes -->
      <repository>
        <id>magnolia.nexus.public</id>
        <url>https://nexus.magnolia-cms.com/repository/public</url>
      </repository>
    </repositories>
  </profile>
</profiles>
```

> **Note:** For more details, see Maven Archetypes and repositories.

Further reading

-   [Maven Getting Started Guide](http://maven.apache.org/guides/getting-started/index)

-   [Maven in 5 Minutes](http://maven.apache.org/guides/getting-started/maven-in-five-minutes.html)

-   [Introduction to POM](http://maven.apache.org/guides/introduction/introduction-to-the-pom).
