---
title: "Node types"
url: https://docs.magnolia-cms.com/product-docs/7.0/Administration/Architecture/Node-types/
category: Magnolia 6.4
version: latest
breadcrumb: DX Core > Administration > Architecture > Node types
---

# Node types

Magnolia stores data in a Java Content Repository. The repository is a hierarchical object database that is particularly well-suited for storing content. In a content management system you need to be able to store text, documents, images and other binary objects along with their metadata. The data is structured as a tree of nodes. Each node can have one or more types. The type defines what kind of properties the node has, the number and type of its child nodes, and its behavior.

Want to know more?

See [Jackrabbit Node Types](http://jackrabbit.apache.org/node-types.html) for more information and [Node Type Visualization](http://jackrabbit.apache.org/node-type-visualization.html) for a diagram of the node type hierarchy.

In Magnolia we define custom node types that define Magnolia’s custom content model. The JCR in turn enforces the constraints of that model at the repository level. If you need to reference JCR node types in your code, Jackrabbit’s [JcrConstants](http://jackrabbit.apache.org/api/2.14/org/apache/jackrabbit/JcrConstants) is useful. We provide constants also for Magnolia’s custom node types but also convenience methods.

For example, to update the last modification date of a node, use the `NodeTypes.LastModified.update(node)` convenience method. Magnolia node types are registered by the info.magnolia.jcr.util.NodeTypes class.

| Node type | Prefix | Notes |
| --- | --- | --- |
| JCR primary node type | `nt:` |  |
| Mixin node type | `mix:` |  |
| Magnolia node type | `mgnl:` | The `mgnl` prefix does not tell you whether the node is a primary node or a mixin. ** To find out which type a `mgnl` node is, check the [magnolia-nodetypes.cnd](https://gitlab.magnolia-platform.com/pd/platform/main/-/blob/master/magnolia-core/src/main/resources/mgnl-nodetypes/magnolia-nodetypes.cnd) file. | ** | To find out which type a `mgnl` node is, check the [magnolia-nodetypes.cnd](https://gitlab.magnolia-platform.com/pd/platform/main/-/blob/master/magnolia-core/src/main/resources/mgnl-nodetypes/magnolia-nodetypes.cnd) file. |
| ** | To find out which type a `mgnl` node is, check the [magnolia-nodetypes.cnd](https://gitlab.magnolia-platform.com/pd/platform/main/-/blob/master/magnolia-core/src/main/resources/mgnl-nodetypes/magnolia-nodetypes.cnd) file. |

## [](#_node_type_hierarchy)Node type hierarchy

In this simplified node type hierarchy diagram you can see what extends what. For example, `mgnl:page` extends `mgnl:versionable`. This means that page is an object you can version. In contrast, `mgnl:area` and `mgnl:component` are not versionable - they are subnodes that must be published together with the parent page. However, all three node types (page, area, component) are renderable which means you can [render a component on its own](../../../../RNs-6-4-3/Developing/Templating/Rendering-content/) without its parent page.

> **Tip:** See the magnolia-nodetypes.cnd file for a full view of the Magnolia node type hierarchy.

![Node type hierarchy](../../../../RNs-6-4-3/_images/node-type-hierarchy.png)

| Notation | Description |
| --- | --- |
| `nt:base` | The base type of all primary node types. |
| `nt:unstructured` | Unstructured node type that allows any properties and child nodes. |
| `nt:hierarchyNode` | Abstract base type for nodes in a structured node hierarchy. |
| `nt:file` | JCR representation of a file. |
| `nt:frozenNode` | This node type is used in the versioning system. |

| Notation | Description |
| --- | --- |
| `mix:referenceable` | Mixin type for referenceable nodes. Provides an auto-created `jcr:uuid` property that gives the node a unique identifier that can be referenced. |
| `mix:versionable` | Mixin type for versionable nodes. |
| `mix:lockable` | Enables locking capabilities for a node. |

## [](#_same_name_siblings_are_not_allowed)Same name siblings are not allowed

The Magnolia node type definition, [`magnolia-nodetypes.cnd`](https://gitlab.magnolia-platform.com/pd/platform/main/-/blob/master/magnolia-core/src/main/resources/mgnl-nodetypes/magnolia-nodetypes.cnd), does not allow same name siblings. This means that you cannot have two nodes at the same level in the node hierarchy with the same name.

Typically same name siblings is not an issue because Magnolia enforces the constraint automatically during normal usage. However, if prior to Magnolia `5.2` you imported an XML file that was created outside of Magnolia or was edited by hand, it is possible that the XML import created a same name sibling.

Use the `siblings.groovy` script to find same name siblings in your repository. The example below searches for identically named areas (`returnItemType` is `mgnl:area`) in the `website` workspace under the `/travel/about` page.

> **Tip:** See Groovy module for instructions on how to execute Groovy scripts.

siblings.groovy

```groovy
import info.magnolia.cms.util.QueryUtil;
import info.magnolia.cms.core.search.Query;
import info.magnolia.cms.core.Path;
import info.magnolia.jcr.util.NodeUtil;
import info.magnolia.context.MgnlContext;
import javax.jcr.Session;
import javax.jcr.Node;
import javax.jcr.NodeIterator;
import org.apache.commons.lang.StringUtils;
import java.util.LinkedList;
def siblings(workspace,path,returnItemType) { (1)
    query = "/jcr:root" + path + "//* order by @name"; (2)
    try {
        NodeIterator nodes = QueryUtil.search(workspace,query,Query.XPATH,returnItemType); (3)

        Session session = MgnlContext.getJCRSession(workspace);
        def siblings = [];
        while (nodes.hasNext()) {
            Node node = nodes.nextNode();
            nodePath = node.getPath();
            if (StringUtils.contains(nodePath,"[")) {
              println "found same name sibling of '${node.getName()}' at ${nodePath}";
              siblings.add(node);
            }
        }
        siblings.each {
            nodePath = node.getPath();
            newName = Path.getUniqueLabel(session,nodePath,node.getName());
            NodeUtil.renameNode(node,newName);
            println "${nodePath} was renamed to ${newName}";
        }
        session.save();
    } catch (Exception e) {
        println e;
    }
}
//example
siblings("website", "/travel/about", "mgnl:area");
```

|     |     |
| --- | --- |
| **1** | `workspace`: Any [Magnolia workspace](../../../../RNs-6-4-3/Administration/Architecture/Workspaces/). |
| **2** | `path`: A valid path in the workspace. `/` will search for everything under the workspace root. For example, `path=/travel/about`. |
| **3** | `returnItemType`: A valid JCR node type. The query goes through all node types but the results are filtered to the node type you specify. Use `nt:base` as a `wildcard`. |

| Notation | Description |
| --- | --- |
| `mgnl:category` | An object containing a [category](../../../../RNs-6-4-3/Modules/List-of-modules/Categorization-module/#_what_is_a_category) . Inherits from `mgnl:content` . |

## [](#_custom_node_types)Custom node types

To meet your needs you can define custom content types and with the Magnolia [Content Types module](../../../../../content-types/2.0.0/), you can define them (together with workspaces) in light modules too.

> **Tip:** Please read the page How to define JCR node types and workspaces, which provides an overview of all ways to define custom JCR node types and create new workspaces with Magnolia.
