---
title: "Connect to Fastly"
url: https://docs.magnolia-cms.com/paas/configuration/cache/connect-to-fastly/
category: DX Cloud
version: cloud
breadcrumb: DX Cloud > Cache > Connect to Fastly
---

# Connect to Fastly

Soon, you will be able to connect to [Fastly](https://www.fastly.com/) via the [Cockpit](../../../cockpit/sections/content-delivery/#_manage_cdn_domains). However, at the moment, you must manually connect to Fastly. This page provides instructions on how to do that.

## [](#_manually_connecting_to_fastly)Manually connecting to Fastly

Get the domain to connect to Fastly and configure it in the DNS server:

```none
www.example.com     IN  CNAME   dualstack.j.sni.global.fastly.net

example.com     IN  A   151.101.2.132
example.com     IN  A   151.101.66.132
example.com     IN  A   151.101.130.132
example.com     IN  A   151.101.194.132

example.com     IN  AAAA    2a04:4e42::644
example.com     IN  AAAA    2a04:4e42:200::644
example.com     IN  AAAA    2a04:4e42:400::644
example.com     IN  AAAA    2a04:4e42:600::644
```

## [](#_troubleshooting)Troubleshooting

In Magnolia DX Cloud, Fastly serves as the Content Delivery Network (CDN) to optimize performance, security, and delivery of your digital experiences. When configuring custom domains for your Magnolia instances, you may encounter errors during the registration process with Fastly.

This section provides guidance on common troubleshooting issues such as the "Domain already taken by another customer" error. We’ll explain the cause, best practices to avoid delays, and step-by-step instructions to resolve it, ensuring smoother domain management and faster resolution.

### [](#_domain_already_taken_by_another_customer)Domain already taken by another customer

Fastly enforces strict domain ownership rules to prevent unauthorized use, which is why transfers require proof of control. This is a Fastly-imposed procedure, not specific to Magnolia.

Sections

1.  [Avoid or mitigate the issue in advance](#_avoid_or_mitigate_the_issue_in_advance)

2.  [Error message](#_error_message)

3.  [Resolution](#_resolution)

4.  [Test and Validate](#_test_and_validate)


* * *

#### [](#_avoid_or_mitigate_the_issue_in_advance)Avoid or mitigate the issue in advance

Before starting configuration in Magnolia DX Cloud:

-   Verify if your domain is already tied to a Fastly account by attempting a test addition in a non-production Fastly service (if you have access) or consulting your IT team.

-   Use tools like WHOIS lookups or DNS query tools (e.g., `dig` or online DNS checkers) to confirm current records and ownership.

-   Budget 1-2 business days for a resolution, as it involves coordination with Fastly support.


If you have already encountered the "Domain already taken" error, follow the steps below to resolve it.

#### [](#_error_message)Error message

```sh
error configuring Fastly domain example.com:
400 * Bad Request:
    Title:  Bad Request
    Detail: Domain 'example.com' is already taken by another customer
    RateLimitRemaining: 964
    RateLimitReset:     1750111200
```

-   Cause

-   Impact in DX Cloud


This error occurs if the domain is already registered under another Fastly account.

Common scenarios include:

-   You have an existing direct Fastly subscription and is now transitioning to Magnolia’s managed Fastly service within DX Cloud.

-   The domain was previously associated with a different Fastly customer or service.

-   Subdomain conflicts where the root domain is owned elsewhere, but Fastly’s system flags it for ownership verification.


Domain configuration is crucial for live sites, SSL/TLS setup, and traffic routing. Delays can postpone go-live dates or disrupt updates. By following the steps below, you can minimize downtime and expedite the process.

#### [](#_resolution)Resolution

To reclaim or transfer the domain to your Magnolia DX Cloud-managed Fastly service:

1.  Confirm the error is indeed the "already taken" message.

2.  Note the exact domain and error details for your support ticket.

3.  Provide [Support](https://magnolia-cms.atlassian.net/servicedesk/customer/portal/13) with the following:

    -   The full error message.

    -   Proof of domain ownership (e.g., registrar details, WHOIS info).

    -   Your Magnolia DX Cloud project details.


4.  We will coordinate with Fastly to initiate the transfer.

    If you have direct Fastly access, you can contact Fastly Support separately, but coordinating through Magnolia ensures DX Cloud-specific alignment.


Fastly (via Magnolia Support) will provide a unique `TXT` verification token for you to add to your domain’s DNS.

1.  Log in to your domain registrar or DNS provider (e.g., GoDaddy, AWS Route 53, Cloudflare).

2.  Add a `TXT` record to your domain’s DNS settings:

    Example

    ```sh
    example.com TXT 300 "fastly-verify=abc123xyz"

    # Format
    example.com (1)
    TXT (2)
    3600 (3)
    "fastly-verify=" (4)
    ```

    |     |     |
    | --- | --- |
    | **1** | The domain. |
    | **2** | The type should be `TXT`. |
    | **3** | Set the TTL to a low value for quick propagation. |
    | **4** | The token provided by Fastly (e.g., `fastly-verify=abc123xyz`). |

3.  Save the changes and wait for DNS propagation. You can verify using `dig TXT example.com`.

4.  Notify support once added.


Once verified, Fastly will release the domain from the previous account and associate it with your Magnolia DX Cloud service.

> **Tip:** Remove the temporary TXT record after confirmation to keep your DNS clean.

#### [](#_test_and_validate)Test and Validate

1.  Go back to add the domain in Magnolia DX Cloud.

2.  Verify CDN functionality by checking caching, SSL provisioning, and traffic routing.
