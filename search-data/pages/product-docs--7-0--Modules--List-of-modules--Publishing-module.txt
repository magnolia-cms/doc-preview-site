---
title: "Publishing module"
url: https://docs.magnolia-cms.com/product-docs/7.0/Modules/List-of-modules/Publishing-module/
category: Magnolia 6.4
version: latest
breadcrumb: DX Core > Modules > Publishing module
---

# Publishing module

| Edition | CE |
| --- | --- |
| License | [MLA](https://www.magnolia-cms.com/mla.html) , [GPL](http://www.gnu.org/licenses/gpl-3.0.html) |
| Issues | [PUBLISHING](https://magnolia-cms.atlassian.net/browse/PUBLISHING) |
| Maven site | [Publishing](https://nexus.magnolia-cms.com/#browse/browse:public:info%2Fmagnolia%2Fpublishing%2Fmagnolia-publishing-core%2F{magnolia-publishing-64}) |
| Latest | {magnolia-publishing-64} |

| artifactID |  |
| --- | --- |
| `magnolia-publishing-parent` | Parent reactor. |
| `magnolia-publishing-core` | Provides the main functionality. |
| `magnolia-publishing-app` | Generates new publishing keys and provides a publishing monitor. |
| `magnolia-publishing-sender` | Handles send operations to the public instance. |
| `magnolia-publishing-receiver` | Handles receive requests on the public instance. |

## [](#_installing_with_maven)Installing with Maven

Maven is the easiest way to install the module. Add the following to your [bundle](../../../../RNs-6-4-3/Developing/Bundles-and-webapps/):

```xml
<dependency>
  <groupId>info.magnolia.publishing</groupId>
  <artifactId>magnolia-publishing-core</artifactId>
  <version>{magnolia-publishing-64}</version> (1)
</dependency>
```

|     |     |
| --- | --- |
| **1** | Should you need to specify the module version, do it using `<version>`. |

```xml
<dependency>
  <groupId>info.magnolia.publishing</groupId>
  <artifactId>magnolia-publishing-app</artifactId>
  <version>{magnolia-publishing-64}</version> (1)
</dependency>
```

|     |     |
| --- | --- |
| **1** | Should you need to specify the module version, do it using `<version>`. |

```xml
<dependency>
  <groupId>info.magnolia.publishing</groupId>
  <artifactId>magnolia-publishing-sender</artifactId>
  <version>{magnolia-publishing-64}</version> (1)
</dependency>
```

|     |     |
| --- | --- |
| **1** | Should you need to specify the module version, do it using `<version>`. |

```xml
<dependency>
  <groupId>info.magnolia.publishing</groupId>
  <artifactId>magnolia-publishing-receiver</artifactId>
  <version>{magnolia-publishing-64}</version> (1)
</dependency>
```

|     |     |
| --- | --- |
| **1** | Should you need to specify the module version, do it using `<version>`. |

| Node name | Value |
| --- | --- |
| ⸬ publicationByPathVoters |  |
| ⬩ op | OR |
| ⸬ config |  |
| ⬩ op | AND |
| ⸬ mgnlExchangeWorkspaceName |  |
| ⬩ pattern | config |
| ⬩ keyName | mgnlExchangeWorkspaceName |
| ⬩ class | info.magnolia.publishing.voter.MapKeyPatternVoter |
| ⸬ 1stAnd2ndLevelNodes |  |
| ⬩ op | OR |
| ⬩ class | info.magnolia.voting.voters.VoterSet |
| ⸬ mgnlExchangeParentPath |  |
| ⬩ pattern | `^\/[^\/]*$` |
| ⬩ keyName | mgnlExchangeParentPath |
| ⬩ class | info.magnolia.publishing.voter.MapKeyPatternVoter |
| ⸬ mgnlExchangePath |  |
| ⬩ pattern | `^\/[^\/]*(\/[^\/]*)?$` |
| ⬩ keyName | mgnlExchangePath |
| ⬩ class | info.magnolia.publishing.voter.MapKeyPatternVoter |
| ⸬ resources |  |
| ⸬ workspace |  |
| ⬩ pattern | resources |
| ⬩ keyName | mgnlExchangeWorkspaceName |
| ⬩ class | info.magnolia.publishing.voter.MapKeyPatternVoter |

## [](#_disabling_publishing)Disabling publishing

If necessary, you can disable publishing on the public instance(s) by adding the `enabled` node in **Configuration >** `/server/filters/publishing` and setting its value to `false`.

## [](#_publishing_on_the_author_instance)Publishing on the author instance

### [](#_collecting)Collecting

The `PublishingCommand` collects the content that needs to be (un)published. It then creates a new instance of `Sender` containing the collected content. The `Sender` component is responsible for content *packaging*. By default, only modified nodes are published.

Node collection for different publishing scenarios is outlined below.

-   Publication is [recursive](../../../../RNs-6-4-3/Administration/Architecture/Publishing/#_recursive_and_non_recursive_publishing):

    -   [itemsPerRequest](../../../../RNs-6-4-3/Administration/Architecture/Publishing/Publishing-performance/#_fewer_publication_requests_using_itemsperrequest) is set and if the number of child nodes is less than 1000: nodes are batched into chunks to improve publication speed (however, this does not work with versions).

    -   Publishing [versions](../../../../RNs-6-4-3/Authoring/Versioning/): node versions are collected, and nodes are ordered bottom-up for publishing.


-   Publication isn’t [recursive](../../../../RNs-6-4-3/Modules/List-of-modules/Publishing-module/#_publish_and_unpublish_commands) (Default):

    -   The current node is taken.

    -   Publishing a version: the node’s current version is taken.



> **Tip:** Large flat content repositories can negatively impact overall performance, particularly search. For this reason, you must organize pages into a folder hierarchy to ensure optimal performance. Also, features that constantly create content (such as messages, tasks, and versions) should be checked regularly to clean up old content.

### [](#_versioning)Versioning

Upon publication, all nodes are copied to the `magnolia-mgnlVersion` workspace on the author instance. Depending on how the [publication command chain](../../../../RNs-6-4-3/Developing/Commands/#_chaining_commands) is configured, the content is usually copied before [packaging](#_packaging) and [sending](#_sending). If no version command is present in the publication command chain, no versions are created. The `maxVersionIndex`, which defines [version limits](../../../../RNs-6-4-3/Authoring/Versioning/#_version_limits), is configured in `/server/versions` and affects the [number of versions](../../../../RNs-6-4-3/Apps/Developing-an-app/Specific-aspects/Enabling-versioning-in-content-apps/#_number_of_versions) stored in the `mgnlVersion` workspace.

### [](#_packaging)Packaging

A `Package` consists of properties and files that will be sent to the public instance. `Packages` are only used with a publication and are created by the `Packager`, which adds the properties and `XML` exports of the content to a `Package`.

### [](#_sending)Sending

The `Sender` creates an instance of `SenderOperation` and passes either a `Package` or a `Node` to the instance, together with a `ReceiverDefinition`. Whether a package or node is passed depends on the action involved.

-   `Package` upon publication

-   `Node` when unpublishing content


The `SendOperation` executes the transfer to the public instance.

## [](#_publishing_on_the_public_instance)Publishing on the public instance

### [](#_receiving)Receiving

The `PublicationFilter` receives a sender’s request. The request is then sent to the `Dispatcher` which decides what to do with the request depending on the request headers. The `Dispatcher` extracts the data from the request and creates a `ReceiveOperation` responsible for creating/updating/deleting the content.

### [](#_ordering_of_siblings)Ordering of siblings

Published nodes are included before the nearest next sibling existing on all author and public instances. The order of siblings of the published node on public instances isn’t otherwise affected.

Go to the [optimize ordering](../../../../RNs-6-4-3/Administration/Architecture/Publishing/Publishing-performance/#_optimizing_ordering_on_the_public_instance) section for more information on adapting the ordering to fulfill your needs.

> **Note:** This default behavior doesn’t take into account the order at any other point in time (such as the time of creating the published version).

### [](#_rollback)Rollback

The `magnolia-mgnlSystem` workspace is used on public instances in case rollback is necessary if publication failure occurs. Existing published content is copied there before new content is published to the target workspace (for example, `website`). In case of failure, rollback is initiated, copying content from `mgnlSystem` back to the target workspace.

## [](#_troubleshooting)Troubleshooting

-   [Instances aren’t in sync](../../../../RNs-6-4-3/Administration/Troubleshooting/Instances-are-not-in-sync/)

-   [Invalid receiver](../../../../RNs-6-4-3/Administration/Troubleshooting/Invalid-receiver/)

-   [Publishing errors](../../../../RNs-6-4-3/Administration/Troubleshooting/Publishing-issues/)


Related topics

-   [Publishing overview](../../../../RNs-6-4-3/Administration/Architecture/Publishing/)

-   [Publishing Transactional module](../../../../RNs-6-4-3/Modules/List-of-modules/Publishing-Transactional-module/)

-   [Publishing Tools app](../../../../RNs-6-4-3/Apps/List-of-apps/Publishing-Tools-app/)

-   [Receivers](../../../../RNs-6-4-3/Administration/Instances/Receivers/)

-   [Publishing security](../../../../RNs-6-4-3/Administration/Security/Publishing-security/)
