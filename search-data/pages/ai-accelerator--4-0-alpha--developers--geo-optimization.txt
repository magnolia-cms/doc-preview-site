---
title: "Configure GEO optimization"
url: https://docs.magnolia-cms.com/ai-accelerator/4.0-alpha/developers/geo-optimization/
category: Modules
version: modules
breadcrumb: AI Accelerator module > GEO optimization
---

# Configure GEO optimization

Generates AI-optimized structured data for Generative Engine Optimization (GEO), including JSON-LD schema, voice summaries, FAQs, and entity mentions to improve visibility in AI search engines and voice assistants.

> **Note:** Supports multilingual sites and automatically detects content changes to optimize API usage.

## [](#_activation)Activation

Activate the GEO optimization feature by configuring your Pages app and adding the necessary fields to your page dialogs.

### [](#_add_the_action_to_pages_app)Add the action to Pages app

1.  Go to the `<light-module-folder>/<light-module-name>/decorations/pages-app/apps/pages-app.yaml` file in your project.

2.  Add the `optimizeGEO` action to the Pages app:

    `<light-module-folder>/<light-module-name>/decorations/pages-app/apps/pages-app.yaml`

    ```yaml
    subApps:
      detail:
        actions:
          optimizeGEO:
            label: Optimize GEO
            icon: icon-action
            $type: jcrCommandAction
            command: execute-task
            catalog: ai-accelerator
            params:
              taskId: ai-accelerator-core:optimizeGEO
            availability:
              rules:
                notDeleted:
                  $type: jcrIsDeletedRule
                  negate: true
        actionbar:
          sections:
            pageActions:
              groups:
                edit:
                  items:
                    - name: optimizeGEO
    ```


### [](#_add_geo_fields_to_page_dialogs)Add GEO fields to page dialogs

1.  Add the composite field to your page dialog configuration:

    `<light-module-folder>/<light-module-name>/dialogs/pages/<dialog>.yaml`

    ```yaml
    form:
      properties:
        geo:
          label: GEO Optimization (AI Search)
          $type: compositeField
          properties:
            jsonLD:
              label: JSON-LD Structured Data
              $type: textField
              rows: 10
              description: Schema.org structured data for AI search engines (auto-generated)
            speakableSummary:
              label: Voice Summary
              $type: textField
              rows: 3
              description: Concise summary (40-60 words) for voice assistants (auto-generated)
            faqs:
              label: FAQs (JSON)
              $type: textField
              rows: 8
              description: JSON array of FAQ objects with question/answer pairs (auto-generated)
            mentions:
              label: Mentions (Secondary Entities)
              $type: textField
              rows: 4
              description: JSON array of secondary entities with name and Wikipedia URL (auto-generated)

      layout:
        $type: tabbedLayout
        tabs:
          geo:
            label: GEO
            fields:
              - name: geo
    ```


### [](#_render_geo_data_in_templates)Render GEO data in templates

Add GEO structured data to your page template’s `<head>` section (typically in a shared header include).

1.  Add the following code to your page template’s `<head>` section:

    `<light-module-folder>/<light-module-name>/templates/includes/htmlHeader.ftl`

    ```freemarker
    [#-- GEO/AEO Optimization: Render structured data for AI search engines --]
    [#assign geo = content.geo!]

    [#if geo?has_content]
        [#-- Voice Summary Meta Tag for AI assistants --]
        [#if geo.speakableSummary?has_content]
            <meta name="ai-voice-summary" content="${geo.speakableSummary?html}">
        [/#if]

        [#-- JSON-LD Structured Data --]
        [#if geo.jsonLD?has_content]
            <script type="application/ld+json">
    ${geo.jsonLD}
            </script>
        [/#if]
    [/#if]
    ```


| Parameter | Description |
| --- | --- |
| `maxContentLength` | **Optional** ; default: `8000` Maximum characters of content to extract for AI processing (prioritized by SEO relevance). |
| `targetFieldName` | **Optional** ; default: `jsonLD` Field name for storing the generated JSON-LD structured data. |
| `speakableFieldName` | **Optional** ; default: `speakableSummary` Field name for storing the voice summary. |
| `faqFieldName` | **Optional** ; default: `faqs` Field name for storing the FAQ data. |
| `mentionsFieldName` | **Optional** ; default: `mentions` Field name for storing entity mentions. |
| `forceRegenerate` | **Optional** ; default: `false` Skip content change detection and force regeneration. |

## [](#_configure_target_fields)Configure target fields

The task automatically detects field paths by analyzing your page dialog schema. You can customize the default field names in the task configuration to match your dialog structure.

For composite fields, the task saves data to the appropriate subnode. For example, if fields are defined within a composite field named `geo`, the generated data is saved to the `geo` subnode.

## [](#_configure_content_extraction)Configure content extraction

By default, content is extracted in SEO priority order. You can control how content is extracted by adjusting the `maxContentLength` parameter and understanding the content prioritization order.

Content is extracted in the following order:

1.  Meta data (title, description, keywords)

2.  H1 headings

3.  H2 headings

4.  H3 headings

5.  H4 headings

6.  H5 headings

7.  Remaining text content


By default, a maximum of 8000 characters are extracted for AI processing. You can adjust this value using the `maxContentLength` parameter.

## [](#_output)Output

The task generates the following structured data for your page:

### [](#_json_ld_structured_data)JSON-LD structured data

A complete Schema.org JSON-LD script containing:

-   `WebPage` schema with:

    -   `speakable` specification pointing to the voice summary

    -   `about` - Primary entity (main topic) with name and Wikipedia URL

    -   `mentions` - Secondary entities with Wikipedia URLs


-   `FAQPage` schema with 2-3 Q&A pairs


### [](#_voice_summary)Voice summary

A concise 40-60 word summary optimized for:

-   Voice assistants (Alexa, Google Assistant, Siri)

-   AI search engines (Google SGE, Bing Chat, Perplexity)

-   Text-to-speech readability


### [](#_faqs)FAQs

A JSON array of 2-3 FAQ objects:

```json
[
  {"question": "What is GEO?", "answer": "GEO stands for..."},
  {"question": "How does it work?", "answer": "It analyzes..."}
]
```

### [](#_mentions)Mentions

A JSON array of secondary entities:

```json
[
  {"name": "Content Management System", "sameAs": "https://en.wikipedia.org/wiki/Content_management_system"},
  {"name": "Search Engine Optimization", "sameAs": "https://en.wikipedia.org/wiki/Search_engine_optimization"}
]
```

## [](#_content_change_detection)Content change detection

The task calculates a content hash to detect changes in page content. If the content hasn’t changed since the last generation, the task skips regeneration to save API costs.

To force regeneration of GEO data, either modify the page content or set the `forceRegenerate` parameter to `true` in your task configuration.
