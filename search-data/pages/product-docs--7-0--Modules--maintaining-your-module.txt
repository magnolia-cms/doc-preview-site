---
title: "Maintaining your module"
url: https://docs.magnolia-cms.com/product-docs/7.0/Modules/maintaining-your-module/
category: Magnolia 6.4
version: latest
breadcrumb: DX Core > Modules > Maintaining your module
---

# Maintaining your module

Magnolia’s module mechanism facilitates smooth version changes. The idea is that an upgrade or update should be as easy as replacing a module JAR. Magnolia uses the version handler to determine which tasks should be executed. On each startup of Magnolia, the version handler provides a list of [deltas](#_execute_delta_tasks).

The info.magnolia.module.ModuleVersionHandler interface is a special class which contains a series of tasks (deltas) which are executed during installation or during specific updates.

> **Note:** If your module needs to handle its own installation and updates, you should provide an implementation of this interface.

| Task | Description |
| --- | --- |
| `info.magnolia.module.delta.SetupModuleRepositoriesTask` | Bootstraps empty repositories defined in the module descriptor, grants them to the `superuser` and subscribes them so that activation can be used. |
| `info.magnolia.module.delta.ModuleBootstrapTask` | Bootstraps the necessary module repository content which is provided as multiple XML-export files under `/mgnl-bootstrap/<moduleName>` . |
| `info.magnolia.module.delta.SamplesBootstrapTask` | Bootstraps the module’s sample repository content which is provided as multiple XML-export files under `/mgnl-bootstrap-samples/<moduleName>.` |
| `info.magnolia.module.delta.ModuleFilesExtraction` | Copies all files under `mgnl-files` which includes the module name as a directory to the web application folder, preserving the path. |
| `info.magnolia.module.delta.RegisterModuleServletsTask` | Registers the necessary servlets for the module. |

## [](#_node_builder_api)Node builder API

The info.magnolia.jcr.nodebuilder.NodeBuilder is commonly used in update tasks.

Here’s a snippet from info.magnolia.module.templatingkit.setup.STKModuleVersionHandle that demonstrates its use:

```java
register(DeltaBuilder.update("2.0.1", "")
   .addTask(new NodeBuilderTask("Add editable property to stkSection page", "Adds and sets editable property to true for sectionHeader area on stkSection pages.", ErrorHandling.logging, RepositoryConstants.CONFIG, "/modules/standard-templating-kit/templates/pages/stkSection/areas", (1)
       getNode("sectionHeader").then(
           addProperty("editable", Boolean.TRUE)
       )
   ))
   .addTask(new NodeBuilderTask("Add editable property to areas", "Adds and sets editable property to false on sectionHeader, footer and metaNavigation.", ErrorHandling.logging, RepositoryConstants.CONFIG, "/modules/standard-templating-kit/config/site/templates/prototype/areas", (2)
       getNode("sectionHeader").then(
           addProperty("editable", Boolean.FALSE)
       ),
       getNode("footer").then(
           addProperty("editable", Boolean.FALSE)
       ),
       getNode("branding/areas/metaNavigation").then(
               addProperty("editable", Boolean.FALSE)
       )
   ))
 );
```

|     |     |
| --- | --- |
| **1** | Here, a task is added to add the `editable` property to the `sectionHeader`. |
| **2** | Here, a task is added to add the `editable` property to the `sectionHeader`, `footer`, and the `branding/areas/metaNavigation`. |

## [](#_module_descriptor_properties)Module descriptor properties

Properties in the module descriptor can be used to define values for install tasks.

### [](#_option_1_installcontext)Option 1: InstallContext

You can get the current module descriptor from `InstallContext`:

```java
installContext.getCurrentModuleDefinition().getProperty(PROPNAME);
```

### [](#_options_2_magnoliaconfigurationproperties)Options 2: MagnoliaConfigurationProperties

The properties defined in the module descriptor are included in your Magnolia system properties as well, so you might want to use the `SystemProperty` class instead:

```java
SystemProperty.getProperty(PROPNAME, "default");
```
