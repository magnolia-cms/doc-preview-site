---
title: "commercetools extension configuration"
url: https://docs.magnolia-cms.com/ecommerce/config/config-commercetools/
category: Modules
version: modules
breadcrumb: E-commerce module > commercetools extension configuration
---

# commercetools extension configuration

Commerce Unbundled: [Extension](../../../product-docs/RNs-6-4-3/Modules/#_module_types) License: [Special license](../../../product-docs/RNs-6-4-3/Administration/License/#_special_licenses){frameworks-and-extensions-license-note}

To create or edit the configuration, [decorate](../../../product-docs/RNs-6-4-3/Developing/Definition-decoration/) the extension under `/<light-module>/decorations/commercetools/ecommerces/commercetools.yaml`.

## [](#_licensing)Licensing

The associated framework is included with your DX Core license and is free of charge. However, this extension is paid and requires an additional [special license](../../../product-docs/RNs-6-4-3/Administration/License/).

| Property | Description |
| --- | --- |
| `class` | **required** `info.magnolia.ecommerce.common.EcommerceDefinition` |
| `type` | **required** Your e-commerce solution: `commercetools` |
| `enabled` | **required** `true` or `false` |
| `connections` |  |
| `connectionName` |  |
| `authUrl` | **required** Authentication URL. |
| `baseUrl` | **required** Base URL. |
| `enabled` | **required** Shows if the connection is enabled or not: `true` or `false` |
| `parameters` |  |
| `clientId` | **required** Username for commercetools. |
| `clientSecret` | **required** Client secret for commercetools or the path to the Magnolia password manager. |
| `apiUrl` | **required** API URL. |
| `projectKey` | **required** The `project_key` from commercetools. |
| `limit` []() | **optional** Set your own query limit. ** If the `limit` property is not explicitly set in your configuration file, it defaults to [commercetools API query limit](https://docs.commercetools.com/api/limits#queries) . | ** | If the `limit` property is not explicitly set in your configuration file, it defaults to [commercetools API query limit](https://docs.commercetools.com/api/limits#queries) . |
| ** | If the `limit` property is not explicitly set in your configuration file, it defaults to [commercetools API query limit](https://docs.commercetools.com/api/limits#queries) . |
| `locale` []() | **optional** The locale used for product/category names or descriptions. • `en` : ENGLISH • `fr` : FRENCH • `de` : GERMAN • `it` : ITALIAN • `ja` : JAPANESE • `ko` : KOREAN • `zh` : CHINESE How does this work? If the `locale` parameter is configured, then the parameter value is used if it exists in the list of locales from the API. If the value does not exist in the API list, then the first available alternative is returned instead. If the `locale` parameter is *not* configured, then the `en` locale is used by default. If the `en` locale does not exist in the API list, then the first available alternative is returned instead. |

## [](#_viewing_and_testing_connections)Viewing and testing connections

This section explains how to view and test the connection between the Magnolia E-commerce add-on module and your external commerce solution using the [E-commerce app](../../ecommerce-app/).

1.  Open the E-commerce app **Configuration** tab.

2.  Select a connection.

3.  Click **View** to see the details of your connection to an external e-commerce solution.

    ![View connection dialog](../../_images/6-1-ecom-view-connection-dialog.png)


Depending on your external e-commerce solution, the connection information displayed may be:

-   **Definition name** - The unique definition name. This name appears in the Catalogs subapp.

-   **Connection name** - The unique name for the connection configured.

-   **E-commerce type** - The type of external e-commerce solution you are connected to.

-   **Authentication URL** - Authentication URL for the solution you are connected to.

-   **Base URL** - Base URL for the solution you are connected to.

-   **Username** and **Password** - Credentials to access the external solution. Passwords or client secrets can be managed in the [Passwords app](../../../product-docs/RNs-6-4-3/Apps/List-of-apps/Passwords-app/).

-   **Connection enabled** - Shows if the connection is enabled or not. You may choose to disable the configuration, for example, to improve performance times or to test a connection in one environment before enabling it in another.


Click **Test connection** to check the connection configuration is correct. A message appears indicating if the test is successful or not.

Once you’ve tested your connection, go to the E-commerce tab. You can see the connections you have configured listed with the catalogs they contain.

| Property | Description |
| --- | --- |
| `images` | **required** |
| `label` | **optional** Field label displayed to editors. The value can be literal or a [key](../../../product-docs/RNs-6-4-3/Administration/Language/Internationalization/) of a [message bundle](../../../product-docs/RNs-6-4-3/Administration/Language/Internationalization/) . If you do not provide the property, Magnolia will fall back to a generated i18n key. If you do not want a label at all, define the property and set its value to a blank space such as `label: " "` in YAML. |
| `$type` | **required** Field type: • `multipleImageField` displays all images for the product (use with `URLsToStrings` converter). • `URLImageField` displays only the first image for the product (use with `ListOfURLsToString` converter). |
| `converterClass` | **required** `info.magnolia.ecommerce.app.productdetail.field.URLsToStrings` converts all images for the product. `info.magnolia.ecommerce.app.productdetail.field.ListOfURLsToString` converts only the first image for the product. |
| `imageRatio` | **optional** Defines the ratio of displayed images to the original images in percentage. In the example above, the value `60` is 60% of the original image size. If the property isn’t set, the images are displayed in their original size. |

## [](#_configure_the_maximum_number_of_items_in_api_responses)Configure the maximum number of items in API responses

E-commerce module 2.0.3 introduces the info.magnolia.ecommerce.common.LimitProvider interface to define the maximum number of items that can be retrieved in a single REST endpoint request from an e-commerce API.

The default limit is set to `20` in the `getDefaultLimit()` method. Each Commerce integration framework extension has it’s own default limit, which is the maximum batch size allowed by that platform’s API.

For the commercetools extension, the info.magnolia.ecommerce.commercetools.common.CommercetoolsLimitProvider is set to `500` by default.

To configure, decorate the extension configuration to add `limitProvider` under the `implementation` node:

/commercetools/ecommerces/commercetools.yaml

```yaml
class: info.magnolia.ecommerce.common.EcommerceDefinition
type: commercetools
enabled: true
implementation:
  products:
    all: info.magnolia.ecommerce.commercetools.products.All
    byId: info.magnolia.ecommerce.commercetools.products.ById
    byCategoryId: info.magnolia.ecommerce.commercetools.products.ByCategoryId
    searchByText: info.magnolia.ecommerce.commercetools.products.SearchByText
  categories:
    all: info.magnolia.ecommerce.commercetools.categories.All
    byId: info.magnolia.ecommerce.commercetools.categories.ById
    byParentCategoryId: info.magnolia.ecommerce.commercetools.categories.ByParentCategoryId
    byProductId: info.magnolia.ecommerce.commercetools.categories.ByProductId
  connectionValidator: info.magnolia.ecommerce.commercetools.common.CommercetoolsConnectionValidator
  limitProvider: info.magnolia.ecommerce.commercetools.common.CommercetoolsLimitProvider (1)
```

|     |     |
| --- | --- |
| **1** | Add the `limitProvider` for your e-commerce extension. |

> **Note:** You can’t change the default limitProvider value set.
